import{bD as createComponent,c as computed,aw as h,f as getCurrentInstance,aJ as onBeforeUnmount,bT as History,w as watch,h as onMounted,n as nextTick,bU as client,bS as listenOpts,bQ as stopAndPrevent,bV as getEventPath,aL as onDeactivated,bW as Platform,r as ref,bL as isKeyCode,d as dist$1,bX as defineStore,a as bufferPolyfill,bY as fromByteArray_1,bZ as toByteArray_1}from"./index.ca3a514a.js";import{h as hSlot,a as hUniqueSlot}from"./render.3fdb55c8.js";import{v as vmHasRouter,g as getElement,c as css,b as vmIsDestroyed,u as useRouterLinkProps,d as useRouterLink}from"./QBtn.897c4e78.js";import{v as bs58$2,S as SendTransactionError,C as Connection,w as index_browser_esm,x as bn,y as BN,P as PublicKey,z as SYSVAR_RENT_PUBKEY,A as SystemProgram,D as SYSVAR_CLOCK_PUBKEY,r as useWallet,T as Transaction,E as TransactionInstruction,N as NONCE_ACCOUNT_LENGTH,F as EventEmitter,L as Layout$2,G as browser}from"./solana-wallets-vue.e6bb8111.js";import{g as getAugmentedNamespace,c as commonjsGlobal,a as getDefaultExportFromCjs}from"./_commonjsHelpers.2cf1d77b.js";var QItemLabel=createComponent({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=computed(()=>parseInt(e.lines,10)),r=computed(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),a=computed(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>h("div",{style:a.value,class:r.value},hSlot(t.default))}});const useDarkProps={dark:{type:Boolean,default:null}};function useDark(e,t){return computed(()=>e.dark===null?t.dark.isActive:e.dark)}var QList=createComponent({name:"QList",props:{...useDarkProps,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=getCurrentInstance(),r=useDark(e,n.proxy.$q),a=computed(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>h(e.tag,{class:a.value},hSlot(t.default))}});function useHistory(e,t,n){let r;function a(){r!==void 0&&(History.remove(r),r=void 0)}return onBeforeUnmount(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){r={condition:()=>n.value===!0,handler:t},History.add(r)}}}const useModelToggleProps={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},useModelToggleEmits=["beforeShow","show","beforeHide","hide"];function useModelToggle({showing:e,canShow:t,hideOnRouteChange:n,handleShow:r,handleHide:a,processOnMount:i}){const s=getCurrentInstance(),{props:l,emit:b,proxy:f}=s;let u;function d(w){e.value===!0?_(w):m(w)}function m(w){if(l.disable===!0||w!==void 0&&w.qAnchorHandled===!0||t!==void 0&&t(w)!==!0)return;const M=l["onUpdate:modelValue"]!==void 0;M===!0&&(b("update:modelValue",!0),u=w,nextTick(()=>{u===w&&(u=void 0)})),(l.modelValue===null||M===!1)&&p(w)}function p(w){e.value!==!0&&(e.value=!0,b("beforeShow",w),r!==void 0?r(w):b("show",w))}function _(w){if(l.disable===!0)return;const M=l["onUpdate:modelValue"]!==void 0;M===!0&&(b("update:modelValue",!1),u=w,nextTick(()=>{u===w&&(u=void 0)})),(l.modelValue===null||M===!1)&&S(w)}function S(w){e.value!==!1&&(e.value=!1,b("beforeHide",w),a!==void 0?a(w):b("hide",w))}function A(w){l.disable===!0&&w===!0?l["onUpdate:modelValue"]!==void 0&&b("update:modelValue",!1):w===!0!==e.value&&(w===!0?p:S)(u)}watch(()=>l.modelValue,A),n!==void 0&&vmHasRouter(s)===!0&&watch(()=>f.$route.fullPath,()=>{n.value===!0&&e.value===!0&&_()}),i===!0&&onMounted(()=>{A(l.modelValue)});const E={show:m,hide:_,toggle:d};return Object.assign(f,E),E}const scrollTargets=[null,document,document.body,document.scrollingElement,document.documentElement];function getScrollTarget(e,t){let n=getElement(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return scrollTargets.includes(n)?window:n}function getVerticalScrollPosition(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function getHorizontalScrollPosition(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function animVerticalScrollTo(e,t,n=0){const r=arguments[3]===void 0?performance.now():arguments[3],a=getVerticalScrollPosition(e);if(n<=0){a!==t&&setScroll(e,t);return}requestAnimationFrame(i=>{const s=i-r,l=a+(t-a)/Math.max(s,n)*s;setScroll(e,l),l!==t&&animVerticalScrollTo(e,t,n-s,i)})}function animHorizontalScrollTo(e,t,n=0){const r=arguments[3]===void 0?performance.now():arguments[3],a=getHorizontalScrollPosition(e);if(n<=0){a!==t&&setHorizontalScroll(e,t);return}requestAnimationFrame(i=>{const s=i-r,l=a+(t-a)/Math.max(s,n)*s;setHorizontalScroll(e,l),l!==t&&animHorizontalScrollTo(e,t,n-s,i)})}function setScroll(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function setHorizontalScroll(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function setVerticalScrollPosition(e,t,n){if(n){animVerticalScrollTo(e,t,n);return}setScroll(e,t)}function setHorizontalScrollPosition(e,t,n){if(n){animHorizontalScrollTo(e,t,n);return}setHorizontalScroll(e,t)}let size;function getScrollbarWidth(){if(size!==void 0)return size;const e=document.createElement("p"),t=document.createElement("div");css(e,{width:"100%",height:"200px"}),css(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),size=n-r,size}function hasScrollbar(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let registered=0,scrollPositionX,scrollPositionY,maxScrollTop,vpPendingUpdate=!1,bodyLeft,bodyTop,href,closeTimer=null;function onWheel(e){shouldPreventScroll(e)&&stopAndPrevent(e)}function shouldPreventScroll(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=getEventPath(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=n||r?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const s=t[i];if(hasScrollbar(s,r))return r?a<0&&s.scrollTop===0?!0:a>0&&s.scrollTop+s.clientHeight===s.scrollHeight:a<0&&s.scrollLeft===0?!0:a>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function onAppleScroll(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function onAppleResize(e){vpPendingUpdate!==!0&&(vpPendingUpdate=!0,requestAnimationFrame(()=>{vpPendingUpdate=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(maxScrollTop===void 0||t!==window.innerHeight)&&(maxScrollTop=n-t,document.scrollingElement.scrollTop=r),r>maxScrollTop&&(document.scrollingElement.scrollTop-=Math.ceil((r-maxScrollTop)/8))}))}function apply(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:a}=window.getComputedStyle(t);scrollPositionX=getHorizontalScrollPosition(window),scrollPositionY=getVerticalScrollPosition(window),bodyLeft=t.style.left,bodyTop=t.style.top,href=window.location.href,t.style.left=`-${scrollPositionX}px`,t.style.top=`-${scrollPositionY}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,client.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",onAppleResize,listenOpts.passiveCapture),window.visualViewport.addEventListener("scroll",onAppleResize,listenOpts.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",onAppleScroll,listenOpts.passiveCapture))}client.is.desktop===!0&&client.is.mac===!0&&window[`${e}EventListener`]("wheel",onWheel,listenOpts.notPassive),e==="remove"&&(client.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",onAppleResize,listenOpts.passiveCapture),window.visualViewport.removeEventListener("scroll",onAppleResize,listenOpts.passiveCapture)):window.removeEventListener("scroll",onAppleScroll,listenOpts.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=bodyLeft,t.style.top=bodyTop,window.location.href===href&&window.scrollTo(scrollPositionX,scrollPositionY),maxScrollTop=void 0)}function preventScroll(e){let t="add";if(e===!0){if(registered++,closeTimer!==null){clearTimeout(closeTimer),closeTimer=null;return}if(registered>1)return}else{if(registered===0||(registered--,registered>0))return;if(t="remove",client.is.ios===!0&&client.is.nativeMobile===!0){closeTimer!==null&&clearTimeout(closeTimer),closeTimer=setTimeout(()=>{apply(t),closeTimer=null},100);return}}apply(t)}function usePreventScroll(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,preventScroll(t))}}}function useTimeout(){let e=null;const t=getCurrentInstance();function n(){e!==null&&(clearTimeout(e),e=null)}return onDeactivated(n),onBeforeUnmount(n),{removeTimeout:n,registerTimeout(r,a){n(),vmIsDestroyed(t)===!1&&(e=setTimeout(r,a))}}}function clearSelection(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Platform.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}var QItemSection=createComponent({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=computed(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>h("div",{class:n.value},hSlot(t.default))}}),QItem=createComponent({name:"QItem",props:{...useDarkProps,...useRouterLinkProps,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:r}}=getCurrentInstance(),a=useDark(e,r),{hasLink:i,linkAttrs:s,linkClass:l,linkTag:b,navigateOnClick:f}=useRouterLink(),u=ref(null),d=ref(null),m=computed(()=>e.clickable===!0||i.value===!0||e.tag==="label"),p=computed(()=>e.disable!==!0&&m.value===!0),_=computed(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?l.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),S=computed(()=>{if(e.insetLevel===void 0)return null;const M=r.lang.rtl===!0?"Right":"Left";return{["padding"+M]:16+e.insetLevel*56+"px"}});function A(M){p.value===!0&&(d.value!==null&&(M.qKeyEvent!==!0&&document.activeElement===u.value?d.value.focus():document.activeElement===d.value&&u.value.focus()),f(M))}function E(M){if(p.value===!0&&isKeyCode(M,[13,32])===!0){stopAndPrevent(M),M.qKeyEvent=!0;const T=new MouseEvent("click",M);T.qKeyEvent=!0,u.value.dispatchEvent(T)}n("keyup",M)}function w(){const M=hUniqueSlot(t.default,[]);return p.value===!0&&M.unshift(h("div",{class:"q-focus-helper",tabindex:-1,ref:d})),M}return()=>{const M={ref:u,class:_.value,style:S.value,role:"listitem",onClick:A,onKeyup:E};return p.value===!0?(M.tabindex=e.tabindex||"0",Object.assign(M,s.value)):m.value===!0&&(M["aria-disabled"]="true"),h(b.value,M,w())}}}),_a$1;const isBrowser$1={}.ANCHOR_BROWSER||typeof window<"u"&&!(!((_a$1=window.process)===null||_a$1===void 0)&&_a$1.hasOwnProperty("type")),isVersionedTransaction=e=>"version"in e;function encode$4(e){return bs58$2.encode(e)}class StructError extends TypeError{constructor(t,n){let r;const{message:a,...i}=t,{path:s}=t,l=s.length===0?a:"At path: "+s.join(".")+" -- "+a;super(l),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var b;return(b=r)!=null?b:r=[t,...n()]}}}function isIterable(e){return isObject(e)&&typeof e[Symbol.iterator]=="function"}function isObject(e){return typeof e=="object"&&e!=null}function print(e){return typeof e=="string"?JSON.stringify(e):""+e}function shiftIterator(e){const{done:t,value:n}=e.next();return t?void 0:n}function toFailure(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:a,branch:i}=t,{type:s}=n,{refinement:l,message:b="Expected a value of type `"+s+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+print(r)+"`"}=e;return{value:r,type:s,refinement:l,key:a[a.length-1],path:a,branch:i,...e,message:b}}function*toFailures(e,t,n,r){isIterable(e)||(e=[e]);for(const a of e){const i=toFailure(a,t,n,r);i&&(yield i)}}function*run(e,t,n){n===void 0&&(n={});const{path:r=[],branch:a=[e],coerce:i=!1,mask:s=!1}=n,l={path:r,branch:a};if(i&&(e=t.coercer(e,l),s&&t.type!=="type"&&isObject(t.schema)&&isObject(e)&&!Array.isArray(e)))for(const f in e)t.schema[f]===void 0&&delete e[f];let b=!0;for(const f of t.validator(e,l))b=!1,yield[f,void 0];for(let[f,u,d]of t.entries(e,l)){const m=run(u,d,{path:f===void 0?r:[...r,f],branch:f===void 0?a:[...a,u],coerce:i,mask:s});for(const p of m)p[0]?(b=!1,yield[p[0],void 0]):i&&(u=p[1],f===void 0?e=u:e instanceof Map?e.set(f,u):e instanceof Set?e.add(u):isObject(e)&&(e[f]=u))}if(b)for(const f of t.refiner(e,l))b=!1,yield[f,void 0];b&&(yield[void 0,e])}class Struct{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:a,refiner:i,coercer:s=b=>b,entries:l=function*(){}}=t;this.type=n,this.schema=r,this.entries=l,this.coercer=s,a?this.validator=(b,f)=>{const u=a(b,f);return toFailures(u,f,this,b)}:this.validator=()=>[],i?this.refiner=(b,f)=>{const u=i(b,f);return toFailures(u,f,this,b)}:this.refiner=()=>[]}assert(t){return assert$3(t,this)}create(t){return create(t,this)}is(t){return is(t,this)}mask(t){return mask(t,this)}validate(t,n){return n===void 0&&(n={}),validate(t,this,n)}}function assert$3(e,t){const n=validate(e,t);if(n[0])throw n[0]}function create(e,t){const n=validate(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function mask(e,t){const n=validate(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function is(e,t){return!validate(e,t)[0]}function validate(e,t,n){n===void 0&&(n={});const r=run(e,t,n),a=shiftIterator(r);if(a[0])return[new StructError(a[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0];{const i=a[1];return[void 0,i]}}function define$5(e,t){return new Struct({type:e,schema:null,validator:t})}function any(){return define$5("any",()=>!0)}function array(e){return new Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+print(t)}})}function boolean(){return define$5("boolean",e=>typeof e=="boolean")}function literal(e){const t=print(e),n=typeof e;return new Struct({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||"Expected the literal `"+t+"`, but received: "+print(r)}})}function nullable(e){return new Struct({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function number(){return define$5("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+print(e))}function optional(e){return new Struct({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function string(){return define$5("string",e=>typeof e=="string"||"Expected a string, but received: "+print(e))}function type(e){const t=Object.keys(e);return new Struct({type:"type",schema:e,*entries(n){if(isObject(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return isObject(n)||"Expected an object, but received: "+print(n)}})}function union$1(e){const t=e.map(n=>n.type).join(" | ");return new Struct({type:"union",schema:null,coercer(n,r){return(e.find(i=>{const[s]=i.validate(n,{coerce:!0});return!s})||unknown()).coercer(n,r)},validator(n,r){const a=[];for(const i of e){const[...s]=run(n,i,r),[l]=s;if(l[0])for(const[b]of s)b&&a.push(b);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+print(n),...a]}})}function unknown(){return define$5("unknown",()=>!0)}function coerce(e,t,n){return new Struct({...e,coercer:(r,a)=>is(r,t)?e.coercer(n(r,a),a):e.coercer(r,a)})}async function simulateTransaction$1(e,t,n,r,a){var i;n&&n.length>0&&t.sign(...n);const s=t._compile(),l=s.serialize(),f=t._serialize(l).toString("base64"),u={encoding:"base64",commitment:r??e.commitment};if(a){const _=(Array.isArray(a)?a:s.nonProgramIds()).map(S=>S.toBase58());u.accounts={encoding:"base64",addresses:_}}n&&(u.sigVerify=!0);const d=[f,u],m=await e._rpcRequest("simulateTransaction",d),p=create(m,SimulatedTransactionResponseStruct$1);if("error"in p){let _;if("data"in p.error&&(_=(i=p.error.data)===null||i===void 0?void 0:i.logs,_&&Array.isArray(_))){const S=`
    `,A=S+_.join(S);console.error(p.error.message,A)}throw new SendTransactionError("failed to simulate transaction: "+p.error.message,_)}return p.result}function jsonRpcResult$1(e){return coerce(createRpcResult$1(e),UnknownRpcResult$1,t=>"error"in t?t:{...t,result:create(t.result,e)})}const UnknownRpcResult$1=createRpcResult$1(unknown());function createRpcResult$1(e){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext$1(e){return jsonRpcResult$1(type({context:type({slot:number()}),value:e}))}const SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$1(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())}));class AnchorProvider$1{constructor(t,n,r){this.connection=t,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n){if(isBrowser$1)throw new Error("Provider local is not available on browser.");n=n??AnchorProvider$1.defaultOptions();const r=new Connection(t??"http://localhost:8899",n.preflightCommitment),i=require("./nodewallet.js").default.local();return new AnchorProvider$1(r,i,n)}static env(){if(isBrowser$1)throw new Error("Provider env is not available on browser.");require("process");const t={}.ANCHOR_PROVIDER_URL;if(t===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const n=AnchorProvider$1.defaultOptions(),r=new Connection(t,n.commitment),i=require("./nodewallet.js").default.local();return new AnchorProvider$1(r,i,n)}async sendAndConfirm(t,n,r){var a,i,s,l;if(r===void 0&&(r=this.opts),isVersionedTransaction(t))n&&t.sign(n);else if(t.feePayer=(a=t.feePayer)!==null&&a!==void 0?a:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const f of n)t.partialSign(f);t=await this.wallet.signTransaction(t);const b=t.serialize();try{return await sendAndConfirmRawTransaction$1(this.connection,b,r)}catch(f){if(f instanceof ConfirmError$1){const u=encode$4(isVersionedTransaction(t)?((i=t.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(s=t.signature)!==null&&s!==void 0?s:new Uint8Array),d=await this.connection.getTransaction(u,{commitment:"confirmed"});if(d){const m=(l=d.meta)===null||l===void 0?void 0:l.logMessages;throw m?new SendTransactionError(f.message,m):f}else throw f}else throw f}}async sendAll(t,n){var r,a,i;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let l=t.map(u=>{var d,m;if(isVersionedTransaction(u.tx)){let p=u.tx;return u.signers&&p.sign(u.signers),p}else{let p=u.tx,_=(d=u.signers)!==null&&d!==void 0?d:[];return p.feePayer=(m=p.feePayer)!==null&&m!==void 0?m:this.wallet.publicKey,p.recentBlockhash=s,_.forEach(S=>{p.partialSign(S)}),p}});const b=await this.wallet.signAllTransactions(l),f=[];for(let u=0;u<l.length;u+=1){const d=b[u],m=d.serialize();try{f.push(await sendAndConfirmRawTransaction$1(this.connection,m,n))}catch(p){if(p instanceof ConfirmError$1){const _=encode$4(isVersionedTransaction(d)?((r=d.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(a=d.signature)!==null&&a!==void 0?a:new Uint8Array),S=await this.connection.getTransaction(_,{commitment:"confirmed"});if(S){const A=(i=S.meta)===null||i===void 0?void 0:i.logMessages;throw A?new SendTransactionError(p.message,A):p}else throw p}else throw p}}return f}async simulate(t,n,r,a){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(isVersionedTransaction(t)?(n&&(t.sign(n),t=await this.wallet.signTransaction(t)),s=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=i,n&&(t=await this.wallet.signTransaction(t)),s=await simulateTransaction$1(this.connection,t,n,r,a)),s.value.err)throw new SimulateError$1(s.value);return s.value}}class SimulateError$1 extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function sendAndConfirmRawTransaction$1(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},a=await e.sendRawTransaction(t,r),i=(await e.confirmTransaction(a,n&&n.commitment)).value;if(i.err)throw new ConfirmError$1(`Raw transaction ${a} failed (${JSON.stringify(i)})`);return a}class ConfirmError$1 extends Error{constructor(t){super(t)}}var camelcase$1={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase$1=(e,t,n)=>{let r=!1,a=!1,i=!1;for(let s=0;s<e.length;s++){const l=e[s];r&&UPPERCASE.test(l)?(e=e.slice(0,s)+"-"+e.slice(s),r=!1,i=a,a=!0,s++):a&&i&&LOWERCASE.test(l)?(e=e.slice(0,s-1)+"-"+e.slice(s-1),i=a,a=!1,r=!0):(r=t(l)===l&&n(l)!==l,i=a,a=n(l)===l&&t(l)!==l)}return e},preserveConsecutiveUppercase=(e,t)=>(LEADING_CAPITAL.lastIndex=0,e.replace(LEADING_CAPITAL,n=>t(n))),postProcess=(e,t)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,e.replace(SEPARATORS_AND_IDENTIFIER,(n,r)=>t(r)).replace(NUMBERS_AND_IDENTIFIER,n=>t(n))),camelCase$2=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(i=>i.trim()).filter(i=>i.length).join("-"):e=e.trim(),e.length===0)return"";const n=t.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(t.locale),r=t.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?r(e):n(e):(e!==n(e)&&(e=preserveCamelCase$1(e,n,r)),e=e.replace(LEADING_SEPARATORS,""),t.preserveConsecutiveUppercase?e=preserveConsecutiveUppercase(e,n):e=n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),postProcess(e,r))};camelcase$1.exports=camelCase$2;camelcase$1.exports.default=camelCase$2;var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},__assign$1.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var __assign=function(){return __assign=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;function lowerCase(e){return e.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(e,t){t===void 0&&(t={});for(var n=t.splitRegexp,r=n===void 0?DEFAULT_SPLIT_REGEXP:n,a=t.stripRegexp,i=a===void 0?DEFAULT_STRIP_REGEXP:a,s=t.transform,l=s===void 0?lowerCase:s,b=t.delimiter,f=b===void 0?" ":b,u=replace(replace(e,r,"$1\0$2"),i,"\0"),d=0,m=u.length;u.charAt(d)==="\0";)d++;for(;u.charAt(m-1)==="\0";)m--;return u.slice(d,m).split("\0").map(l).join(f)}function replace(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(r,a){return r.replace(a,n)},e)}function dotCase(e,t){return t===void 0&&(t={}),noCase(e,__assign({delimiter:"."},t))}function snakeCase(e,t){return t===void 0&&(t={}),dotCase(e,__assign$1({delimiter:"_"},t))}var dist={},Layout$1={};class Layout{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,r){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var Layout_2=Layout$1.Layout=Layout;function nameWithProperty(e,t){return t.property?e+"["+t.property+"]":e}Layout$1.nameWithProperty=nameWithProperty;function bindConstructorLayout(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Layout))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(n,r){return t.decode(n,r)},writable:!0})}Layout$1.bindConstructorLayout=bindConstructorLayout;class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t,n){if(t===void 0&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n){n===void 0&&(n=0);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,n,r){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,r){return r===void 0&&(r=0),this.layout.encode(t,n,r+this.offset)}}class UInt extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntLE(t,r,this.span),this.span}}class UIntBE extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntBE(t,r,this.span),this.span}}class Int extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readIntLE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeIntLE(t,r,this.span),this.span}}class IntBE extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readIntBE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeIntBE(t,r,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(e){const t=Math.floor(e/V2E32),n=e-t*V2E32;return{hi32:t,lo32:n}}function roundedInt64(e,t){return e*V2E32+t}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),a=t.readUInt32LE(n+4);return roundedInt64(a,r)}encode(t,n,r){r===void 0&&(r=0);const a=divmodInt64(t);return n.writeUInt32LE(a.lo32,r),n.writeUInt32LE(a.hi32,r+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32BE(n),a=t.readUInt32BE(n+4);return roundedInt64(r,a)}encode(t,n,r){r===void 0&&(r=0);const a=divmodInt64(t);return n.writeUInt32BE(a.hi32,r),n.writeUInt32BE(a.lo32,r+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),a=t.readInt32LE(n+4);return roundedInt64(a,r)}encode(t,n,r){r===void 0&&(r=0);const a=divmodInt64(t);return n.writeUInt32LE(a.lo32,r),n.writeInt32LE(a.hi32,r+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readInt32BE(n),a=t.readUInt32BE(n+4);return roundedInt64(r,a)}encode(t,n,r){r===void 0&&(r=0);const a=divmodInt64(t);return n.writeInt32BE(a.hi32,r),n.writeUInt32BE(a.lo32,r+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,n){return n===void 0&&(n=0),t.readFloatLE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeFloatLE(t,r),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,n){return n===void 0&&(n=0),t.readFloatBE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeFloatBE(t,r),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,n){return n===void 0&&(n=0),t.readDoubleLE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeDoubleLE(t,r),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,n){return n===void 0&&(n=0),t.readDoubleBE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeDoubleBE(t,r),8}}class Sequence extends Layout{constructor(t,n,r){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let a=-1;!(n instanceof ExternalLayout)&&0<t.span&&(a=n*t.span),super(a,r),this.elementLayout=t,this.count=n}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,a=this.count;if(a instanceof ExternalLayout&&(a=a.decode(t,n)),0<this.elementLayout.span)r=a*this.elementLayout.span;else{let i=0;for(;i<a;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n){n===void 0&&(n=0);const r=[];let a=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,n));a<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),a+=1;return r}encode(t,n,r){r===void 0&&(r=0);const a=this.elementLayout,i=t.reduce((s,l)=>s+a.encode(l,n,r+s),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,n,r),i}}class Structure extends Layout{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let a=-1;try{a=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(a,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((a,i)=>{const s=i.getSpan(t,n);return n+=s,a+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const a of this.fields)if(a.property!==void 0&&(r[a.property]=a.decode(t,n)),n+=a.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r){r===void 0&&(r=0);const a=r;let i=0,s=0;for(const l of this.fields){let b=l.span;if(s=0<b?b:0,l.property!==void 0){const f=t[l.property];f!==void 0&&(s=l.encode(f,n,r),0>b&&(b=l.getSpan(n,r)))}i=r,r+=b}return i+s-a}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,n){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}class Union extends Layout{constructor(t,n,r){const a=t instanceof UInt||t instanceof UIntBE;if(a)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&a&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=a,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return s(l)},this.configGetSourceVariant=function(l){s=l.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let r;const a=this.discriminator,i=a.decode(t,n);let s=this.registry[i];if(s===void 0){let l=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(l=a.layout.span),r=this.makeDestinationObject(),r[a.property]=i,r[s.property]=this.defaultLayout.decode(t,n+l)}else r=s.decode(t,n);return r}encode(t,n,r){r===void 0&&(r=0);const a=this.getSourceVariant(t);if(a===void 0){const i=this.discriminator,s=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],n,r),l+s.encode(t[s.property],n,r+l)}return a.encode(t,n,r)}addVariant(t,n,r){const a=new VariantLayout(this,t,n,r);return this.registry[t]=a,a}getVariant(t,n){let r=t;return dist$1.Buffer.isBuffer(t)&&(n===void 0&&(n=0),r=this.discriminator.decode(t,n)),this.registry[r]}}class VariantLayout extends Layout{constructor(t,n,r,a){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&a===void 0&&(a=r,r=null),r){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof a!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,a),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,n+r)}decode(t,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let a=0;return this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+a):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r){r===void 0&&(r=0);let a=0;if(this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=a;if(this.layout&&(this.layout.encode(t[this.property],n,r+a),i+=this.layout.getSpan(n,r+a),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function fixBitwiseResult(e){return 0>e&&(e+=4294967296),e}class BitStructure extends Layout{constructor(t,n,r){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let a=0;this._packedSetValue=function(i){return a=fixBitwiseResult(i),this},this._packedGetValue=function(){return a}}decode(t,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const a=this.word.decode(t,n);this._packedSetValue(a);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(a));return r}encode(t,n,r){r===void 0&&(r=0);const a=this.word.decode(n,r);this._packedSetValue(a);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new BitField(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new Boolean$1(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}class BitField{constructor(t,n,r){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const a=8*t.span,i=t.fields.reduce((s,l)=>s+l.bits,0);if(n+i>a)throw new Error("bits too long for span remainder ("+(a-i)+" of "+a+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=a-i-n),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(){const t=this.container._packedGetValue();return fixBitwiseResult(t&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==fixBitwiseResult(t&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=fixBitwiseResult(t<<this.start);this.container._packedSetValue(fixBitwiseResult(n&~this.wordMask)|r)}}class Boolean$1 extends BitField{constructor(t,n){super(t,1,n)}decode(t,n){return!!BitField.prototype.decode.call(this,t,n)}encode(t){return typeof t=="boolean"&&(t=+t),BitField.prototype.encode.call(this,t)}}class Blob$1 extends Layout{constructor(t,n){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(t,n)),t.slice(n,n+r)}encode(t,n,r){let a=this.length;if(this.length instanceof ExternalLayout&&(a=t.length),!(dist$1.Buffer.isBuffer(t)&&a===t.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+a+") Buffer as src");if(r+a>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),r,a,"hex"),this.length instanceof ExternalLayout&&this.length.encode(a,n,r),a}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,n){if(!dist$1.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n,r){n===void 0&&(n=0);let a=this.getSpan(t,n);return t.slice(n,n+a-1).toString("utf-8")}encode(t,n,r){r===void 0&&(r=0),typeof t!="string"&&(t=t.toString());const a=new dist$1.Buffer(t,"utf8"),i=a.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return a.copy(n,r),n[r+i]=0,i+1}}class UTF8 extends Layout{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n){if(!dist$1.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),t.length-n}decode(t,n,r){n===void 0&&(n=0);let a=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");return t.slice(n,n+a).toString("utf-8")}encode(t,n,r){r===void 0&&(r=0),typeof t!="string"&&(t=t.toString());const a=new dist$1.Buffer(t,"utf8"),i=a.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return a.copy(n,r),i}}class Constant extends Layout{constructor(t,n){super(0,n),this.value=t}decode(t,n,r){return this.value}encode(t,n,r){return 0}}Layout$1.ExternalLayout=ExternalLayout;Layout$1.GreedyCount=GreedyCount;Layout$1.OffsetLayout=OffsetLayout;Layout$1.UInt=UInt;Layout$1.UIntBE=UIntBE;Layout$1.Int=Int;Layout$1.IntBE=IntBE;Layout$1.Float=Float;Layout$1.FloatBE=FloatBE;Layout$1.Double=Double;Layout$1.DoubleBE=DoubleBE;Layout$1.Sequence=Sequence;Layout$1.Structure=Structure;Layout$1.UnionDiscriminator=UnionDiscriminator;Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$1.Union=Union;Layout$1.VariantLayout=VariantLayout;Layout$1.BitStructure=BitStructure;Layout$1.BitField=BitField;Layout$1.Boolean=Boolean$1;Layout$1.Blob=Blob$1;Layout$1.CString=CString;Layout$1.UTF8=UTF8;Layout$1.Constant=Constant;Layout$1.greedy=(e,t)=>new GreedyCount(e,t);var offset=Layout$1.offset=(e,t,n)=>new OffsetLayout(e,t,n),u8=Layout$1.u8=e=>new UInt(1,e);Layout$1.u16=e=>new UInt(2,e);Layout$1.u24=e=>new UInt(3,e);var u32=Layout$1.u32=e=>new UInt(4,e);Layout$1.u40=e=>new UInt(5,e);Layout$1.u48=e=>new UInt(6,e);var nu64=Layout$1.nu64=e=>new NearUInt64(e);Layout$1.u16be=e=>new UIntBE(2,e);Layout$1.u24be=e=>new UIntBE(3,e);Layout$1.u32be=e=>new UIntBE(4,e);Layout$1.u40be=e=>new UIntBE(5,e);Layout$1.u48be=e=>new UIntBE(6,e);Layout$1.nu64be=e=>new NearUInt64BE(e);Layout$1.s8=e=>new Int(1,e);Layout$1.s16=e=>new Int(2,e);Layout$1.s24=e=>new Int(3,e);Layout$1.s32=e=>new Int(4,e);Layout$1.s40=e=>new Int(5,e);Layout$1.s48=e=>new Int(6,e);var ns64=Layout$1.ns64=e=>new NearInt64(e);Layout$1.s16be=e=>new IntBE(2,e);Layout$1.s24be=e=>new IntBE(3,e);Layout$1.s32be=e=>new IntBE(4,e);Layout$1.s40be=e=>new IntBE(5,e);Layout$1.s48be=e=>new IntBE(6,e);Layout$1.ns64be=e=>new NearInt64BE(e);Layout$1.f32=e=>new Float(e);Layout$1.f32be=e=>new FloatBE(e);Layout$1.f64=e=>new Double(e);Layout$1.f64be=e=>new DoubleBE(e);var struct=Layout$1.struct=(e,t,n)=>new Structure(e,t,n);Layout$1.bits=(e,t,n)=>new BitStructure(e,t,n);Layout$1.seq=(e,t,n)=>new Sequence(e,t,n);var union=Layout$1.union=(e,t,n)=>new Union(e,t,n);Layout$1.unionLayoutDiscriminator=(e,t)=>new UnionLayoutDiscriminator(e,t);var blob=Layout$1.blob=(e,t)=>new Blob$1(e,t);Layout$1.cstr=e=>new CString(e);Layout$1.utf8=(e,t)=>new UTF8(e,t);Layout$1.const=(e,t)=>new Constant(e,t);var require$$0$1=getAugmentedNamespace(index_browser_esm);(function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const n=Layout$1,r=require$$0$1,a=t(bn.exports);var i=Layout$1;Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}});class s extends n.Layout{constructor(j,C,N){super(j,N),this.blob=(0,n.blob)(j),this.signed=C}decode(j,C=0){const N=new a.default(this.blob.decode(j,C),10,"le");return this.signed?N.fromTwos(this.span*8).clone():N}encode(j,C,N=0){return this.signed&&(j=j.toTwos(this.span*8)),this.blob.encode(j.toArrayLike(dist$1.Buffer,"le",this.span),C,N)}}function l(O){return new s(8,!1,O)}e.u64=l;function b(O){return new s(8,!0,O)}e.i64=b;function f(O){return new s(16,!1,O)}e.u128=f;function u(O){return new s(16,!0,O)}e.i128=u;function d(O){return new s(32,!1,O)}e.u256=d;function m(O){return new s(32,!0,O)}e.i256=m;class p extends n.Layout{constructor(j,C,N,U){super(j.span,U),this.layout=j,this.decoder=C,this.encoder=N}decode(j,C){return this.decoder(this.layout.decode(j,C))}encode(j,C,N){return this.layout.encode(this.encoder(j),C,N)}getSpan(j,C){return this.layout.getSpan(j,C)}}function _(O){return new p((0,n.blob)(32),j=>new r.PublicKey(j),j=>j.toBuffer(),O)}e.publicKey=_;class S extends n.Layout{constructor(j,C){super(-1,C),this.layout=j,this.discriminator=(0,n.u8)()}encode(j,C,N=0){return j==null?this.discriminator.encode(0,C,N):(this.discriminator.encode(1,C,N),this.layout.encode(j,C,N+1)+1)}decode(j,C=0){const N=this.discriminator.decode(j,C);if(N===0)return null;if(N===1)return this.layout.decode(j,C+1);throw new Error("Invalid option "+this.property)}getSpan(j,C=0){const N=this.discriminator.decode(j,C);if(N===0)return 1;if(N===1)return this.layout.getSpan(j,C+1)+1;throw new Error("Invalid option "+this.property)}}function A(O,j){return new S(O,j)}e.option=A;function E(O){return new p((0,n.u8)(),w,M,O)}e.bool=E;function w(O){if(O===0)return!1;if(O===1)return!0;throw new Error("Invalid bool: "+O)}function M(O){return O?1:0}function T(O,j){const C=(0,n.u32)("length"),N=(0,n.struct)([C,(0,n.seq)(O,(0,n.offset)(C,-C.span),"values")]);return new p(N,({values:U})=>U,U=>({values:U}),j)}e.vec=T;function v(O,j,C){const N=(0,n.struct)([l("tag"),j.replicate("data")]);function U({tag:z,data:q}){if(!z.eq(O))throw new Error("Invalid tag, expected: "+O.toString("hex")+", got: "+z.toString("hex"));return q}return new p(N,U,z=>({tag:O,data:z}),C)}e.tagged=v;function D(O){const j=(0,n.u32)("length"),C=(0,n.struct)([j,(0,n.blob)((0,n.offset)(j,-j.span),"data")]);return new p(C,({data:N})=>N,N=>({data:N}),O)}e.vecU8=D;function L(O){return new p(D(),j=>j.toString("utf-8"),j=>dist$1.Buffer.from(j,"utf-8"),O)}e.str=L;function I(O,j,C){const N=(0,n.union)(C??(0,n.u8)(),j);return O.forEach((U,z)=>N.addVariant(z,U,U.property)),N}e.rustEnum=I;function k(O,j,C){const N=(0,n.struct)([(0,n.seq)(O,j,"values")]);return new p(N,({values:U})=>U,U=>({values:U}),C)}e.array=k;class $ extends n.Layout{constructor(j,C,N){super(j.span+C.span,N),this.keyLayout=j,this.valueLayout=C}decode(j,C){C=C||0;const N=this.keyLayout.decode(j,C),U=this.valueLayout.decode(j,C+this.keyLayout.getSpan(j,C));return[N,U]}encode(j,C,N){N=N||0;const U=this.keyLayout.encode(j[0],C,N),z=this.valueLayout.encode(j[1],C,N+U);return U+z}getSpan(j,C){return this.keyLayout.getSpan(j,C)+this.valueLayout.getSpan(j,C)}}function R(O,j,C){const N=(0,n.u32)("length"),U=(0,n.struct)([N,(0,n.seq)(new $(O,j),(0,n.offset)(N,-N.span),"values")]);return new p(U,({values:z})=>new Map(z),z=>({values:Array.from(z.entries())}),C)}e.map=R})(dist);class RustStringLayout$1 extends Layout_2{constructor(t){super(-1,t),this.property=t,this.layout=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],this.property)}encode(t,n,r=0){if(t==null)return this.layout.span;const a={chars:dist$1.Buffer.from(t,"utf8")};return this.layout.encode(a,n,r)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return u32().span+u32().span+new BN(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function rustStringLayout$1(e){return new RustStringLayout$1(e)}function publicKey$7(e){return blob(32,e)}const LAYOUT$2=union(u32("instruction"));LAYOUT$2.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$7("owner")]),"createAccount");LAYOUT$2.addVariant(1,struct([publicKey$7("owner")]),"assign");LAYOUT$2.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT$2.addVariant(3,struct([publicKey$7("base"),rustStringLayout$1("seed"),ns64("lamports"),ns64("space"),publicKey$7("owner")]),"createAccountWithSeed");LAYOUT$2.addVariant(4,struct([publicKey$7("authorized")]),"advanceNonceAccount");LAYOUT$2.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT$2.addVariant(6,struct([publicKey$7("authorized")]),"initializeNonceAccount");LAYOUT$2.addVariant(7,struct([publicKey$7("authorized")]),"authorizeNonceAccount");LAYOUT$2.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT$2.addVariant(9,struct([publicKey$7("base"),rustStringLayout$1("seed"),ns64("space"),publicKey$7("owner")]),"allocateWithSeed");LAYOUT$2.addVariant(10,struct([publicKey$7("base"),rustStringLayout$1("seed"),publicKey$7("owner")]),"assignWithSeed");LAYOUT$2.addVariant(11,struct([ns64("lamports"),rustStringLayout$1("seed"),publicKey$7("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT$2.registry).map(e=>e.span));class WrappedLayout$3 extends Layout_2{constructor(t,n,r,a){super(t.span,a),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}function publicKey$6(e){return new WrappedLayout$3(blob(32),t=>new PublicKey(t),t=>t.toBuffer(),e)}struct([u32("version"),u32("state"),publicKey$6("authorizedPubkey"),publicKey$6("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);const TOKEN_PROGRAM_ID$2=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID$1=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(e,t){var n=typeof self<"u"?self:commonjsGlobal,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(s){var l={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function b(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(C){return C&&f.indexOf(Object.prototype.toString.call(C))>-1};function d(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function m(C){return typeof C!="string"&&(C=String(C)),C}function p(C){var N={next:function(){var U=C.shift();return{done:U===void 0,value:U}}};return l.iterable&&(N[Symbol.iterator]=function(){return N}),N}function _(C){this.map={},C instanceof _?C.forEach(function(N,U){this.append(U,N)},this):Array.isArray(C)?C.forEach(function(N){this.append(N[0],N[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(N){this.append(N,C[N])},this)}_.prototype.append=function(C,N){C=d(C),N=m(N);var U=this.map[C];this.map[C]=U?U+", "+N:N},_.prototype.delete=function(C){delete this.map[d(C)]},_.prototype.get=function(C){return C=d(C),this.has(C)?this.map[C]:null},_.prototype.has=function(C){return this.map.hasOwnProperty(d(C))},_.prototype.set=function(C,N){this.map[d(C)]=m(N)},_.prototype.forEach=function(C,N){for(var U in this.map)this.map.hasOwnProperty(U)&&C.call(N,this.map[U],U,this)},_.prototype.keys=function(){var C=[];return this.forEach(function(N,U){C.push(U)}),p(C)},_.prototype.values=function(){var C=[];return this.forEach(function(N){C.push(N)}),p(C)},_.prototype.entries=function(){var C=[];return this.forEach(function(N,U){C.push([U,N])}),p(C)},l.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function S(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function A(C){return new Promise(function(N,U){C.onload=function(){N(C.result)},C.onerror=function(){U(C.error)}})}function E(C){var N=new FileReader,U=A(N);return N.readAsArrayBuffer(C),U}function w(C){var N=new FileReader,U=A(N);return N.readAsText(C),U}function M(C){for(var N=new Uint8Array(C),U=new Array(N.length),z=0;z<N.length;z++)U[z]=String.fromCharCode(N[z]);return U.join("")}function T(C){if(C.slice)return C.slice(0);var N=new Uint8Array(C.byteLength);return N.set(new Uint8Array(C)),N.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&b(C)?(this._bodyArrayBuffer=T(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||u(C))?this._bodyArrayBuffer=T(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=S(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var C=S(this);if(C)return C;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(C){var N=C.toUpperCase();return D.indexOf(N)>-1?N:C}function I(C,N){N=N||{};var U=N.body;if(C instanceof I){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,N.headers||(this.headers=new _(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!U&&C._bodyInit!=null&&(U=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new _(N.headers)),this.method=L(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function k(C){var N=new FormData;return C.trim().split("&").forEach(function(U){if(U){var z=U.split("="),q=z.shift().replace(/\+/g," "),Z=z.join("=").replace(/\+/g," ");N.append(decodeURIComponent(q),decodeURIComponent(Z))}}),N}function $(C){var N=new _,U=C.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(z){var q=z.split(":"),Z=q.shift().trim();if(Z){var ne=q.join(":").trim();N.append(Z,ne)}}),N}v.call(I.prototype);function R(C,N){N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new _(N.headers),this.url=N.url||"",this._initBody(C)}v.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},R.error=function(){var C=new R(null,{status:0,statusText:""});return C.type="error",C};var O=[301,302,303,307,308];R.redirect=function(C,N){if(O.indexOf(N)===-1)throw new RangeError("Invalid status code");return new R(null,{status:N,headers:{location:C}})},s.DOMException=i.DOMException;try{new s.DOMException}catch{s.DOMException=function(N,U){this.message=N,this.name=U;var z=Error(N);this.stack=z.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function j(C,N){return new Promise(function(U,z){var q=new I(C,N);if(q.signal&&q.signal.aborted)return z(new s.DOMException("Aborted","AbortError"));var Z=new XMLHttpRequest;function ne(){Z.abort()}Z.onload=function(){var ie={status:Z.status,statusText:Z.statusText,headers:$(Z.getAllResponseHeaders()||"")};ie.url="responseURL"in Z?Z.responseURL:ie.headers.get("X-Request-URL");var W="response"in Z?Z.response:Z.responseText;U(new R(W,ie))},Z.onerror=function(){z(new TypeError("Network request failed"))},Z.ontimeout=function(){z(new TypeError("Network request failed"))},Z.onabort=function(){z(new s.DOMException("Aborted","AbortError"))},Z.open(q.method,q.url,!0),q.credentials==="include"?Z.withCredentials=!0:q.credentials==="omit"&&(Z.withCredentials=!1),"responseType"in Z&&l.blob&&(Z.responseType="blob"),q.headers.forEach(function(ie,W){Z.setRequestHeader(W,ie)}),q.signal&&(q.signal.addEventListener("abort",ne),Z.onreadystatechange=function(){Z.readyState===4&&q.signal.removeEventListener("abort",ne)}),Z.send(typeof q._bodyInit>"u"?null:q._bodyInit)})}return j.polyfill=!0,i.fetch||(i.fetch=j,i.Headers=_,i.Request=I,i.Response=R),s.Headers=_,s.Request=I,s.Response=R,s.fetch=j,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(browserPonyfill,browserPonyfill.exports);var fetch=getDefaultExportFromCjs(browserPonyfill.exports);dist.rustEnum([dist.struct([],"uninitialized"),dist.struct([dist.option(dist.publicKey(),"authorityAddress")],"buffer"),dist.struct([dist.publicKey("programdataAddress")],"program"),dist.struct([dist.u64("slot"),dist.option(dist.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist.u32());/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){let t=e.length;for(;--t>=0;)e[t]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)],put_short=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},send_bits=(e,t,n)=>{e.bi_valid>Buf_size-n?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=n-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},send_code=(e,t,n)=>{send_bits(e,n[t*2],n[t*2+1])},bi_reverse=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},bi_flush=e=>{e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gen_bitlen=(e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,b=t.stat_desc.max_length;let f,u,d,m,p,_,S=0;for(m=0;m<=MAX_BITS$1;m++)e.bl_count[m]=0;for(n[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<HEAP_SIZE$1;f++)u=e.heap[f],m=n[n[u*2+1]*2+1]+1,m>b&&(m=b,S++),n[u*2+1]=m,!(u>r)&&(e.bl_count[m]++,p=0,u>=l&&(p=s[u-l]),_=n[u*2],e.opt_len+=_*(m+p),i&&(e.static_len+=_*(a[u*2+1]+p)));if(S!==0){do{for(m=b-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[b]--,S-=2}while(S>0);for(m=b;m!==0;m--)for(u=e.bl_count[m];u!==0;)d=e.heap[--f],!(d>r)&&(n[d*2+1]!==m&&(e.opt_len+=(m-n[d*2+1])*n[d*2],n[d*2+1]=m),u--)}},gen_codes=(e,t,n)=>{const r=new Array(MAX_BITS$1+1);let a=0,i,s;for(i=1;i<=MAX_BITS$1;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){let l=e[s*2+1];l!==0&&(e[s*2]=bi_reverse(r[l]++,l))}},tr_static_init=()=>{let e,t,n,r,a;const i=new Array(MAX_BITS$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,e=0;e<1<<extra_lbits[r];e++)_length_code[n++]=r;for(_length_code[n-1]=r,a=0,r=0;r<16;r++)for(base_dist[r]=a,e=0;e<1<<extra_dbits[r];e++)_dist_code[a++]=r;for(a>>=7;r<D_CODES$1;r++)for(base_dist[r]=a<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+a++]=r;for(t=0;t<=MAX_BITS$1;t++)i[t]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,i[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,i[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,i[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,i[8]++;for(gen_codes(static_ltree,L_CODES$1+1,i),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=e=>{let t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},smaller=(e,t,n,r)=>{const a=t*2,i=n*2;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},pqdownheap=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&smaller(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!smaller(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},compress_block=(e,t,n)=>{let r,a,i=0,s,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],r===0?send_code(e,a,t):(s=_length_code[a],send_code(e,s+LITERALS$1+1,t),l=extra_lbits[s],l!==0&&(a-=base_length[s],send_bits(e,a,l)),r--,s=d_code(r),send_code(e,s,n),l=extra_dbits[s],l!==0&&(r-=base_dist[s],send_bits(e,r,l)));while(i<e.sym_next);send_code(e,END_BLOCK,t)},build_tree=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,l,b=-1,f;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=b=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=b<2?++b:0,n[f*2]=1,e.depth[f]=0,e.opt_len--,a&&(e.static_len-=r[f*2+1]);for(t.max_code=b,s=e.heap_len>>1;s>=1;s--)pqdownheap(e,n,s);f=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,n[f*2]=n[s*2]+n[l*2],e.depth[f]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,n[s*2+1]=n[l*2+1]=f,e.heap[1]=f++,pqdownheap(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(n,b,e.bl_count)},scan_tree=(e,t,n)=>{let r,a=-1,i,s=t[0*2+1],l=0,b=7,f=4;for(s===0&&(b=138,f=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++l<b&&i===s)&&(l<f?e.bl_tree[i*2]+=l:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[REP_3_6*2]++):l<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,l=0,a=i,s===0?(b=138,f=3):i===s?(b=6,f=3):(b=7,f=4))},send_tree=(e,t,n)=>{let r,a=-1,i,s=t[0*2+1],l=0,b=7,f=4;for(s===0&&(b=138,f=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++l<b&&i===s)){if(l<f)do send_code(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==a&&(send_code(e,i,e.bl_tree),l--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,l-3,2)):l<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,l-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,l-11,7));l=0,a=i,s===0?(b=138,f=3):i===s?(b=6,f=3):(b=7,f=4)}},build_bl_tree=e=>{let t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&e.bl_tree[bl_order[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},send_all_trees=(e,t,n,r)=>{let a;for(send_bits(e,t-257,5),send_bits(e,n-1,5),send_bits(e,r-4,4),a=0;a<r;a++)send_bits(e,e.bl_tree[bl_order[a]*2+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,n-1)},detect_data_type=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Z_BINARY;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT;for(n=32;n<LITERALS$1;n++)if(e.dyn_ltree[n*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=e=>{static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block$1=(e,t,n,r)=>{send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),bi_windup(e),put_short(e,n),put_short(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},_tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)},_tr_flush_block$1=(e,t,n,r)=>{let a,i,s=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),s=build_bl_tree(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&t!==-1?_tr_stored_block$1(e,t,n,r):e.strategy===Z_FIXED$1||i===a?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)},_tr_tally$1=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(_length_code[n]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(t)*2]++),e.sym_next===e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,t,n,r)=>{let a=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+t[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},crcTable=new Uint32Array(makeTable()),crc32=(e,t,n,r)=>{const a=crcTable,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2$1,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err$1=(e,t)=>(e.msg=messages[t],t),rank=e=>e*2-(e>4?9:0),zero=e=>{let t=e.length;for(;--t>=0;)e[t]=0},slide_hash=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=a?n-a:0;while(--t);t=a,r=t;do n=e.prev[--r],e.prev[r]=n>=a?n-a:0;while(--t)};let HASH_ZLIB=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,HASH=HASH_ZLIB;const flush_pending=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},flush_block_only=(e,t)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,t)=>{e.pending_buf[e.pending++]=t},putShortMSB=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},read_buf=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),e.state.wrap===1?e.adler=adler32_1(e.adler,t,a,n):e.state.wrap===2&&(e.adler=crc32_1(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},longest_match=(e,t)=>{let n=e.max_chain_length,r=e.strstart,a,i,s=e.prev_length,l=e.nice_match;const b=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,f=e.window,u=e.w_mask,d=e.prev,m=e.strstart+MAX_MATCH;let p=f[r+s-1],_=f[r+s];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(f[a+s]!==_||f[a+s-1]!==p||f[a]!==f[r]||f[++a]!==f[r+1])){r+=2,a++;do;while(f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&f[++r]===f[++a]&&r<m);if(i=MAX_MATCH-(m-r),r=m-MAX_MATCH,i>s){if(e.match_start=t,s=i,i>=l)break;p=f[r+s-1],_=f[r+s]}}while((t=d[t&u])>b&&--n!==0);return s<=e.lookahead?s:e.lookahead},fill_window=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-MIN_LOOKAHEAD)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),slide_hash(e),r+=t),e.strm.avail_in===0)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=HASH(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[a+MIN_MATCH-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)},deflate_stored=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,a,i,s=0,l=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,r>a+e.strm.avail_in&&(r=a+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Z_FINISH$3||t===Z_NO_FLUSH$2||r!==a+e.strm.avail_in)))break;s=t===Z_FINISH$3&&r===a+e.strm.avail_in?1:0,_tr_stored_block(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,flush_pending(e.strm),a&&(a>r&&(a=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,r-=a),r&&(read_buf(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?BS_FINISH_DONE:t!==Z_NO_FLUSH$2&&t!==Z_FINISH$3&&e.strm.avail_in===0&&e.strstart===e.block_start?BS_BLOCK_DONE:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(read_buf(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=n||(a||t===Z_FINISH$3)&&t!==Z_NO_FLUSH$2&&e.strm.avail_in===0&&a<=i)&&(r=a>i?i:a,s=t===Z_FINISH$3&&e.strm.avail_in===0&&r===a?1:0,_tr_stored_block(e,e.block_start,r,s),e.block_start+=r,flush_pending(e.strm)),s?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(e,t)=>{let n,r;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n)),e.match_length>=MIN_MATCH)if(r=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-MIN_MATCH,r=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(r=_tr_tally(e,0,e.window[e.strstart-1]),r&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(e,t)=>{let n,r,a,i;const s=e.window;for(;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=e.strstart+MAX_MATCH;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);e.match_length=MAX_MATCH-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(n=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(t===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(e.match_length=0,n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=e=>{e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==INIT_STATE&&t.status!==GZIP_STATE&&t.status!==EXTRA_STATE&&t.status!==NAME_STATE&&t.status!==COMMENT_STATE&&t.status!==HCRC_STATE&&t.status!==BUSY_STATE&&t.status!==FINISH_STATE?1:0},deflateResetKeep=e=>{if(deflateStateCheck(e))return err$1(e,Z_STREAM_ERROR$2);e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?GZIP_STATE:t.wrap?INIT_STATE:BUSY_STATE,e.adler=t.wrap===2?0:1,t.last_flush=-2,_tr_init(t),Z_OK$3},deflateReset=e=>{const t=deflateResetKeep(e);return t===Z_OK$3&&lm_init(e.state),t},deflateSetHeader=(e,t)=>deflateStateCheck(e)||e.state.wrap!==2?Z_STREAM_ERROR$2:(e.state.gzhead=t,Z_OK$3),deflateInit2=(e,t,n,r,a,i)=>{if(!e)return Z_STREAM_ERROR$2;let s=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>MAX_MEM_LEVEL||n!==Z_DEFLATED$2||r<8||r>15||t<0||t>9||i<0||i>Z_FIXED||r===8&&s!==1)return err$1(e,Z_STREAM_ERROR$2);r===8&&(r=9);const l=new DeflateState;return e.state=l,l.strm=e,l.status=INIT_STATE,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+MIN_MATCH-1)/MIN_MATCH),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=n,deflateReset(e)},deflateInit=(e,t)=>deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(e,t)=>{if(deflateStateCheck(e)||t>Z_BLOCK$1||t<0)return e?err$1(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===FINISH_STATE&&t!==Z_FINISH$3)return err$1(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(flush_pending(e),e.avail_out===0)return n.last_flush=-1,Z_OK$3}else if(e.avail_in===0&&rank(t)<=rank(r)&&t!==Z_FINISH$3)return err$1(e,Z_BUF_ERROR$1);if(n.status===FINISH_STATE&&e.avail_in!==0)return err$1(e,Z_BUF_ERROR$1);if(n.status===INIT_STATE&&n.wrap===0&&(n.status=BUSY_STATE),n.status===INIT_STATE){let a=Z_DEFLATED$2+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=Z_HUFFMAN_ONLY||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,a|=i<<6,n.strstart!==0&&(a|=PRESET_DICT),a+=31-a%31,putShortMSB(n,a),n.strstart!==0&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),e.adler=1,n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===GZIP_STATE){if(e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead)put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,n.gzhead.time&255),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,n.gzhead.extra.length&255),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE;else if(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===EXTRA_STATE){if(n.gzhead.extra){let a=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=l,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;a=0,i-=l}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=NAME_STATE}if(n.status===NAME_STATE){if(n.gzhead.name){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;a=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,put_byte(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=COMMENT_STATE}if(n.status===COMMENT_STATE){if(n.gzhead.comment){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;a=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,put_byte(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-a,a))}n.status=HCRC_STATE}if(n.status===HCRC_STATE){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(flush_pending(e),n.pending!==0))return n.last_flush=-1,Z_OK$3;put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),e.adler=0}if(n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(e.avail_in!==0||n.lookahead!==0||t!==Z_NO_FLUSH$2&&n.status!==FINISH_STATE){let a=n.level===0?deflate_stored(n,t):n.strategy===Z_HUFFMAN_ONLY?deflate_huff(n,t):n.strategy===Z_RLE?deflate_rle(n,t):configuration_table[n.level].func(n,t);if((a===BS_FINISH_STARTED||a===BS_FINISH_DONE)&&(n.status=FINISH_STATE),a===BS_NEED_MORE||a===BS_FINISH_STARTED)return e.avail_out===0&&(n.last_flush=-1),Z_OK$3;if(a===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?_tr_align(n):t!==Z_BLOCK$1&&(_tr_stored_block(n,0,0,!1),t===Z_FULL_FLUSH$1&&(zero(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),e.avail_out===0))return n.last_flush=-1,Z_OK$3}return t!==Z_FINISH$3?Z_OK$3:n.wrap<=0?Z_STREAM_END$3:(n.wrap===2?(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,e.total_in&255),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=e=>{if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const t=e.state.status;return e.state=null,t===BUSY_STATE?err$1(e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(e,t)=>{let n=t.length;if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const r=e.state,a=r.wrap;if(a===2||a===1&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR$2;if(a===1&&(e.adler=adler32_1(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){a===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let b=new Uint8Array(r.w_size);b.set(t.subarray(n-r.w_size,n),0),t=b,n=r.w_size}const i=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,fill_window(r);r.lookahead>=MIN_MATCH;){let b=r.strstart,f=r.lookahead-(MIN_MATCH-1);do r.ins_h=HASH(r,r.ins_h,r.window[b+MIN_MATCH-1]),r.prev[b&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=b,b++;while(--f);r.strstart=b,r.lookahead=MIN_MATCH-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,e.next_in=s,e.input=l,e.avail_in=i,r.wrap=a,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_has(n,r)&&(e[r]=n[r])}}return e},flattenChunks=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let s=e[r];n.set(s,a),a+=s.length}return n},common$1={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,a,i,s=e.length,l=0;for(a=0;a<s;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const buf2binstring=(e,t)=>{if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var buf2string=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let s=e[r++];if(s<128){i[a++]=s;continue}let l=_utf8len[s];if(l>4){i[a++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|e[r++]&63,l--;if(l>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return buf2binstring(i,a)},utf8border=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+_utf8len[e[n]]>t?n:t},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2$1;function Deflate$1(e){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=deflate_1$2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Z_OK$2)throw new Error(messages[n]);if(t.header&&deflate_1$2.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=strings.string2buf(t.dictionary):toString$1.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=deflate_1$2.deflateSetDictionary(this.strm,r),n!==Z_OK$2)throw new Error(messages[n]);this._dict_set=!0}}Deflate$1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof e=="string"?n.input=strings.string2buf(e):toString$1.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Z_SYNC_FLUSH||i===Z_FULL_FLUSH)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=deflate_1$2.deflate(n,i),a===Z_STREAM_END$2)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=deflate_1$2.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Z_OK$2;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(e){this.chunks.push(e)};Deflate$1.prototype.onEnd=function(e){e===Z_OK$2&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(t,n){let r,a,i,s,l,b,f,u,d,m,p,_,S,A,E,w,M,T,v,D,L,I,k,$;const R=t.state;r=t.next_in,k=t.input,a=r+(t.avail_in-5),i=t.next_out,$=t.output,s=i-(n-t.avail_out),l=i+(t.avail_out-257),b=R.dmax,f=R.wsize,u=R.whave,d=R.wnext,m=R.window,p=R.hold,_=R.bits,S=R.lencode,A=R.distcode,E=(1<<R.lenbits)-1,w=(1<<R.distbits)-1;e:do{_<15&&(p+=k[r++]<<_,_+=8,p+=k[r++]<<_,_+=8),M=S[p&E];t:for(;;){if(T=M>>>24,p>>>=T,_-=T,T=M>>>16&255,T===0)$[i++]=M&65535;else if(T&16){v=M&65535,T&=15,T&&(_<T&&(p+=k[r++]<<_,_+=8),v+=p&(1<<T)-1,p>>>=T,_-=T),_<15&&(p+=k[r++]<<_,_+=8,p+=k[r++]<<_,_+=8),M=A[p&w];n:for(;;){if(T=M>>>24,p>>>=T,_-=T,T=M>>>16&255,T&16){if(D=M&65535,T&=15,_<T&&(p+=k[r++]<<_,_+=8,_<T&&(p+=k[r++]<<_,_+=8)),D+=p&(1<<T)-1,D>b){t.msg="invalid distance too far back",R.mode=BAD$1;break e}if(p>>>=T,_-=T,T=i-s,D>T){if(T=D-T,T>u&&R.sane){t.msg="invalid distance too far back",R.mode=BAD$1;break e}if(L=0,I=m,d===0){if(L+=f-T,T<v){v-=T;do $[i++]=m[L++];while(--T);L=i-D,I=$}}else if(d<T){if(L+=f+d-T,T-=d,T<v){v-=T;do $[i++]=m[L++];while(--T);if(L=0,d<v){T=d,v-=T;do $[i++]=m[L++];while(--T);L=i-D,I=$}}}else if(L+=d-T,T<v){v-=T;do $[i++]=m[L++];while(--T);L=i-D,I=$}for(;v>2;)$[i++]=I[L++],$[i++]=I[L++],$[i++]=I[L++],v-=3;v&&($[i++]=I[L++],v>1&&($[i++]=I[L++]))}else{L=i-D;do $[i++]=$[L++],$[i++]=$[L++],$[i++]=$[L++],v-=3;while(v>2);v&&($[i++]=$[L++],v>1&&($[i++]=$[L++]))}}else if((T&64)===0){M=A[(M&65535)+(p&(1<<T)-1)];continue n}else{t.msg="invalid distance code",R.mode=BAD$1;break e}break}}else if((T&64)===0){M=S[(M&65535)+(p&(1<<T)-1)];continue t}else if(T&32){R.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",R.mode=BAD$1;break e}break}}while(r<a&&i<l);v=_>>3,r-=v,_-=v<<3,p&=(1<<_)-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=i<l?257+(l-i):257-(i-l),R.hold=p,R.bits=_};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(e,t,n,r,a,i,s,l)=>{const b=l.bits;let f=0,u=0,d=0,m=0,p=0,_=0,S=0,A=0,E=0,w=0,M,T,v,D,L,I=null,k;const $=new Uint16Array(MAXBITS+1),R=new Uint16Array(MAXBITS+1);let O=null,j,C,N;for(f=0;f<=MAXBITS;f++)$[f]=0;for(u=0;u<r;u++)$[t[n+u]]++;for(p=b,m=MAXBITS;m>=1&&$[m]===0;m--);if(p>m&&(p=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(d=1;d<m&&$[d]===0;d++);for(p<d&&(p=d),A=1,f=1;f<=MAXBITS;f++)if(A<<=1,A-=$[f],A<0)return-1;if(A>0&&(e===CODES$1||m!==1))return-1;for(R[1]=0,f=1;f<MAXBITS;f++)R[f+1]=R[f]+$[f];for(u=0;u<r;u++)t[n+u]!==0&&(s[R[t[n+u]]++]=u);if(e===CODES$1?(I=O=s,k=20):e===LENS$1?(I=lbase,O=lext,k=257):(I=dbase,O=dext,k=0),w=0,u=0,f=d,L=i,_=p,S=0,v=-1,E=1<<p,D=E-1,e===LENS$1&&E>ENOUGH_LENS$1||e===DISTS$1&&E>ENOUGH_DISTS$1)return 1;for(;;){j=f-S,s[u]+1<k?(C=0,N=s[u]):s[u]>=k?(C=O[s[u]-k],N=I[s[u]-k]):(C=32+64,N=0),M=1<<f-S,T=1<<_,d=T;do T-=M,a[L+(w>>S)+T]=j<<24|C<<16|N|0;while(T!==0);for(M=1<<f-1;w&M;)M>>=1;if(M!==0?(w&=M-1,w+=M):w=0,u++,--$[f]===0){if(f===m)break;f=t[n+s[u]]}if(f>p&&(w&D)!==v){for(S===0&&(S=p),L+=d,_=f-S,A=1<<_;_+S<m&&(A-=$[_+S],!(A<=0));)_++,A<<=1;if(E+=1<<_,e===LENS$1&&E>ENOUGH_LENS$1||e===DISTS$1&&E>ENOUGH_DISTS$1)return 1;v=w&D,a[v]=p<<24|_<<16|L-i|0}}return w!==0&&(a[L+w]=f-S<<24|64<<16|0),l.bits=p,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2$1,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<HEAD||t.mode>SYNC?1:0},inflateResetKeep=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)},inflateReset2=(e,t)=>{let n;if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,inflateReset(e))},inflateInit2=(e,t)=>{if(!e)return Z_STREAM_ERROR$1;const n=new InflateState;e.state=n,n.strm=e,n.window=null,n.mode=HEAD;const r=inflateReset2(e,t);return r!==Z_OK$1&&(e.state=null),r},inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=(e,t,n,r)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},inflate$2=(e,t)=>{let n,r,a,i,s,l,b,f,u,d,m,p,_,S,A=0,E,w,M,T,v,D,L,I;const k=new Uint8Array(4);let $,R;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR$1;n=e.state,n.mode===TYPE&&(n.mode=TYPEDO),s=e.next_out,a=e.output,b=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,f=n.hold,u=n.bits,d=l,m=b,I=Z_OK$1;e:for(;;)switch(n.mode){case HEAD:if(n.wrap===0){n.mode=TYPEDO;break}for(;u<16;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=f&255,k[1]=f>>>8&255,n.check=crc32_1(n.check,k,2,0),f=0,u=0,n.mode=FLAGS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=BAD;break}if((f&15)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(f>>>=4,u-=4,L=(f&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){e.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=f&512?DICTID:TYPE,f=0,u=0;break;case FLAGS:for(;u<16;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(n.flags=f,(n.flags&255)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=crc32_1(n.check,k,2,0)),f=0,u=0,n.mode=TIME;case TIME:for(;u<32;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,k[2]=f>>>16&255,k[3]=f>>>24&255,n.check=crc32_1(n.check,k,4,0)),f=0,u=0,n.mode=OS;case OS:for(;u<16;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=crc32_1(n.check,k,2,0)),f=0,u=0,n.mode=EXLEN;case EXLEN:if(n.flags&1024){for(;u<16;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=crc32_1(n.check,k,2,0)),f=0,u=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(n.flags&1024&&(p=n.length,p>l&&(p=l),p&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),L)),n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,p,i)),l-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(n.flags&2048){if(l===0)break e;p=0;do L=r[i+p++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,p,i)),l-=p,i+=p,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(n.flags&4096){if(l===0)break e;p=0;do L=r[i+p++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,p,i)),l-=p,i+=p,L)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(n.flags&512){for(;u<16;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(n.wrap&4&&f!==(n.check&65535)){e.msg="header crc mismatch",n.mode=BAD;break}f=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;u<32;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}e.adler=n.check=zswap32(f),f=0,u=0,n.mode=DICT;case DICT:if(n.havedict===0)return e.next_out=s,e.avail_out=b,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=u,Z_NEED_DICT$1;e.adler=n.check=1,n.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(n.last){f>>>=u&7,u-=u&7,n.mode=CHECK;break}for(;u<3;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}switch(n.last=f&1,f>>>=1,u-=1,f&3){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,t===Z_TREES){f>>>=2,u-=2;break e}break;case 2:n.mode=TABLE;break;case 3:e.msg="invalid block type",n.mode=BAD}f>>>=2,u-=2;break;case STORED:for(f>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=f&65535,f=0,u=0,n.mode=COPY_,t===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(p=n.length,p){if(p>l&&(p=l),p>b&&(p=b),p===0)break e;a.set(r.subarray(i,i+p),s),l-=p,i+=p,b-=p,s+=p,n.length-=p;break}n.mode=TYPE;break;case TABLE:for(;u<14;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(n.nlen=(f&31)+257,f>>>=5,u-=5,n.ndist=(f&31)+1,f>>>=5,u-=5,n.ncode=(f&15)+4,f>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;u<3;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.lens[O[n.have++]]=f&7,f>>>=3,u-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,$={bits:n.lenbits},I=inftrees(CODES,n.lens,0,19,n.lencode,0,n.work,$),n.lenbits=$.bits,I){e.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[f&(1<<n.lenbits)-1],E=A>>>24,w=A>>>16&255,M=A&65535,!(E<=u);){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(M<16)f>>>=E,u-=E,n.lens[n.have++]=M;else{if(M===16){for(R=E+2;u<R;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(f>>>=E,u-=E,n.have===0){e.msg="invalid bit length repeat",n.mode=BAD;break}L=n.lens[n.have-1],p=3+(f&3),f>>>=2,u-=2}else if(M===17){for(R=E+3;u<R;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}f>>>=E,u-=E,L=0,p=3+(f&7),f>>>=3,u-=3}else{for(R=E+7;u<R;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}f>>>=E,u-=E,L=0,p=11+(f&127),f>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=BAD;break}for(;p--;)n.lens[n.have++]=L}}if(n.mode===BAD)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,$={bits:n.lenbits},I=inftrees(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,$),n.lenbits=$.bits,I){e.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,$={bits:n.distbits},I=inftrees(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,$),n.distbits=$.bits,I){e.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,t===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(l>=6&&b>=258){e.next_out=s,e.avail_out=b,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=u,inffast(e,m),s=e.next_out,a=e.output,b=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,f=n.hold,u=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;A=n.lencode[f&(1<<n.lenbits)-1],E=A>>>24,w=A>>>16&255,M=A&65535,!(E<=u);){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(w&&(w&240)===0){for(T=E,v=w,D=M;A=n.lencode[D+((f&(1<<T+v)-1)>>T)],E=A>>>24,w=A>>>16&255,M=A&65535,!(T+E<=u);){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}f>>>=T,u-=T,n.back+=T}if(f>>>=E,u-=E,n.back+=E,n.length=M,w===0){n.mode=LIT;break}if(w&32){n.back=-1,n.mode=TYPE;break}if(w&64){e.msg="invalid literal/length code",n.mode=BAD;break}n.extra=w&15,n.mode=LENEXT;case LENEXT:if(n.extra){for(R=n.extra;u<R;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;A=n.distcode[f&(1<<n.distbits)-1],E=A>>>24,w=A>>>16&255,M=A&65535,!(E<=u);){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if((w&240)===0){for(T=E,v=w,D=M;A=n.distcode[D+((f&(1<<T+v)-1)>>T)],E=A>>>24,w=A>>>16&255,M=A&65535,!(T+E<=u);){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}f>>>=T,u-=T,n.back+=T}if(f>>>=E,u-=E,n.back+=E,w&64){e.msg="invalid distance code",n.mode=BAD;break}n.offset=M,n.extra=w&15,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(R=n.extra;u<R;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(b===0)break e;if(p=m-b,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=BAD;break}p>n.wnext?(p-=n.wnext,_=n.wsize-p):_=n.wnext-p,p>n.length&&(p=n.length),S=n.window}else S=a,_=s-n.offset,p=n.length;p>b&&(p=b),b-=p,n.length-=p;do a[s++]=S[_++];while(--p);n.length===0&&(n.mode=LEN);break;case LIT:if(b===0)break e;a[s++]=n.length,b--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;u<32;){if(l===0)break e;l--,f|=r[i++]<<u,u+=8}if(m-=b,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?crc32_1(n.check,a,m,s-m):adler32_1(n.check,a,m,s-m)),m=b,n.wrap&4&&(n.flags?f:zswap32(f))!==n.check){e.msg="incorrect data check",n.mode=BAD;break}f=0,u=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;u<32;){if(l===0)break e;l--,f+=r[i++]<<u,u+=8}if(n.wrap&4&&f!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=BAD;break}f=0,u=0}n.mode=DONE;case DONE:I=Z_STREAM_END$1;break e;case BAD:I=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=s,e.avail_out=b,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=u,(n.wsize||m!==e.avail_out&&n.mode<BAD&&(n.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,m-e.avail_out),d-=e.avail_in,m-=e.avail_out,e.total_in+=d,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?crc32_1(n.check,a,m,e.next_out-m):adler32_1(n.check,a,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(d===0&&m===0||t===Z_FINISH$1)&&I===Z_OK$1&&(I=Z_BUF_ERROR),I},inflateEnd=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;let t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$1},inflateGetHeader=(e,t)=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const n=e.state;return(n.wrap&2)===0?Z_STREAM_ERROR$1:(n.head=t,t.done=!1,Z_OK$1)},inflateSetDictionary=(e,t)=>{const n=t.length;let r,a,i;return inflateStateCheck(e)||(r=e.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1:r.mode===DICT&&(a=1,a=adler32_1(a,t,n,0),a!==r.check)?Z_DATA_ERROR$1:(i=updatewindow(e,t,n,n),i?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2$1;function Inflate$1(e){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(n!==Z_OK)throw new Error(messages[n]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary),n!==Z_OK)))throw new Error(messages[n])}Inflate$1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,l;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Z_FINISH:Z_NO_FLUSH,toString.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=inflate_1$2.inflate(n,s),i===Z_NEED_DICT&&a&&(i=inflate_1$2.inflateSetDictionary(n,a),i===Z_OK?i=inflate_1$2.inflate(n,s):i===Z_DATA_ERROR&&(i=Z_NEED_DICT));n.avail_in>0&&i===Z_STREAM_END&&n.state.wrap>0&&e[n.next_in]!==0;)inflate_1$2.inflateReset(n),i=inflate_1$2.inflate(n,s);switch(i){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(i),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||i===Z_STREAM_END))if(this.options.to==="string"){let b=strings.utf8border(n.output,n.next_out),f=n.next_out-b,u=strings.buf2string(n.output,b);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(b,b+f),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Z_OK&&l===0)){if(i===Z_STREAM_END)return i=inflate_1$2.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(e){this.chunks.push(e)};Inflate$1.prototype.onEnd=function(e){e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function inflate$1(e,t){const n=new Inflate$1(t);if(n.push(e),n.err)throw n.msg||messages[n.err];return n.result}function inflateRaw$1(e,t){return t=t||{},t.raw=!0,inflate$1(e,t)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$5=constants$2$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$5};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;dist.struct([dist.publicKey("authority"),dist.vecU8("data")]);function uint64$1(e){return new WrappedLayout$2(blob(8),t=>u64$1.fromBuffer(t),t=>t.toBuffer(),e)}function publicKey$5(e){return new WrappedLayout$2(blob(32),t=>new PublicKey(t),t=>t.toBuffer(),e)}function coption$1(e,t){return new COptionLayout$1(e,t)}class WrappedLayout$2 extends Layout_2{constructor(t,n,r,a){super(t.span,a),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}class COptionLayout$1 extends Layout_2{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=u32()}encode(t,n,r=0){return t==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(t,n,r+4)+4)}decode(t,n=0){const r=this.discriminator.decode(t,n);if(r===0)return null;if(r===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class u64$1 extends BN{toBuffer(){const t=super.toArray().reverse(),n=dist$1.Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=dist$1.Buffer.alloc(8);return n.copy(r),r}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new u64$1([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}struct([publicKey$5("mint"),publicKey$5("owner"),uint64$1("amount"),coption$1(publicKey$5(),"delegate"),(e=>{const t=union(u8("discriminator"),null,e);return t.addVariant(0,struct([]),"uninitialized"),t.addVariant(1,struct([]),"initialized"),t.addVariant(2,struct([]),"frozen"),t})("state"),coption$1(uint64$1(),"isNative"),uint64$1("delegatedAmount"),coption$1(publicKey$5(),"closeAuthority")]);SYSVAR_RENT_PUBKEY,SystemProgram.programId,SYSVAR_CLOCK_PUBKEY;new PublicKey("11111111111111111111111111111111");isBrowser$1||(exports.workspace=require("./workspace.js").default,exports.Wallet=require("./nodewallet.js").default);const RPC_NETWORKS=[{name:"alchemy1",url:""},{name:"alchemy2",url:""},{name:"alchemy3",url:""}],useGlobalStore=defineStore("globalStore",{state:()=>({connection:new Connection(RPC_NETWORKS[1].url)}),getters:{get_provider(){const e={preflightCommitment:"processed"};return new AnchorProvider$1(useGlobalStore().connection,useWallet().wallet,e)}},actions:{}});var src$6={},constants$4={},_a;const isBrowser={}.ANCHOR_BROWSER||typeof window<"u"&&!(!((_a=window.process)===null||_a===void 0)&&_a.hasOwnProperty("type"));function chunks(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((n,r)=>e.slice(r*t,(r+1)*t))}function encode$3(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"0x")}function decode$4(e){e.indexOf("0x")===0&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return t===null?bufferPolyfill.Buffer.from([]):bufferPolyfill.Buffer.from(t.map(n=>parseInt(n,16)))}var hex=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$3,decode:decode$4},Symbol.toStringTag,{value:"Module"}));function decode$3(e){return(isBrowser?new TextDecoder("utf-8"):new(require("util")).TextDecoder("utf-8")).decode(e)}function encode$2(e){return(isBrowser?new TextEncoder:new(require("util")).TextEncoder("utf-8")).encode(e)}var utf8=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$3,encode:encode$2},Symbol.toStringTag,{value:"Module"}));function encode$1(e){return bs58$2.encode(e)}function decode$2(e){return bs58$2.decode(e)}var bs58$1=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$1,decode:decode$2},Symbol.toStringTag,{value:"Module"}));function encode(e){return fromByteArray_1(e)}function decode$1(e){return bufferPolyfill.Buffer.from(toByteArray_1(e))}var base64=Object.freeze(Object.defineProperty({__proto__:null,encode,decode:decode$1},Symbol.toStringTag,{value:"Module"})),index$1=Object.freeze(Object.defineProperty({__proto__:null,hex,utf8,bs58:bs58$1,base64},Symbol.toStringTag,{value:"Module"}));function parseIdlErrors(e){const t=new Map;return e.errors&&e.errors.forEach(n=>{var r;let a=(r=n.msg)!==null&&r!==void 0?r:n.name;t.set(n.code,a)}),t}function toInstruction(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach(a=>{n[a.name]=t[r],r+=1}),n}function validateAccounts(e,t={}){e.forEach(n=>{if("accounts"in n)validateAccounts(n.accounts,t[n.name]);else if(t[n.name]===void 0)throw new Error(`Invalid arguments: ${n.name} not provided.`)})}function translateAddress(e){return e instanceof PublicKey?e:new PublicKey(e)}async function invoke(e,t,n,r){e=translateAddress(e),r||(r=getProvider());const a=new Transaction;if(a.add(new TransactionInstruction({programId:e,keys:t??[],data:n})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(a,[])}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccounts(e,t,n){if(t.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsCore(e,t,n);{const r=chunks(t,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(r.map(i=>getMultipleAccountsCore(e,i,n)))).flat()}}async function getMultipleAccountsCore(e,t,n){const r=n??e.commitment;return(await e.getMultipleAccountsInfo(t,r)).map((i,s)=>i===null?null:{publicKey:t[s],account:i})}async function simulateTransaction(e,t,n,r,a){n&&n.length>0&&t.sign(...n);const i=t._compile(),s=i.serialize(),b=t._serialize(s).toString("base64"),f={encoding:"base64",commitment:r??e.commitment};if(a){const p=(Array.isArray(a)?a:i.nonProgramIds()).map(_=>_.toBase58());f.accounts={encoding:"base64",addresses:p}}n&&(f.sigVerify=!0);const u=[b,f],d=await e._rpcRequest("simulateTransaction",u),m=create(d,SimulatedTransactionResponseStruct);if("error"in m){let p;if("data"in m.error&&(p=m.error.data.logs,p&&Array.isArray(p))){const _=`
    `,S=_+p.join(_);console.error(m.error.message,S)}throw new SendTransactionError("failed to simulate transaction: "+m.error.message,p)}return m.result}function jsonRpcResult(e){return coerce(createRpcResult(e),UnknownRpcResult,t=>"error"in t?t:{...t,result:create(t.result,e)})}const UnknownRpcResult=createRpcResult(unknown());function createRpcResult(e){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext(e){return jsonRpcResult(type({context:type({slot:number()}),value:e}))}const SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())}));var rpc$1=Object.freeze(Object.defineProperty({__proto__:null,invoke,getMultipleAccounts,simulateTransaction},Symbol.toStringTag,{value:"Module"}));class AnchorProvider{constructor(t,n,r){this.connection=t,this.wallet=n,this.opts=r,this.publicKey=n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n){if(isBrowser)throw new Error("Provider local is not available on browser.");n=n??AnchorProvider.defaultOptions();const r=new Connection(t??"http://localhost:8899",n.preflightCommitment),i=require("./nodewallet.js").default.local();return new AnchorProvider(r,i,n)}static env(){if(isBrowser)throw new Error("Provider env is not available on browser.");require("process");const t={}.ANCHOR_PROVIDER_URL;if(t===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const n=AnchorProvider.defaultOptions(),r=new Connection(t,n.commitment),i=require("./nodewallet.js").default.local();return new AnchorProvider(r,i,n)}async sendAndConfirm(t,n,r){var a;r===void 0&&(r=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),(n??[]).forEach(s=>{t.partialSign(s)});const i=t.serialize();try{return await sendAndConfirmRawTransaction(this.connection,i,r)}catch(s){if(s instanceof ConfirmError){const l=await this.connection.getTransaction(encode$1(t.signature),{commitment:"confirmed"});if(l){const b=(a=l.meta)===null||a===void 0?void 0:a.logMessages;throw b?new SendTransactionError(s.message,b):s}else throw s}else throw s}}async sendAll(t,n){n===void 0&&(n=this.opts);const r=await this.connection.getRecentBlockhash(n.preflightCommitment);let a=t.map(l=>{var b;let f=l.tx,u=(b=l.signers)!==null&&b!==void 0?b:[];return f.feePayer=this.wallet.publicKey,f.recentBlockhash=r.blockhash,u.forEach(d=>{f.partialSign(d)}),f});const i=await this.wallet.signAllTransactions(a),s=[];for(let l=0;l<a.length;l+=1){const f=i[l].serialize();s.push(await sendAndConfirmRawTransaction(this.connection,f,n))}return s}async simulate(t,n,r,a){t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,t=await this.wallet.signTransaction(t);const i=await simulateTransaction(this.connection,t,n,r,a);if(i.value.err)throw new SimulateError(i.value);return i.value}}class SimulateError extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function sendAndConfirmRawTransaction(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},a=await e.sendRawTransaction(t,r),i=(await e.confirmTransaction(a,n&&n.commitment)).value;if(i.err)throw new ConfirmError(`Raw transaction ${a} failed (${JSON.stringify(i)})`);return a}class ConfirmError extends Error{constructor(t){super(t)}}function setProvider(e){_provider=e}function getProvider(){return _provider===null?AnchorProvider.local():_provider}let _provider=null;const _AVAILABLE_FEATURES=new Set(["anchor-deprecated-state","debug-logs"]),_FEATURES=new Map;function set(e){if(!_AVAILABLE_FEATURES.has(e))throw new Error("Invalid feature");_FEATURES.set(e,!0)}function isSet$1(e){return _FEATURES.get(e)!==void 0}var features=Object.freeze(Object.defineProperty({__proto__:null,set,isSet:isSet$1},Symbol.toStringTag,{value:"Module"}));class IdlError extends Error{constructor(t){super(t),this.name="IdlError"}}class ProgramErrorStack{constructor(t){this.stack=t}static parse(t){var n;const r=/^Program (\w*) invoke/,a=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(a.exec(t[s])){i.pop();continue}const l=(n=r.exec(t[s]))===null||n===void 0?void 0:n[1];!l||i.push(new PublicKey(l))}return new ProgramErrorStack(i)}}class AnchorError extends Error{constructor(t,n,r,a,i,s){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=a,this.error={errorCode:t,errorMessage:n,comparedValues:s,origin:i},this._programErrorStack=ProgramErrorStack.parse(a)}static parse(t){if(!t)return null;const n=t.findIndex(m=>m.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=t[n],a=[r];let i;if(n+1<t.length){if(t[n+1]==="Program log: Left:"){const m=/^Program log: (.*)$/,p=m.exec(t[n+2])[1],_=m.exec(t[n+4])[1];i=[new PublicKey(p),new PublicKey(_)],a.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const m=/^Program log: (Left|Right): (.*)$/,p=m.exec(t[n+1])[2],_=m.exec(t[n+2])[2];a.push(...t.slice(n+1,n+3)),i=[p,_]}}const l=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),f=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),d=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(l){const[m,p,_]=l.slice(1,4),S={code:m,number:parseInt(p)};return new AnchorError(S,_,a,t,void 0,i)}else if(f){const[m,p,_,S,A]=f.slice(1,6),E={code:_,number:parseInt(S)},w={file:m,line:parseInt(p)};return new AnchorError(E,A,a,t,w,i)}else if(d){const[m,p,_,S]=d.slice(1,5),A=m,E={code:p,number:parseInt(_)};return new AnchorError(E,S,a,t,A,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(t,n,r){super(),this.code=t,this.msg=n,this.logs=r,r&&(this._programErrorStack=ProgramErrorStack.parse(r))}static parse(t,n){const r=t.toString();let a;if(r.includes("custom program error:")){let l=r.split("custom program error: ");if(l.length!==2)return null;a=l[1]}else{const l=r.match(/"Custom":([0-9]+)}/g);if(!l||l.length>1)return null;a=l[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(a)}catch{return null}let s=n.get(i);return s!==void 0?new ProgramError(i,s,t.logs):(s=LangErrorMessage.get(i),s!==void 0?new ProgramError(i,s,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function translateError(e,t){isSet$1("debug-logs")&&console.log("Translating error:",e);const n=AnchorError.parse(e.logs);if(n)return n;const r=ProgramError.parse(e,t);if(r)return r;if(e.logs){const a={get:function(i,s){return s==="programErrorStack"?i.programErrorStack.stack:s==="program"?i.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=ProgramErrorStack.parse(e.logs),new Proxy(e,a)}return e}const LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"A state constraint was violated"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode.ConstraintSpace,"A space constraint was violated"],[LangErrorCode.RequireViolated,"A require expression was violated"],[LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode.AccountNotSigner,"The given account did not sign"],[LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[LangErrorCode.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);var camelcase={exports:{}};const preserveCamelCase=e=>{let t=!1,n=!1,r=!1;for(let a=0;a<e.length;a++){const i=e[a];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,a)+"-"+e.slice(a),t=!1,r=n,n=!0,a++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,a-1)+"-"+e.slice(a-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e},camelCase=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);const n=a=>t.pascalCase?a.charAt(0).toUpperCase()+a.slice(1):a;return Array.isArray(e)?e=e.map(a=>a.trim()).filter(a=>a.length).join("-"):e=e.trim(),e.length===0?"":e.length===1?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=preserveCamelCase(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(a,i)=>i.toUpperCase()).replace(/\d+(\w|$)/g,a=>a.toUpperCase()),n(e))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var camelCase$1=camelcase.exports,sha256$1={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof dist$1.process=="object"&&dist$1.process.versions&&dist$1.process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(a){return t.create().update(a)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(a){return new HmacSha256(a,e)},t.update=function(a,i){return t.create(a).update(i)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var r,a=0,i,s=e.length,l=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),t)for(i=this.start;a<s&&i<64;++a)l[i>>2]|=e[a]<<SHIFT[i++&3];else for(i=this.start;a<s&&i<64;++a)r=e.charCodeAt(a),r<128?l[i>>2]|=r<<SHIFT[i++&3]:r<2048?(l[i>>2]|=(192|r>>6)<<SHIFT[i++&3],l[i>>2]|=(128|r&63)<<SHIFT[i++&3]):r<55296||r>=57344?(l[i>>2]|=(224|r>>12)<<SHIFT[i++&3],l[i>>2]|=(128|r>>6&63)<<SHIFT[i++&3],l[i>>2]|=(128|r&63)<<SHIFT[i++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++a)&1023),l[i>>2]|=(240|r>>18)<<SHIFT[i++&3],l[i>>2]|=(128|r>>12&63)<<SHIFT[i++&3],l[i>>2]|=(128|r>>6&63)<<SHIFT[i++&3],l[i>>2]|=(128|r&63)<<SHIFT[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=l[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,i=this.h5,s=this.h6,l=this.h7,b=this.blocks,f,u,d,m,p,_,S,A,E,w,M;for(f=16;f<64;++f)p=b[f-15],u=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=b[f-2],d=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,b[f]=b[f-16]+u+b[f-7]+d<<0;for(M=t&n,f=0;f<64;f+=4)this.first?(this.is224?(A=300032,p=b[0]-1413257819,l=p-150054599<<0,r=p+24177077<<0):(A=704751109,p=b[0]-210244248,l=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(u=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),d=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),A=e&t,m=A^e&n^M,S=a&i^~a&s,p=l+d+S+K[f]+b[f],_=u+m,l=r+p<<0,r=p+_<<0),u=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),d=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),E=r&e,m=E^r&t^A,S=l&a^~l&i,p=s+d+S+K[f+1]+b[f+1],_=u+m,s=n+p<<0,n=p+_<<0,u=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),d=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),w=n&r,m=w^n&e^E,S=s&l^~s&a,p=i+d+S+K[f+2]+b[f+2],_=u+m,i=t+p<<0,t=p+_<<0,u=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),d=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),M=t&n,m=M^t&r^w,S=i&s^~i&l,p=a+d+S+K[f+3]+b[f+3],_=u+m,a=e+p<<0,e=p+_<<0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+a<<0,this.h5=this.h5+i<<0,this.h6=this.h6+s<<0,this.h7=this.h7+l<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,i=this.h5,s=this.h6,l=this.h7,b=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15];return this.is224||(b+=HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]),b},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,i=this.h5,s=this.h6,l=this.h7,b=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255];return this.is224||b.push(l>>24&255,l>>16&255,l>>8&255,l&255),b},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};function HmacSha256(e,t,n){var r,a=typeof e;if(a==="string"){var i=[],s=e.length,l=0,b;for(r=0;r<s;++r)b=e.charCodeAt(r),b<128?i[l++]=b:b<2048?(i[l++]=192|b>>6,i[l++]=128|b&63):b<55296||b>=57344?(i[l++]=224|b>>12,i[l++]=128|b>>6&63,i[l++]=128|b&63):(b=65536+((b&1023)<<10|e.charCodeAt(++r)&1023),i[l++]=240|b>>18,i[l++]=128|b>>12&63,i[l++]=128|b>>6&63,i[l++]=128|b&63);e=i}else if(a==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var f=[],u=[];for(r=0;r<64;++r){var d=e[r]||0;f[r]=92^d,u[r]=54^d}Sha256.call(this,t,n),this.update(u),this.oKeyPad=f,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var lib={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const n=Layout$1,r=require$$0$1,a=t(bn.exports);var i=Layout$1;Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}});class s extends n.Layout{constructor(R,O,j){super(R,j),this.blob=n.blob(R),this.signed=O}decode(R,O=0){const j=new a.default(this.blob.decode(R,O),10,"le");return this.signed?j.fromTwos(this.span*8).clone():j}encode(R,O,j=0){return this.signed&&(R=R.toTwos(this.span*8)),this.blob.encode(R.toArrayLike(dist$1.Buffer,"le",this.span),O,j)}}function l($){return new s(8,!1,$)}e.u64=l;function b($){return new s(8,!0,$)}e.i64=b;function f($){return new s(16,!1,$)}e.u128=f;function u($){return new s(16,!0,$)}e.i128=u;class d extends n.Layout{constructor(R,O,j,C){super(R.span,C),this.layout=R,this.decoder=O,this.encoder=j}decode(R,O){return this.decoder(this.layout.decode(R,O))}encode(R,O,j){return this.layout.encode(this.encoder(R),O,j)}getSpan(R,O){return this.layout.getSpan(R,O)}}function m($){return new d(n.blob(32),R=>new r.PublicKey(R),R=>R.toBuffer(),$)}e.publicKey=m;class p extends n.Layout{constructor(R,O){super(-1,O),this.layout=R,this.discriminator=n.u8()}encode(R,O,j=0){return R==null?this.discriminator.encode(0,O,j):(this.discriminator.encode(1,O,j),this.layout.encode(R,O,j+1)+1)}decode(R,O=0){const j=this.discriminator.decode(R,O);if(j===0)return null;if(j===1)return this.layout.decode(R,O+1);throw new Error("Invalid option "+this.property)}getSpan(R,O=0){const j=this.discriminator.decode(R,O);if(j===0)return 1;if(j===1)return this.layout.getSpan(R,O+1)+1;throw new Error("Invalid option "+this.property)}}function _($,R){return new p($,R)}e.option=_;function S($){return new d(n.u8(),A,E,$)}e.bool=S;function A($){if($===0)return!1;if($===1)return!0;throw new Error("Invalid bool: "+$)}function E($){return $?1:0}function w($,R){const O=n.u32("length"),j=n.struct([O,n.seq($,n.offset(O,-O.span),"values")]);return new d(j,({values:C})=>C,C=>({values:C}),R)}e.vec=w;function M($,R,O){const j=n.struct([l("tag"),R.replicate("data")]);function C({tag:N,data:U}){if(!N.eq($))throw new Error("Invalid tag, expected: "+$.toString("hex")+", got: "+N.toString("hex"));return U}return new d(j,C,N=>({tag:$,data:N}),O)}e.tagged=M;function T($){const R=n.u32("length"),O=n.struct([R,n.blob(n.offset(R,-R.span),"data")]);return new d(O,({data:j})=>j,j=>({data:j}),$)}e.vecU8=T;function v($){return new d(T(),R=>R.toString("utf-8"),R=>dist$1.Buffer.from(R,"utf-8"),$)}e.str=v;function D($,R,O){const j=n.union(O??n.u8(),R);return $.forEach((C,N)=>j.addVariant(N,C,C.property)),j}e.rustEnum=D;function L($,R,O){const j=n.struct([n.seq($,R,"values")]);return new d(j,({values:C})=>C,C=>({values:C}),O)}e.array=L;class I extends n.Layout{constructor(R,O,j){super(R.span+O.span,j),this.keyLayout=R,this.valueLayout=O}decode(R,O){O=O||0;const j=this.keyLayout.decode(R,O),C=this.valueLayout.decode(R,O+this.keyLayout.getSpan(R,O));return[j,C]}encode(R,O,j){j=j||0;const C=this.keyLayout.encode(R[0],O,j),N=this.valueLayout.encode(R[1],O,j+C);return C+N}getSpan(R,O){return this.keyLayout.getSpan(R,O)+this.valueLayout.getSpan(R,O)}}function k($,R,O){const j=n.u32("length"),C=n.struct([j,n.seq(new I($,R),n.offset(j,-j.span),"values")]);return new d(C,({values:N})=>new Map(N),N=>({values:Array.from(N.entries())}),O)}e.map=k})(lib);class IdlCoder{static fieldLayout(t,n){const r=t.name!==void 0?camelCase$1(t.name):void 0;switch(t.type){case"bool":return lib.bool(r);case"u8":return lib.u8(r);case"i8":return lib.i8(r);case"u16":return lib.u16(r);case"i16":return lib.i16(r);case"u32":return lib.u32(r);case"i32":return lib.i32(r);case"f32":return lib.f32(r);case"u64":return lib.u64(r);case"i64":return lib.i64(r);case"f64":return lib.f64(r);case"u128":return lib.u128(r);case"i128":return lib.i128(r);case"bytes":return lib.vecU8(r);case"string":return lib.str(r);case"publicKey":return lib.publicKey(r);default:{if("vec"in t.type)return lib.vec(IdlCoder.fieldLayout({name:void 0,type:t.type.vec},n),r);if("option"in t.type)return lib.option(IdlCoder.fieldLayout({name:void 0,type:t.type.option},n),r);if("defined"in t.type){const a=t.type.defined;if(n===void 0)throw new IdlError("User defined types not provided");const i=n.filter(s=>s.name===a);if(i.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(t)}`);return IdlCoder.typeDefLayout(i[0],n,r)}else if("array"in t.type){let a=t.type.array[0],i=t.type.array[1],s=IdlCoder.fieldLayout({name:void 0,type:a},n);return lib.array(s,i,r)}else throw new Error(`Not yet implemented: ${t}`)}}}static typeDefLayout(t,n=[],r){if(t.type.kind==="struct"){const a=t.type.fields.map(i=>IdlCoder.fieldLayout(i,n));return lib.struct(a,r)}else if(t.type.kind==="enum"){let a=t.type.variants.map(i=>{const s=camelCase$1(i.name);if(i.fields===void 0)return lib.struct([],s);const l=i.fields.map(b=>{if(!b.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return IdlCoder.fieldLayout(b,n)});return lib.struct(l,s)});return r!==void 0?lib.rustEnum(a).replicate(r):lib.rustEnum(a,r)}else throw new Error(`Unknown type kint: ${t}`)}}const SIGHASH_STATE_NAMESPACE="state",SIGHASH_GLOBAL_NAMESPACE="global";class BorshInstructionCoder{constructor(t){this.idl=t,this.ixLayout=BorshInstructionCoder.parseIxLayout(t);const n=new Map;t.instructions.forEach(r=>{const a=sighash(SIGHASH_GLOBAL_NAMESPACE,r.name);n.set(bs58$2.encode(a),{layout:this.ixLayout.get(r.name),name:r.name})}),t.state&&t.state.methods.map(r=>{const a=sighash(SIGHASH_STATE_NAMESPACE,r.name);n.set(bs58$2.encode(a),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=n}encode(t,n){return this._encode(SIGHASH_GLOBAL_NAMESPACE,t,n)}encodeState(t,n){return this._encode(SIGHASH_STATE_NAMESPACE,t,n)}_encode(t,n,r){const a=bufferPolyfill.Buffer.alloc(1e3),i=camelCase$1(n),s=this.ixLayout.get(i);if(!s)throw new Error(`Unknown method: ${i}`);const l=s.encode(r,a),b=a.slice(0,l);return bufferPolyfill.Buffer.concat([sighash(t,n),b])}static parseIxLayout(t){const r=(t.state?t.state.methods:[]).map(a=>{let i=a.args.map(l=>{var b,f;return IdlCoder.fieldLayout(l,Array.from([...(b=t.accounts)!==null&&b!==void 0?b:[],...(f=t.types)!==null&&f!==void 0?f:[]]))});const s=camelCase$1(a.name);return[s,lib.struct(i,s)]}).concat(t.instructions.map(a=>{let i=a.args.map(l=>{var b,f;return IdlCoder.fieldLayout(l,Array.from([...(b=t.accounts)!==null&&b!==void 0?b:[],...(f=t.types)!==null&&f!==void 0?f:[]]))});const s=camelCase$1(a.name);return[s,lib.struct(i,s)]}));return new Map(r)}decode(t,n="hex"){typeof t=="string"&&(t=n==="hex"?bufferPolyfill.Buffer.from(t,"hex"):bs58$2.decode(t));let r=bs58$2.encode(t.slice(0,8)),a=t.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(a),name:i.name}:null}format(t,n){return InstructionFormatter.format(t,n,this.idl)}}class InstructionFormatter{static format(t,n,r){const a=r.instructions.filter(b=>t.name===b.name)[0];if(a===void 0)return console.error("Invalid instruction given"),null;const i=a.args.map(b=>({name:b.name,type:InstructionFormatter.formatIdlType(b.type),data:InstructionFormatter.formatIdlData(b,t.data[b.name],r.types)})),s=InstructionFormatter.flattenIdlAccounts(a.accounts),l=n.map((b,f)=>f<s.length?{name:s[f].name,...b}:{name:void 0,...b});return{args:i,accounts:l}}static formatIdlType(t){if(typeof t=="string")return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,n,r){if(typeof t.type=="string")return n.toString();if(t.type.hasOwnProperty("vec"))return"["+n.map(a=>this.formatIdlData({name:"",type:t.type.vec},a)).join(", ")+"]";if(t.type.hasOwnProperty("option"))return n===null?"null":this.formatIdlData({name:"",type:t.type.option},n,r);if(t.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const a=r.filter(i=>i.name===t.type.defined);if(a.length!==1)throw new Error(`Type not found: ${t.type.defined}`);return InstructionFormatter.formatIdlDataDefined(a[0],n,r)}return"unknown"}static formatIdlDataDefined(t,n,r){if(t.type.kind==="struct"){const a=t.type,i=Object.keys(n).map(s=>{const l=a.fields.filter(b=>b.name===s)[0];if(l===void 0)throw new Error("Unable to find type");return s+": "+InstructionFormatter.formatIdlData(l,n[s],r)}).join(", ");return"{ "+i+" }"}else{if(t.type.variants.length===0)return"{}";if(t.type.variants[0].name){const a=t.type.variants,i=Object.keys(n)[0],s=n[i],l=Object.keys(s).map(f=>{var u;const d=s[f],m=(u=a[i])===null||u===void 0?void 0:u.filter(p=>p.name===f)[0];if(m===void 0)throw new Error("Unable to find variant");return f+": "+InstructionFormatter.formatIdlData(m,d,r)}).join(", "),b=camelCase$1(i,{pascalCase:!0});return l.length===0?b:`${b} { ${l} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(t,n){return t.map(r=>{const a=sentenceCase(r.name);if(r.hasOwnProperty("accounts")){const i=n?`${n} > ${a}`:a;return InstructionFormatter.flattenIdlAccounts(r.accounts,i)}else return{...r,name:n?`${n} > ${a}`:a}}).flat()}}function sentenceCase(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function sighash(e,t){let n=snakeCase(t),r=`${e}:${n}`;return bufferPolyfill.Buffer.from(sha256$1.exports.sha256.digest(r)).slice(0,8)}function accountSize(e,t){if(t.type.kind==="enum"){let n=t.type.variants.map(r=>r.fields===void 0?0:r.fields.map(a=>{if(!(typeof a=="object"&&"name"in a))throw new Error("Tuple enum variants not yet implemented.");return typeSize(e,a.type)}).reduce((a,i)=>a+i));return Math.max(...n)+1}return t.type.fields===void 0?0:t.type.fields.map(n=>typeSize(e,n.type)).reduce((n,r)=>n+r,0)}function typeSize(e,t){var n,r;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+typeSize(e,t.option);if("coption"in t)return 4+typeSize(e,t.coption);if("defined"in t){const a=(r=(n=e.types)===null||n===void 0?void 0:n.filter(s=>s.name===t.defined))!==null&&r!==void 0?r:[];if(a.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(t)}`);let i=a[0];return accountSize(e,i)}if("array"in t){let a=t.array[0],i=t.array[1];return typeSize(e,a)*i}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const ACCOUNT_DISCRIMINATOR_SIZE=8;class BorshAccountsCoder{constructor(t){if(t.accounts===void 0){this.accountLayouts=new Map;return}const n=t.accounts.map(r=>[r.name,IdlCoder.typeDefLayout(r,t.types)]);this.accountLayouts=new Map(n),this.idl=t}async encode(t,n){const r=bufferPolyfill.Buffer.alloc(1e3),a=this.accountLayouts.get(t);if(!a)throw new Error(`Unknown account: ${t}`);const i=a.encode(n,r);let s=r.slice(0,i),l=BorshAccountsCoder.accountDiscriminator(t);return bufferPolyfill.Buffer.concat([l,s])}decode(t,n){if(BorshAccountsCoder.accountDiscriminator(t).compare(n.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,n)}decodeUnchecked(t,n){const r=n.slice(ACCOUNT_DISCRIMINATOR_SIZE),a=this.accountLayouts.get(t);if(!a)throw new Error(`Unknown account: ${t}`);return a.decode(r)}memcmp(t,n){const r=BorshAccountsCoder.accountDiscriminator(t);return{offset:0,bytes:bs58$2.encode(n?bufferPolyfill.Buffer.concat([r,n]):r)}}size(t){var n;return ACCOUNT_DISCRIMINATOR_SIZE+((n=accountSize(this.idl,t))!==null&&n!==void 0?n:0)}static accountDiscriminator(t){return bufferPolyfill.Buffer.from(sha256$1.exports.sha256.digest(`account:${camelCase$1(t,{pascalCase:!0})}`)).slice(0,ACCOUNT_DISCRIMINATOR_SIZE)}}class BorshEventCoder{constructor(t){if(t.events===void 0){this.layouts=new Map;return}const n=t.events.map(r=>{let a={name:r.name,type:{kind:"struct",fields:r.fields.map(i=>({name:i.name,type:i.type}))}};return[r.name,IdlCoder.typeDefLayout(a,t.types)]});this.layouts=new Map(n),this.discriminators=new Map(t.events===void 0?[]:t.events.map(r=>[fromByteArray_1(eventDiscriminator(r.name)),r.name]))}decode(t){let n;try{n=bufferPolyfill.Buffer.from(toByteArray_1(t))}catch{return null}const r=fromByteArray_1(n.slice(0,8)),a=this.discriminators.get(r);if(a===void 0)return null;const i=this.layouts.get(a);if(!i)throw new Error(`Unknown event: ${a}`);return{data:i.decode(n.slice(8)),name:a}}}function eventDiscriminator(e){return bufferPolyfill.Buffer.from(sha256$1.exports.sha256.digest(`event:${e}`)).slice(0,8)}class BorshStateCoder{constructor(t){if(t.state===void 0)throw new Error("Idl state not defined.");this.layout=IdlCoder.typeDefLayout(t.state.struct,t.types)}async encode(t,n){const r=bufferPolyfill.Buffer.alloc(1e3),a=this.layout.encode(n,r),i=await stateDiscriminator(t),s=r.slice(0,a);return bufferPolyfill.Buffer.concat([i,s])}decode(t){const n=t.slice(8);return this.layout.decode(n)}}async function stateDiscriminator(e){let t=isSet$1("anchor-deprecated-state")?"account":"state";return bufferPolyfill.Buffer.from(sha256$1.exports.sha256.digest(`${t}:${e}`)).slice(0,8)}class BorshTypesCoder{constructor(t){if(t.types===void 0){this.typeLayouts=new Map;return}const n=t.types.map(r=>[r.name,IdlCoder.typeDefLayout(r,t.types)]);this.typeLayouts=new Map(n),this.idl=t}encode(t,n){const r=bufferPolyfill.Buffer.alloc(1e3),a=this.typeLayouts.get(t);if(!a)throw new Error(`Unknown type: ${t}`);const i=a.encode(n,r);return r.slice(0,i)}decode(t,n){const r=this.typeLayouts.get(t);if(!r)throw new Error(`Unknown type: ${t}`);return r.decode(n)}}class BorshCoder{constructor(t){this.instruction=new BorshInstructionCoder(t),this.accounts=new BorshAccountsCoder(t),this.events=new BorshEventCoder(t),t.state&&(this.state=new BorshStateCoder(t)),this.types=new BorshTypesCoder(t)}}class SplTokenInstructionCoder{constructor(t){}encode(t,n){switch(camelCase$1(t)){case"initializeMint":return encodeInitializeMint(n);case"initializeAccount":return encodeInitializeAccount();case"initializeMultisig":return encodeInitializeMultisig(n);case"transfer":return encodeTransfer$1(n);case"approve":return encodeApprove(n);case"revoke":return encodeRevoke();case"setAuthority":return encodeSetAuthority(n);case"mintTo":return encodeMintTo(n);case"burn":return encodeBurn(n);case"closeAccount":return encodeCloseAccount();case"freezeAccount":return encodeFreezeAccount();case"thawAccount":return encodeThawAccount();case"transferChecked":return encodeTransferChecked(n);case"approvedChecked":return encodeApproveChecked(n);case"mintToChecked":return encodeMintToChecked(n);case"burnChecked":return encodeBurnChecked(n);case"intializeAccount2":return encodeInitializeAccount2(n);case"syncNative":return encodeSyncNative();case"initializeAccount3":return encodeInitializeAccount3(n);case"initializeMultisig2":return encodeInitializeMultisig2(n);case"initializeMint2":return encodeInitializeMint2(n);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,n){throw new Error("SPL token does not have state")}}function encodeInitializeMint({decimals:e,mintAuthority:t,freezeAuthority:n}){return encodeData$1({initializeMint:{decimals:e,mintAuthority:t.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||PublicKey.default).toBuffer()}})}function encodeInitializeAccount(e){return encodeData$1({initializeAccount:{}})}function encodeInitializeMultisig({m:e}){return encodeData$1({initializeMultisig:{m:e}})}function encodeTransfer$1({amount:e}){return encodeData$1({transfer:{amount:e}})}function encodeApprove({amount:e}){return encodeData$1({approve:{amount:e}})}function encodeRevoke(e){return encodeData$1({revoke:{}})}function encodeSetAuthority({authorityType:e,newAuthority:t}){return encodeData$1({setAuthority:{authorityType:e,newAuthority:t}})}function encodeMintTo({amount:e}){return encodeData$1({mintTo:{amount:e}})}function encodeBurn({amount:e}){return encodeData$1({burn:{amount:e}})}function encodeCloseAccount(e){return encodeData$1({closeAccount:{}})}function encodeFreezeAccount(e){return encodeData$1({freezeAccount:{}})}function encodeThawAccount(e){return encodeData$1({thawAccount:{}})}function encodeTransferChecked({amount:e,decimals:t}){return encodeData$1({transferChecked:{amount:e,decimals:t}})}function encodeApproveChecked({amount:e,decimals:t}){return encodeData$1({approveChecked:{amount:e,decimals:t}})}function encodeMintToChecked({amount:e,decimals:t}){return encodeData$1({mintToChecked:{amount:e,decimals:t}})}function encodeBurnChecked({amount:e,decimals:t}){return encodeData$1({burnChecked:{amount:e,decimals:t}})}function encodeInitializeAccount2({authority:e}){return encodeData$1({initilaizeAccount2:{authority:e}})}function encodeSyncNative(e){return encodeData$1({syncNative:{}})}function encodeInitializeAccount3({authority:e}){return encodeData$1({initializeAccount3:{authority:e}})}function encodeInitializeMultisig2({m:e}){return encodeData$1({initializeMultisig2:{m:e}})}function encodeInitializeMint2({decimals:e,mintAuthority:t,freezeAuthority:n}){return encodeData$1({encodeInitializeMint2:{decimals:e,mintAuthority:t,freezeAuthority:n}})}const LAYOUT$1=union(u8("instruction"));LAYOUT$1.addVariant(0,struct([u8("decimals"),blob(32,"mintAuthority"),u8("freezeAuthorityOption"),publicKey$4("freezeAuthority")]),"initializeMint");LAYOUT$1.addVariant(1,struct([]),"initializeAccount");LAYOUT$1.addVariant(2,struct([u8("m")]),"initializeMultisig");LAYOUT$1.addVariant(3,struct([nu64("amount")]),"transfer");LAYOUT$1.addVariant(4,struct([nu64("amount")]),"approve");LAYOUT$1.addVariant(5,struct([]),"revoke");LAYOUT$1.addVariant(6,struct([u8("authorityType"),u8("newAuthorityOption"),publicKey$4("newAuthority")]),"setAuthority");LAYOUT$1.addVariant(7,struct([nu64("amount")]),"mintTo");LAYOUT$1.addVariant(8,struct([nu64("amount")]),"burn");LAYOUT$1.addVariant(9,struct([]),"closeAccount");LAYOUT$1.addVariant(10,struct([]),"freezeAccount");LAYOUT$1.addVariant(11,struct([]),"thawAccount");LAYOUT$1.addVariant(12,struct([nu64("amount"),u8("decimals")]),"transferChecked");LAYOUT$1.addVariant(13,struct([nu64("amount"),u8("decimals")]),"approvedChecked");LAYOUT$1.addVariant(14,struct([nu64("amount"),u8("decimals")]),"mintToChecked");LAYOUT$1.addVariant(15,struct([nu64("amount"),u8("decimals")]),"burnedChecked");LAYOUT$1.addVariant(16,struct([publicKey$4("authority")]),"InitializeAccount2");LAYOUT$1.addVariant(17,struct([]),"syncNative");LAYOUT$1.addVariant(18,struct([publicKey$4("authority")]),"initializeAccount3");LAYOUT$1.addVariant(19,struct([u8("m")]),"initializeMultisig2");LAYOUT$1.addVariant(20,struct([u8("decimals"),publicKey$4("mintAuthority"),u8("freezeAuthorityOption"),publicKey$4("freezeAuthority")]),"initializeMint2");function publicKey$4(e){return blob(32,e)}function encodeData$1(e){let t=dist$1.Buffer.alloc(instructionMaxSpan$1),n=LAYOUT$1.encode(e,t);return t.slice(0,n)}const instructionMaxSpan$1=Math.max(...Object.values(LAYOUT$1.registry).map(e=>e.span));class SplTokenStateCoder{constructor(t){}encode(t,n){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function uint64(e){return new WrappedLayout$1(blob(8),t=>u64.fromBuffer(t),t=>t.toBuffer(),e)}function bool$1(e){return new WrappedLayout$1(u8(),decodeBool,encodeBool,e)}function publicKey$3(e){return new WrappedLayout$1(blob(32),t=>new PublicKey(t),t=>t.toBuffer(),e)}function coption(e,t){return new COptionLayout(e,t)}class WrappedLayout$1 extends Layout_2{constructor(t,n,r,a){super(t.span,a),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}class COptionLayout extends Layout_2{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=u32()}encode(t,n,r=0){return t==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(t,n,r+4)+4)}decode(t,n=0){const r=this.discriminator.decode(t,n);if(r===0)return null;if(r===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}function decodeBool(e){if(e===0)return!1;if(e===1)return!0;throw new Error("Invalid bool: "+e)}function encodeBool(e){return e?1:0}class u64 extends BN{toBuffer(){const t=super.toArray().reverse(),n=dist$1.Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=dist$1.Buffer.alloc(8);return n.copy(r),r}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new u64([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}class SplTokenAccountsCoder{constructor(t){this.idl=t}async encode(t,n){switch(t){case"token":{const r=dist$1.Buffer.alloc(165),a=TOKEN_ACCOUNT_LAYOUT.encode(n,r);return r.slice(0,a)}case"mint":{const r=dist$1.Buffer.alloc(82),a=MINT_ACCOUNT_LAYOUT.encode(n,r);return r.slice(0,a)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,n){return this.decodeUnchecked(t,n)}decodeUnchecked(t,n){switch(t){case"token":return decodeTokenAccount(n);case"mint":return decodeMintAccount(n);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,n){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var n;return(n=accountSize(this.idl,t))!==null&&n!==void 0?n:0}}function decodeMintAccount(e){return MINT_ACCOUNT_LAYOUT.decode(e)}function decodeTokenAccount(e){return TOKEN_ACCOUNT_LAYOUT.decode(e)}const MINT_ACCOUNT_LAYOUT=struct([coption(publicKey$3(),"mintAuthority"),uint64("supply"),u8("decimals"),bool$1("isInitialized"),coption(publicKey$3(),"freezeAuthority")]),TOKEN_ACCOUNT_LAYOUT=struct([publicKey$3("mint"),publicKey$3("authority"),uint64("amount"),coption(publicKey$3(),"delegate"),u8("state"),coption(uint64(),"isNative"),uint64("delegatedAmount"),coption(publicKey$3(),"closeAuthority")]);class SplTokenEventsCoder{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class SplTokenTypesCoder{constructor(t){}encode(t,n){throw new Error("SPL token does not have user-defined types")}decode(t,n){throw new Error("SPL token does not have user-defined types")}}class SplTokenCoder{constructor(t){this.instruction=new SplTokenInstructionCoder(t),this.accounts=new SplTokenAccountsCoder(t),this.events=new SplTokenEventsCoder(t),this.state=new SplTokenStateCoder(t),this.types=new SplTokenTypesCoder(t)}}class SystemInstructionCoder{constructor(t){}encode(t,n){switch(camelCase$1(t)){case"createAccount":return encodeCreateAccount(n);case"assign":return encodeAssign(n);case"transfer":return encodeTransfer(n);case"createAccountWithSeed":return encodeCreateAccountWithSeed(n);case"advanceNonceAccount":return encodeAdvanceNonceAccount(n);case"withdrawNonceAccount":return encodeWithdrawNonceAccount(n);case"initializeNonceAccount":return encodeInitializeNonceAccount(n);case"authorizeNonceAccount":return encodeAuthorizeNonceAccount(n);case"allocate":return encodeAllocate(n);case"allocateWithSeed":return encodeAllocateWithSeed(n);case"assignWithSeed":return encodeAssignWithSeed(n);case"transferWithSeed":return encodeTransferWithSeed(n);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,n){throw new Error("System does not have state")}}class RustStringLayout extends Layout_2{constructor(t){super(-1,t),this.property=t,this.layout=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],this.property)}encode(t,n,r=0){if(t==null)return this.layout.span;const a={chars:dist$1.Buffer.from(t,"utf8")};return this.layout.encode(a,n,r)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return u32().span+u32().span+new BN(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function rustStringLayout(e){return new RustStringLayout(e)}function publicKey$2(e){return blob(32,e)}function encodeCreateAccount({lamports:e,space:t,owner:n}){return encodeData({createAccount:{lamports:e,space:t,owner:n.toBuffer()}})}function encodeAssign({owner:e}){return encodeData({assign:{owner:e.toBuffer()}})}function encodeTransfer({lamports:e}){return encodeData({transfer:{lamports:e}})}function encodeCreateAccountWithSeed({base:e,seed:t,lamports:n,space:r,owner:a}){return encodeData({createAccountWithSeed:{base:e.toBuffer(),seed:t,lamports:n,space:r,owner:a.toBuffer()}},LAYOUT.getVariant(3).span+t.length)}function encodeInitializeNonceAccount({authorized:e}){return encodeData({initializeNonceAccount:{authorized:e.toBuffer()}})}function encodeAdvanceNonceAccount({authorized:e}){return encodeData({advanceNonceAccount:{authorized:e.toBuffer()}})}function encodeWithdrawNonceAccount({lamports:e}){return encodeData({withdrawNonceAccount:{lamports:e}})}function encodeAuthorizeNonceAccount({authorized:e}){return encodeData({authorizeNonceAccount:{authorized:e.toBuffer()}})}function encodeAllocate({space:e}){return encodeData({allocate:{space:e}})}function encodeAllocateWithSeed({base:e,seed:t,space:n,owner:r}){return encodeData({allocateWithSeed:{base:e.toBuffer(),seed:t,space:n,owner:r.toBuffer()}},LAYOUT.getVariant(9).span+t.length)}function encodeAssignWithSeed({base:e,seed:t,owner:n}){return encodeData({assignWithSeed:{base:e.toBuffer(),seed:t,owner:n.toBuffer()}},LAYOUT.getVariant(10).span+t.length)}function encodeTransferWithSeed({lamports:e,seed:t,owner:n}){return encodeData({transferWithSeed:{lamports:e,seed:t,owner:n.toBuffer()}},LAYOUT.getVariant(11).span+t.length)}const LAYOUT=union(u32("instruction"));LAYOUT.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccount");LAYOUT.addVariant(1,struct([publicKey$2("owner")]),"assign");LAYOUT.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct([publicKey$2("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct([publicKey$2("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct([publicKey$2("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("space"),publicKey$2("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct([publicKey$2("base"),rustStringLayout("seed"),publicKey$2("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct([ns64("lamports"),rustStringLayout("seed"),publicKey$2("owner")]),"transferWithSeed");function encodeData(e,t){const n=dist$1.Buffer.alloc(t??instructionMaxSpan),r=LAYOUT.encode(e,n);return t===void 0?n.slice(0,r):n}const instructionMaxSpan=Math.max(...Object.values(LAYOUT.registry).map(e=>e.span));class SystemStateCoder{constructor(t){}encode(t,n){throw new Error("System does not have state")}decode(t){throw new Error("System does not have state")}}class SystemAccountsCoder{constructor(t){this.idl=t}async encode(t,n){switch(t){case"nonce":{const r=dist$1.Buffer.alloc(NONCE_ACCOUNT_LENGTH),a=NONCE_ACCOUNT_LAYOUT.encode(n,r);return r.slice(0,a)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,n){return this.decodeUnchecked(t,n)}decodeUnchecked(t,n){switch(t){case"nonce":return decodeNonceAccount(n);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,n){switch(t){case"nonce":return{dataSize:NONCE_ACCOUNT_LENGTH};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var n;return(n=accountSize(this.idl,t))!==null&&n!==void 0?n:0}}function decodeNonceAccount(e){return NONCE_ACCOUNT_LAYOUT.decode(e)}class WrappedLayout extends Layout_2{constructor(t,n,r,a){super(t.span,a),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}function publicKey$1(e){return new WrappedLayout(blob(32),t=>new PublicKey(t),t=>t.toBuffer(),e)}const NONCE_ACCOUNT_LAYOUT=struct([u32("version"),u32("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);class SystemEventsCoder{constructor(t){}decode(t){throw new Error("System program does not have events")}}class SystemTypesCoder{constructor(t){}encode(t,n){throw new Error("System does not have user-defined types")}decode(t,n){throw new Error("System does not have user-defined types")}}class SystemCoder{constructor(t){this.instruction=new SystemInstructionCoder(t),this.accounts=new SystemAccountsCoder(t),this.events=new SystemEventsCoder(t),this.state=new SystemStateCoder(t),this.types=new SystemTypesCoder(t)}}function hash(e){return sha256$1.exports.sha256(e)}var sha256=Object.freeze(Object.defineProperty({__proto__:null,hash},Symbol.toStringTag,{value:"Module"}));function createWithSeedSync(e,t,n){const r=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),n.toBuffer()]),a=sha256$1.exports.sha256.digest(r);return new PublicKey(bufferPolyfill.Buffer.from(a))}function createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(s){if(s.length>32)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer(s)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);let a=sha256$1.exports.sha256(new Uint8Array(r)),i=new BN(a,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}function findProgramAddressSync(e,t){let n=255,r;for(;n!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([n]));r=createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const toBuffer=e=>e instanceof bufferPolyfill.Buffer?e:e instanceof Uint8Array?bufferPolyfill.Buffer.from(e.buffer,e.byteOffset,e.byteLength):bufferPolyfill.Buffer.from(e);async function associated(e,...t){let n=[bufferPolyfill.Buffer.from([97,110,99,104,111,114])];t.forEach(a=>{n.push(a instanceof bufferPolyfill.Buffer?a:translateAddress(a).toBuffer())});const[r]=await PublicKey.findProgramAddress(n,translateAddress(e));return r}var pubkey=Object.freeze(Object.defineProperty({__proto__:null,createWithSeedSync,createProgramAddressSync,findProgramAddressSync,associated},Symbol.toStringTag,{value:"Module"}));const TOKEN_PROGRAM_ID$1=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function associatedAddress({mint:e,owner:t}){return(await PublicKey.findProgramAddress([t.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),e.toBuffer()],ASSOCIATED_PROGRAM_ID))[0]}var token$1=Object.freeze(Object.defineProperty({__proto__:null,TOKEN_PROGRAM_ID:TOKEN_PROGRAM_ID$1,ASSOCIATED_PROGRAM_ID,associatedAddress},Symbol.toStringTag,{value:"Module"}));async function verifiedBuild(e,t,n=5){const r=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[a,i]=await Promise.all([fetchData(e,t),fetch(r)]),s=(await i.json()).filter(b=>!b.aborted&&b.state==="Built"&&b.verified==="Verified");if(s.length===0)return null;const l=s[0];return a.slot.toNumber()!==l.verified_slot?null:l}async function fetchData(e,t){const n=await e.getAccountInfo(t);if(n===null)throw new Error("program account not found");const{program:r}=decodeUpgradeableLoaderState(n.data),a=await e.getAccountInfo(r.programdataAddress);if(a===null)throw new Error("program data account not found");const{programData:i}=decodeUpgradeableLoaderState(a.data);return i}const UPGRADEABLE_LOADER_STATE_LAYOUT=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function decodeUpgradeableLoaderState(e){return UPGRADEABLE_LOADER_STATE_LAYOUT.decode(e)}var registry=Object.freeze(Object.defineProperty({__proto__:null,verifiedBuild,fetchData,decodeUpgradeableLoaderState},Symbol.toStringTag,{value:"Module"})),index=Object.freeze(Object.defineProperty({__proto__:null,sha256,rpc:rpc$1,publicKey:pubkey,bytes:index$1,token:token$1,features,registry},Symbol.toStringTag,{value:"Module"}));async function idlAddress(e){const t=(await PublicKey.findProgramAddress([],e))[0];return await PublicKey.createWithSeed(t,seed(),e)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function decodeIdlAccount(e){return IDL_ACCOUNT_LAYOUT.decode(e)}function splitArgsAndCtx(e,t){var n,r;let a={};const i=e.args?e.args.length:0;if(t.length>i){if(t.length!==i+1)throw new Error(`provided too many arguments ${t} to instruction ${e==null?void 0:e.name} expecting: ${(r=(n=e.args)===null||n===void 0?void 0:n.map(s=>s.name))!==null&&r!==void 0?r:[]}`);a=t.pop()}return[t,a]}class InstructionNamespaceFactory{static build(t,n,r){if(t.name==="_inner")throw new IdlError("the _inner name is reserved");const a=(...i)=>{const[s,l]=splitArgsAndCtx(t,[...i]);validateAccounts(t.accounts,l.accounts),validateInstruction(t,...i);const b=a.accounts(l.accounts);return l.remainingAccounts!==void 0&&b.push(...l.remainingAccounts),isSet$1("debug-logs")&&console.log("Outgoing account metas:",b),new TransactionInstruction({keys:b,programId:r,data:n(t.name,toInstruction(t,...s))})};return a.accounts=i=>InstructionNamespaceFactory.accountsArray(i,t.accounts,t.name),a}static accountsArray(t,n,r){return t?n.map(a=>{if(("accounts"in a?a.accounts:void 0)!==void 0){const s=t[a.name];return InstructionNamespaceFactory.accountsArray(s,a.accounts,r).flat()}else{const s=a;let l;try{l=translateAddress(t[a.name])}catch{throw new Error(`Wrong input type for account "${a.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:l,isWritable:s.isMut,isSigner:s.isSigner}}}).flat():[]}}function validateInstruction(e,...t){}class RpcFactory{static build(t,n,r,a){return async(...s)=>{var l;const b=n(...s),[,f]=splitArgsAndCtx(t,[...s]);if(a.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await a.sendAndConfirm(b,(l=f.signers)!==null&&l!==void 0?l:[],f.options)}catch(u){throw translateError(u,r)}}}}class TransactionFactory{static build(t,n){return(...a)=>{var i,s,l;const[,b]=splitArgsAndCtx(t,[...a]),f=new Transaction;if(b.preInstructions&&b.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=b.preInstructions)===null||i===void 0||i.forEach(u=>f.add(u)),(s=b.instructions)===null||s===void 0||s.forEach(u=>f.add(u)),f.add(n(...a)),(l=b.postInstructions)===null||l===void 0||l.forEach(u=>f.add(u)),f}}}class StateFactory{static build(t,n,r,a){if(t.state!==void 0)return new StateClient(t,r,a,n)}}class StateClient{constructor(t,n,r=getProvider(),a=new BorshCoder(t)){this.provider=r,this.coder=a,this._idl=t,this._programId=n,this._address=programStateAddress(n),this._sub=null;const[i,s,l]=(()=>{var b;let f={},u={},d={};return(b=t.state)===null||b===void 0||b.methods.forEach(m=>{const p=InstructionNamespaceFactory.build(m,(E,w)=>a.instruction.encodeState(E,w),n);p.accounts=E=>stateInstructionKeys(n,r,m,E).concat(InstructionNamespaceFactory.accountsArray(E,m.accounts,m.name));const _=TransactionFactory.build(m,p),S=RpcFactory.build(m,_,parseIdlErrors(t),r),A=camelCase$1(m.name);f[A]=p,u[A]=_,d[A]=S}),[f,u,d]})();this.instruction=i,this.transaction=s,this.rpc=l}get programId(){return this._programId}async fetch(){const t=this.address(),n=await this.provider.connection.getAccountInfo(t);if(n===null)throw new Error(`Account does not exist ${t.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await stateDiscriminator(r.struct.name)).compare(n.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(n.data)}address(){return this._address}subscribe(t){if(this._sub!==null)return this._sub.ee;const n=new EventEmitter,r=this.provider.connection.onAccountChange(this.address(),a=>{const i=this.coder.state.decode(a.data);n.emit("change",i)},t);return this._sub={ee:n,listener:r},n}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function programStateAddress(e){let[t]=findProgramAddressSync([],e);return createWithSeedSync(t,"unversioned",e)}function stateInstructionKeys(e,t,n,r){if(n.name==="new"){const[a]=findProgramAddressSync([],e);if(t.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress(e),isWritable:!0,isSigner:!1},{pubkey:a,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}else return validateAccounts(n.accounts,r),[{pubkey:programStateAddress(e),isWritable:!0,isSigner:!1}]}class AccountFactory{static build(t,n,r,a){var i;const s={};return(i=t.accounts)===null||i===void 0||i.forEach(l=>{const b=camelCase$1(l.name);s[b]=new AccountClient(t,l,r,a,n)}),s}}class AccountClient{constructor(t,n,r,a,i){this._idlAccount=n,this._programId=r,this._provider=a??getProvider(),this._coder=i??new BorshCoder(t),this._size=this._coder.accounts.size(n)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,n){const r=await this.getAccountInfo(t,n);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(t,n){const r=await this.fetchNullable(t,n);if(r===null)throw new Error(`Account does not exist ${t.toString()}`);return r}async fetchMultiple(t,n){return(await getMultipleAccounts(this._provider.connection,t.map(a=>translateAddress(a)),n)).map(a=>a==null?null:this._coder.accounts.decode(this._idlAccount.name,a==null?void 0:a.account.data))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof dist$1.Buffer?t:void 0)},...Array.isArray(t)?t:[]]})).map(({pubkey:r,account:a})=>({publicKey:r,account:this._coder.accounts.decode(this._idlAccount.name,a.data)}))}subscribe(t,n){const r=subscriptions.get(t.toString());if(r)return r.ee;const a=new EventEmitter;t=translateAddress(t);const i=this._provider.connection.onAccountChange(t,s=>{const l=this._coder.accounts.decode(this._idlAccount.name,s.data);a.emit("change",l)},n);return subscriptions.set(t.toString(),{ee:a,listener:i}),a}async unsubscribe(t){let n=subscriptions.get(t.toString());if(!n){console.warn("Address is not subscribed");return}subscriptions&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{subscriptions.delete(t.toString())}).catch(console.error)}async createInstruction(t,n){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async associated(...t){const n=await this.associatedAddress(...t);return await this.fetch(n)}async associatedAddress(...t){return await associated(this._programId,...t)}async getAccountInfo(t,n){return await this._provider.connection.getAccountInfo(translateAddress(t),n)}}const subscriptions=new Map;var assert$2={exports:{}},errors$2={},util$2={},types$1={},shams$1=function e(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;t[n]=a;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==a||s.enumerable!==!0)return!1}return!0},hasSymbols$4=shams$1,shams=function e(){return hasSymbols$4()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function e(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function e(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$6=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function e(t,n){for(var r=[],a=0;a<t.length;a+=1)r[a]=t[a];for(var i=0;i<n.length;i+=1)r[i+t.length]=n[i];return r},slicy=function e(t,n){for(var r=[],a=n||0,i=0;a<t.length;a+=1,i+=1)r[i]=t[a];return r},joiny=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},implementation$a=function e(t){var n=this;if(typeof n!="function"||toStr$6.apply(n)!==funcType)throw new TypeError(ERROR_MESSAGE+n);for(var r=slicy(arguments,1),a,i=function(){if(this instanceof a){var u=n.apply(this,concatty(r,arguments));return Object(u)===u?u:this}return n.apply(t,concatty(r,arguments))},s=max(0,n.length-r.length),l=[],b=0;b<s;b++)l[b]="$"+b;if(a=Function("binder","return function ("+joiny(l,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var f=function(){};f.prototype=n.prototype,a.prototype=new f,f.prototype=null}return a},implementation$9=implementation$a,functionBind=Function.prototype.bind||implementation$9,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$SyntaxError$1=SyntaxError,$Function=Function,$TypeError$2=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(e){return e.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(e){var errorProto=getProto$1(getProto$1(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(t){var n;if(t==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&getProto$1&&(n=getProto$1(a.prototype))}return INTRINSICS[t]=n,n},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function e(t){var n=$strSlice(t,0,1),r=$strSlice(t,-1);if(n==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var a=[];return $replace(t,rePropName,function(i,s,l,b){a[a.length]=l?$replace(b,reEscapeChar,"$1"):s||i}),a},getBaseIntrinsic=function e(t,n){var r=t,a;if(hasOwn(LEGACY_ALIASES,r)&&(a=LEGACY_ALIASES[r],r="%"+a[0]+"%"),hasOwn(INTRINSICS,r)){var i=INTRINSICS[r];if(i===needsEval&&(i=doEval(r)),typeof i>"u"&&!n)throw new $TypeError$2("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:r,value:i}}throw new $SyntaxError$1("intrinsic "+t+" does not exist!")},getIntrinsic=function e(t,n){if(typeof t!="string"||t.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,t)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=stringToPath(t),a=r.length>0?r[0]:"",i=getBaseIntrinsic("%"+a+"%",n),s=i.name,l=i.value,b=!1,f=i.alias;f&&(a=f[0],$spliceApply(r,$concat([0,1],f)));for(var u=1,d=!0;u<r.length;u+=1){var m=r[u],p=$strSlice(m,0,1),_=$strSlice(m,-1);if((p==='"'||p==="'"||p==="`"||_==='"'||_==="'"||_==="`")&&p!==_)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(b=!0),a+="."+m,s="%"+a+"%",hasOwn(INTRINSICS,s))l=INTRINSICS[s];else if(l!=null){if(!(m in l)){if(!n)throw new $TypeError$2("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD$1&&u+1>=r.length){var S=$gOPD$1(l,m);d=!!S,d&&"get"in S&&!("originalValue"in S.get)?l=S.get:l=l[m]}else d=hasOwn(l,m),l=l[m];d&&!b&&(INTRINSICS[s]=l)}}return l},callBind$4={exports:{}},GetIntrinsic$4=getIntrinsic,$defineProperty$1=GetIntrinsic$4("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function e(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function e(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$2=getIntrinsic,$defineProperty=hasPropertyDescriptors&&GetIntrinsic$2("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$2("%SyntaxError%"),$TypeError$1=GetIntrinsic$2("%TypeError%"),gopd=gopd$1,defineDataProperty$1=function e(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,b=!!gopd&&gopd(t,n);if($defineProperty)$defineProperty(t,n,{configurable:s===null&&b?b.configurable:!s,enumerable:a===null&&b?b.enumerable:!a,value:r,writable:i===null&&b?b.writable:!i});else if(l||!a&&!i&&!s)t[n]=r;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$1=getIntrinsic,define$4=defineDataProperty$1,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=GetIntrinsic$1("%TypeError%"),$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function e(t,n){if(typeof t!="function")throw new $TypeError("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||$floor(n)!==n)throw new $TypeError("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],a=!0,i=!0;if("length"in t&&gOPD$1){var s=gOPD$1(t,"length");s&&!s.configurable&&(a=!1),s&&!s.writable&&(i=!1)}return(a||i||!r)&&(hasDescriptors?define$4(t,"length",n,!0,!0):define$4(t,"length",n)),t};(function(e){var t=functionBind,n=getIntrinsic,r=setFunctionLength,a=n("%TypeError%"),i=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||t.call(s,i),b=n("%Object.defineProperty%",!0),f=n("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}e.exports=function(m){if(typeof m!="function")throw new a("a function is required");var p=l(t,s,arguments);return r(p,1+f(0,m.length-(arguments.length-1)),!0)};var u=function(){return l(t,i,arguments)};b?b(e.exports,"apply",{value:u}):e.exports.apply=u})(callBind$4);var GetIntrinsic=getIntrinsic,callBind$3=callBind$4.exports,$indexOf$1=callBind$3(GetIntrinsic("String.prototype.indexOf")),callBound$3=function e(t,n){var r=GetIntrinsic(t,!!n);return typeof r=="function"&&$indexOf$1(t,".prototype.")>-1?callBind$3(r):r},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function e(t){return hasToStringTag$3&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:$toString$1(t)==="[object Arguments]"},isLegacyArguments=function e(t){return isStandardArguments(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&$toString$1(t)!=="[object Array]"&&$toString$1(t.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$5=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function e(t){if(typeof t!="function")return!1;if(isFnRegex.test(fnToStr$1.call(t)))return!0;if(!hasToStringTag$2){var n=toStr$5.call(t);return n==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var r=getGeneratorFunc();GeneratorFunction=r?getProto(r):!1}return getProto(t)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(e){e!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function e(t){try{var n=fnToStr.call(t);return constructorRegex.test(n)}catch{return!1}},tryFunctionObject=function e(t){try{return isES6ClassFn(t)?!1:(fnToStr.call(t),!0)}catch{return!1}},toStr$4=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function e(){return!1};if(typeof document=="object"){var all=document.all;toStr$4.call(all)===toStr$4.call(document.all)&&(isDDA=function(t){if((isIE68||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=toStr$4.call(t);return(n===ddaClass||n===ddaClass2||n===ddaClass3||n===objectClass)&&t("")==null}catch{}return!1})}var isCallable$1=reflectApply?function e(t){if(isDDA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{reflectApply(t,null,badArrayLike)}catch(n){if(n!==isCallableMarker)return!1}return!isES6ClassFn(t)&&tryFunctionObject(t)}:function e(t){if(isDDA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(t);if(isES6ClassFn(t))return!1;var n=toStr$4.call(t);return n!==fnClass&&n!==genClass&&!/^\[object HTML/.test(n)?!1:tryFunctionObject(t)},isCallable=isCallable$1,toStr$3=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function e(t,n,r){for(var a=0,i=t.length;a<i;a++)hasOwnProperty$1.call(t,a)&&(r==null?n(t[a],a,t):n.call(r,t[a],a,t))},forEachString=function e(t,n,r){for(var a=0,i=t.length;a<i;a++)r==null?n(t.charAt(a),a,t):n.call(r,t.charAt(a),a,t)},forEachObject=function e(t,n,r){for(var a in t)hasOwnProperty$1.call(t,a)&&(r==null?n(t[a],a,t):n.call(r,t[a],a,t))},forEach$1=function e(t,n,r){if(!isCallable(n))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),toStr$3.call(t)==="[object Array]"?forEachArray(t,n,a):typeof t=="string"?forEachString(t,n,a):forEachObject(t,n,a)},forEach_1=forEach$1,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function e(){for(var t=[],n=0;n<possibleNames.length;n++)typeof g$1[possibleNames[n]]=="function"&&(t[t.length]=possibleNames[n]);return t},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$2=callBind$4.exports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function e(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(e){var t=new g[e];if(Symbol.toStringTag in t){var n=getPrototypeOf(t),r=gOPD(n,Symbol.toStringTag);if(!r){var a=getPrototypeOf(n);r=gOPD(a,Symbol.toStringTag)}cache["$"+e]=callBind$2(r.get)}}):forEach(typedArrays,function(e){var t=new g[e],n=t.slice||t.set;n&&(cache["$"+e]=callBind$2(n))});var tryTypedArrays=function e(t){var n=!1;return forEach(cache,function(r,a){if(!n)try{"$"+r(t)===a&&(n=$slice(a,1))}catch{}}),n},trySlices=function e(t){var n=!1;return forEach(cache,function(r,a){if(!n)try{r(t),n=$slice(a,1)}catch{}}),n},whichTypedArray$1=function e(t){if(!t||typeof t!="object")return!1;if(!hasToStringTag){var n=$slice($toString(t),8,-1);return $indexOf(typedArrays,n)>-1?n:n!=="Object"?!1:trySlices(t)}return gOPD?tryTypedArrays(t):null},whichTypedArray=whichTypedArray$1,isTypedArray=function e(t){return!!whichTypedArray(t)};(function(e){var t=isArguments$1,n=isGeneratorFunction,r=whichTypedArray$1,a=isTypedArray;function i(ae){return ae.call.bind(ae)}var s=typeof BigInt<"u",l=typeof Symbol<"u",b=i(Object.prototype.toString),f=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),d=i(Boolean.prototype.valueOf);if(s)var m=i(BigInt.prototype.valueOf);if(l)var p=i(Symbol.prototype.valueOf);function _(ae,qt){if(typeof ae!="object")return!1;try{return qt(ae),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=a;function S(ae){return typeof Promise<"u"&&ae instanceof Promise||ae!==null&&typeof ae=="object"&&typeof ae.then=="function"&&typeof ae.catch=="function"}e.isPromise=S;function A(ae){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ae):a(ae)||Y(ae)}e.isArrayBufferView=A;function E(ae){return r(ae)==="Uint8Array"}e.isUint8Array=E;function w(ae){return r(ae)==="Uint8ClampedArray"}e.isUint8ClampedArray=w;function M(ae){return r(ae)==="Uint16Array"}e.isUint16Array=M;function T(ae){return r(ae)==="Uint32Array"}e.isUint32Array=T;function v(ae){return r(ae)==="Int8Array"}e.isInt8Array=v;function D(ae){return r(ae)==="Int16Array"}e.isInt16Array=D;function L(ae){return r(ae)==="Int32Array"}e.isInt32Array=L;function I(ae){return r(ae)==="Float32Array"}e.isFloat32Array=I;function k(ae){return r(ae)==="Float64Array"}e.isFloat64Array=k;function $(ae){return r(ae)==="BigInt64Array"}e.isBigInt64Array=$;function R(ae){return r(ae)==="BigUint64Array"}e.isBigUint64Array=R;function O(ae){return b(ae)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function j(ae){return typeof Map>"u"?!1:O.working?O(ae):ae instanceof Map}e.isMap=j;function C(ae){return b(ae)==="[object Set]"}C.working=typeof Set<"u"&&C(new Set);function N(ae){return typeof Set>"u"?!1:C.working?C(ae):ae instanceof Set}e.isSet=N;function U(ae){return b(ae)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function z(ae){return typeof WeakMap>"u"?!1:U.working?U(ae):ae instanceof WeakMap}e.isWeakMap=z;function q(ae){return b(ae)==="[object WeakSet]"}q.working=typeof WeakSet<"u"&&q(new WeakSet);function Z(ae){return q(ae)}e.isWeakSet=Z;function ne(ae){return b(ae)==="[object ArrayBuffer]"}ne.working=typeof ArrayBuffer<"u"&&ne(new ArrayBuffer);function ie(ae){return typeof ArrayBuffer>"u"?!1:ne.working?ne(ae):ae instanceof ArrayBuffer}e.isArrayBuffer=ie;function W(ae){return b(ae)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function Y(ae){return typeof DataView>"u"?!1:W.working?W(ae):ae instanceof DataView}e.isDataView=Y;var ee=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function se(ae){return b(ae)==="[object SharedArrayBuffer]"}function ue(ae){return typeof ee>"u"?!1:(typeof se.working>"u"&&(se.working=se(new ee)),se.working?se(ae):ae instanceof ee)}e.isSharedArrayBuffer=ue;function me(ae){return b(ae)==="[object AsyncFunction]"}e.isAsyncFunction=me;function ge(ae){return b(ae)==="[object Map Iterator]"}e.isMapIterator=ge;function ye(ae){return b(ae)==="[object Set Iterator]"}e.isSetIterator=ye;function we(ae){return b(ae)==="[object Generator]"}e.isGeneratorObject=we;function $e(ae){return b(ae)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=$e;function qe(ae){return _(ae,f)}e.isNumberObject=qe;function Ke(ae){return _(ae,u)}e.isStringObject=Ke;function Me(ae){return _(ae,d)}e.isBooleanObject=Me;function Pe(ae){return s&&_(ae,m)}e.isBigIntObject=Pe;function jn(ae){return l&&_(ae,p)}e.isSymbolObject=jn;function _t(ae){return qe(ae)||Ke(ae)||Me(ae)||Pe(ae)||jn(ae)}e.isBoxedPrimitive=_t;function Nn(ae){return typeof Uint8Array<"u"&&(ie(ae)||ue(ae))}e.isAnyArrayBuffer=Nn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ae){Object.defineProperty(e,ae,{enumerable:!1,value:function(){throw new Error(ae+" is not supported in userland")}})})})(types$1);var isBuffer=function e(t){return t instanceof dist$1.Buffer},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(Y){for(var ee=Object.keys(Y),se={},ue=0;ue<ee.length;ue++)se[ee[ue]]=Object.getOwnPropertyDescriptor(Y,ee[ue]);return se},n=/%[sdj%]/g;e.format=function(W){if(!v(W)){for(var Y=[],ee=0;ee<arguments.length;ee++)Y.push(s(arguments[ee]));return Y.join(" ")}for(var ee=1,se=arguments,ue=se.length,me=String(W).replace(n,function(ye){if(ye==="%%")return"%";if(ee>=ue)return ye;switch(ye){case"%s":return String(se[ee++]);case"%d":return Number(se[ee++]);case"%j":try{return JSON.stringify(se[ee++])}catch{return"[Circular]"}default:return ye}}),ge=se[ee];ee<ue;ge=se[++ee])w(ge)||!k(ge)?me+=" "+ge:me+=" "+s(ge);return me},e.deprecate=function(W,Y){if(typeof dist$1.process<"u"&&dist$1.process.noDeprecation===!0)return W;if(typeof dist$1.process>"u")return function(){return e.deprecate(W,Y).apply(this,arguments)};var ee=!1;function se(){if(!ee){if(dist$1.process.throwDeprecation)throw new Error(Y);dist$1.process.traceDeprecation?console.trace(Y):console.error(Y),ee=!0}return W.apply(this,arguments)}return se};var r={},a=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}e.debuglog=function(W){if(W=W.toUpperCase(),!r[W])if(a.test(W)){var Y=dist$1.process.pid;r[W]=function(){var ee=e.format.apply(e,arguments);console.error("%s %d: %s",W,Y,ee)}}else r[W]=function(){};return r[W]};function s(W,Y){var ee={seen:[],stylize:b};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),E(Y)?ee.showHidden=Y:Y&&e._extend(ee,Y),L(ee.showHidden)&&(ee.showHidden=!1),L(ee.depth)&&(ee.depth=2),L(ee.colors)&&(ee.colors=!1),L(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=l),u(ee,W,ee.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(W,Y){var ee=s.styles[Y];return ee?"\x1B["+s.colors[ee][0]+"m"+W+"\x1B["+s.colors[ee][1]+"m":W}function b(W,Y){return W}function f(W){var Y={};return W.forEach(function(ee,se){Y[ee]=!0}),Y}function u(W,Y,ee){if(W.customInspect&&Y&&O(Y.inspect)&&Y.inspect!==e.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var se=Y.inspect(ee,W);return v(se)||(se=u(W,se,ee)),se}var ue=d(W,Y);if(ue)return ue;var me=Object.keys(Y),ge=f(me);if(W.showHidden&&(me=Object.getOwnPropertyNames(Y)),R(Y)&&(me.indexOf("message")>=0||me.indexOf("description")>=0))return m(Y);if(me.length===0){if(O(Y)){var ye=Y.name?": "+Y.name:"";return W.stylize("[Function"+ye+"]","special")}if(I(Y))return W.stylize(RegExp.prototype.toString.call(Y),"regexp");if($(Y))return W.stylize(Date.prototype.toString.call(Y),"date");if(R(Y))return m(Y)}var we="",$e=!1,qe=["{","}"];if(A(Y)&&($e=!0,qe=["[","]"]),O(Y)){var Ke=Y.name?": "+Y.name:"";we=" [Function"+Ke+"]"}if(I(Y)&&(we=" "+RegExp.prototype.toString.call(Y)),$(Y)&&(we=" "+Date.prototype.toUTCString.call(Y)),R(Y)&&(we=" "+m(Y)),me.length===0&&(!$e||Y.length==0))return qe[0]+we+qe[1];if(ee<0)return I(Y)?W.stylize(RegExp.prototype.toString.call(Y),"regexp"):W.stylize("[Object]","special");W.seen.push(Y);var Me;return $e?Me=p(W,Y,ee,ge,me):Me=me.map(function(Pe){return _(W,Y,ee,ge,Pe,$e)}),W.seen.pop(),S(Me,we,qe)}function d(W,Y){if(L(Y))return W.stylize("undefined","undefined");if(v(Y)){var ee="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(ee,"string")}if(T(Y))return W.stylize(""+Y,"number");if(E(Y))return W.stylize(""+Y,"boolean");if(w(Y))return W.stylize("null","null")}function m(W){return"["+Error.prototype.toString.call(W)+"]"}function p(W,Y,ee,se,ue){for(var me=[],ge=0,ye=Y.length;ge<ye;++ge)q(Y,String(ge))?me.push(_(W,Y,ee,se,String(ge),!0)):me.push("");return ue.forEach(function(we){we.match(/^\d+$/)||me.push(_(W,Y,ee,se,we,!0))}),me}function _(W,Y,ee,se,ue,me){var ge,ye,we;if(we=Object.getOwnPropertyDescriptor(Y,ue)||{value:Y[ue]},we.get?we.set?ye=W.stylize("[Getter/Setter]","special"):ye=W.stylize("[Getter]","special"):we.set&&(ye=W.stylize("[Setter]","special")),q(se,ue)||(ge="["+ue+"]"),ye||(W.seen.indexOf(we.value)<0?(w(ee)?ye=u(W,we.value,null):ye=u(W,we.value,ee-1),ye.indexOf(`
`)>-1&&(me?ye=ye.split(`
`).map(function($e){return"  "+$e}).join(`
`).slice(2):ye=`
`+ye.split(`
`).map(function($e){return"   "+$e}).join(`
`))):ye=W.stylize("[Circular]","special")),L(ge)){if(me&&ue.match(/^\d+$/))return ye;ge=JSON.stringify(""+ue),ge.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ge=ge.slice(1,-1),ge=W.stylize(ge,"name")):(ge=ge.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ge=W.stylize(ge,"string"))}return ge+": "+ye}function S(W,Y,ee){var se=W.reduce(function(ue,me){return me.indexOf(`
`)>=0,ue+me.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?ee[0]+(Y===""?"":Y+`
 `)+" "+W.join(`,
  `)+" "+ee[1]:ee[0]+Y+" "+W.join(", ")+" "+ee[1]}e.types=types$1;function A(W){return Array.isArray(W)}e.isArray=A;function E(W){return typeof W=="boolean"}e.isBoolean=E;function w(W){return W===null}e.isNull=w;function M(W){return W==null}e.isNullOrUndefined=M;function T(W){return typeof W=="number"}e.isNumber=T;function v(W){return typeof W=="string"}e.isString=v;function D(W){return typeof W=="symbol"}e.isSymbol=D;function L(W){return W===void 0}e.isUndefined=L;function I(W){return k(W)&&C(W)==="[object RegExp]"}e.isRegExp=I,e.types.isRegExp=I;function k(W){return typeof W=="object"&&W!==null}e.isObject=k;function $(W){return k(W)&&C(W)==="[object Date]"}e.isDate=$,e.types.isDate=$;function R(W){return k(W)&&(C(W)==="[object Error]"||W instanceof Error)}e.isError=R,e.types.isNativeError=R;function O(W){return typeof W=="function"}e.isFunction=O;function j(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}e.isPrimitive=j,e.isBuffer=isBuffer;function C(W){return Object.prototype.toString.call(W)}function N(W){return W<10?"0"+W.toString(10):W.toString(10)}var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var W=new Date,Y=[N(W.getHours()),N(W.getMinutes()),N(W.getSeconds())].join(":");return[W.getDate(),U[W.getMonth()],Y].join(" ")}e.log=function(){console.log("%s - %s",z(),e.format.apply(e,arguments))},e.inherits=inherits_browser.exports,e._extend=function(W,Y){if(!Y||!k(Y))return W;for(var ee=Object.keys(Y),se=ee.length;se--;)W[ee[se]]=Y[ee[se]];return W};function q(W,Y){return Object.prototype.hasOwnProperty.call(W,Y)}var Z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&Y[Z]){var ee=Y[Z];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,Z,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var se,ue,me=new Promise(function(we,$e){se=we,ue=$e}),ge=[],ye=0;ye<arguments.length;ye++)ge.push(arguments[ye]);ge.push(function(we,$e){we?ue(we):se($e)});try{Y.apply(this,ge)}catch(we){ue(we)}return me}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Y)),Z&&Object.defineProperty(ee,Z,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,t(Y))},e.promisify.custom=Z;function ne(W,Y){if(!W){var ee=new Error("Promise was rejected with a falsy value");ee.reason=W,W=ee}return Y(W)}function ie(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var ee=[],se=0;se<arguments.length;se++)ee.push(arguments[se]);var ue=ee.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var me=this,ge=function(){return ue.apply(me,arguments)};W.apply(this,ee).then(function(ye){dist$1.process.nextTick(ge.bind(null,null,ye))},function(ye){dist$1.process.nextTick(ne.bind(null,ye,ge))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(W)),Object.defineProperties(Y,t(W)),Y}e.callbackify=ie})(util$2);function _typeof$3(e){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(e)}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey$2(r.key),r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return _typeof$3(t)==="symbol"?t:String(t)}function _toPrimitive$2(e,t){if(_typeof$3(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_typeof$3(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits$1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_setPrototypeOf$1(e,t)}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var r=_getPrototypeOf$1(e),a;if(t){var i=_getPrototypeOf$1(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return _possibleConstructorReturn$1(this,a)}}function _possibleConstructorReturn$1(e,t){if(t&&(_typeof$3(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(e)}var codes={},assert$1,util$1;function createErrorType(e,t,n){n||(n=Error);function r(i,s,l){return typeof t=="string"?t:t(i,s,l)}var a=function(i){_inherits$1(l,i);var s=_createSuper$1(l);function l(b,f,u){var d;return _classCallCheck$2(this,l),d=s.call(this,r(b,f,u)),d.code=e,d}return _createClass$2(l)}(n);codes[e]=a}function oneOf(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(r){return String(r)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:n===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function endsWith$1(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function includes(e,t,n){return typeof n!="number"&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,n){assert$1===void 0&&(assert$1=assert$2.exports),assert$1(typeof e=="string","'name' must be a string");var r;typeof t=="string"&&startsWith(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";var a;if(endsWith$1(e," argument"))a="The ".concat(e," ").concat(r," ").concat(oneOf(t,"type"));else{var i=includes(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(i," ").concat(r," ").concat(oneOf(t,"type"))}return a+=". Received type ".concat(_typeof$3(n)),a},TypeError);createErrorType("ERR_INVALID_ARG_VALUE",function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";util$1===void 0&&(util$1=util$2);var r=util$1.inspect(t);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(r)},TypeError);createErrorType("ERR_INVALID_RETURN_VALUE",function(e,t,n){var r;return n&&n.constructor&&n.constructor.name?r="instance of ".concat(n.constructor.name):r="type ".concat(_typeof$3(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(r,".")},TypeError);createErrorType("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];assert$1===void 0&&(assert$1=assert$2.exports),assert$1(t.length>0,"At least one arg needs to be specified");var r="The ",a=t.length;switch(t=t.map(function(i){return'"'.concat(i,'"')}),a){case 1:r+="".concat(t[0]," argument");break;case 2:r+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:r+=t.slice(0,a-1).join(", "),r+=", and ".concat(t[a-1]," arguments");break}return"".concat(r," must be specified")},TypeError);errors$2.codes=codes;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(r){_defineProperty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _defineProperty(e,t,n){return t=_toPropertyKey$1(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey$1(r.key),r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return _typeof$2(t)==="symbol"?t:String(t)}function _toPrimitive$1(e,t){if(_typeof$2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_typeof$2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r=_getPrototypeOf(e),a;if(t){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(e,t){if(t&&(_typeof$2(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,r)},_wrapNativeSuper(e)}function _construct(e,t,n){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,i,s){var l=[null];l.push.apply(l,i);var b=Function.bind.apply(a,l),f=new b;return s&&_setPrototypeOf(f,s.prototype),f},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _isNativeFunction(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(e)}function _typeof$2(e){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}var _require$1=util$2,inspect$1=_require$1.inspect,_require2$1=errors$2,ERR_INVALID_ARG_TYPE$1=_require2$1.codes.ERR_INVALID_ARG_TYPE;function endsWith(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function repeat(e,t){if(t=Math.floor(t),e.length==0||t==0)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,n-e.length),e}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},kMaxShortLength=10;function copyError(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach(function(r){n[r]=e[r]}),Object.defineProperty(n,"message",{value:e.message}),n}function inspectValue(e){return inspect$1(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(e,t,n){var r="",a="",i=0,s="",l=!1,b=inspectValue(e),f=b.split(`
`),u=inspectValue(t).split(`
`),d=0,m="";if(n==="strictEqual"&&_typeof$2(e)==="object"&&_typeof$2(t)==="object"&&e!==null&&t!==null&&(n="strictEqualObject"),f.length===1&&u.length===1&&f[0]!==u[0]){var p=f[0].length+u[0].length;if(p<=kMaxShortLength){if((_typeof$2(e)!=="object"||e===null)&&(_typeof$2(t)!=="object"||t===null)&&(e!==0||t!==0))return"".concat(kReadableOperator[n],`

`)+"".concat(f[0]," !== ").concat(u[0],`
`)}else if(n!=="strictEqualObject"){var _=dist$1.process.stderr&&dist$1.process.stderr.isTTY?dist$1.process.stderr.columns:80;if(p<_){for(;f[0][d]===u[0][d];)d++;d>2&&(m=`
  `.concat(repeat(" ",d),"^"),d=0)}}}for(var S=f[f.length-1],A=u[u.length-1];S===A&&(d++<2?s=`
  `.concat(S).concat(s):r=S,f.pop(),u.pop(),!(f.length===0||u.length===0));)S=f[f.length-1],A=u[u.length-1];var E=Math.max(f.length,u.length);if(E===0){var w=b.split(`
`);if(w.length>30)for(w[26]="".concat(blue,"...").concat(white);w.length>27;)w.pop();return"".concat(kReadableOperator.notIdentical,`

`).concat(w.join(`
`),`
`)}d>3&&(s=`
`.concat(blue,"...").concat(white).concat(s),l=!0),r!==""&&(s=`
  `.concat(r).concat(s),r="");var M=0,T=kReadableOperator[n]+`
`.concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),v=" ".concat(blue,"...").concat(white," Lines skipped");for(d=0;d<E;d++){var D=d-i;if(f.length<d+1)D>1&&d>2&&(D>4?(a+=`
`.concat(blue,"...").concat(white),l=!0):D>3&&(a+=`
  `.concat(u[d-2]),M++),a+=`
  `.concat(u[d-1]),M++),i=d,r+=`
`.concat(red,"-").concat(white," ").concat(u[d]),M++;else if(u.length<d+1)D>1&&d>2&&(D>4?(a+=`
`.concat(blue,"...").concat(white),l=!0):D>3&&(a+=`
  `.concat(f[d-2]),M++),a+=`
  `.concat(f[d-1]),M++),i=d,a+=`
`.concat(green,"+").concat(white," ").concat(f[d]),M++;else{var L=u[d],I=f[d],k=I!==L&&(!endsWith(I,",")||I.slice(0,-1)!==L);k&&endsWith(L,",")&&L.slice(0,-1)===I&&(k=!1,I+=","),k?(D>1&&d>2&&(D>4?(a+=`
`.concat(blue,"...").concat(white),l=!0):D>3&&(a+=`
  `.concat(f[d-2]),M++),a+=`
  `.concat(f[d-1]),M++),i=d,a+=`
`.concat(green,"+").concat(white," ").concat(I),r+=`
`.concat(red,"-").concat(white," ").concat(L),M+=2):(a+=r,r="",(D===1||d===0)&&(a+=`
  `.concat(I),M++))}if(M>20&&d<E-2)return"".concat(T).concat(v,`
`).concat(a,`
`).concat(blue,"...").concat(white).concat(r,`
`)+"".concat(blue,"...").concat(white)}return"".concat(T).concat(l?v:"",`
`).concat(a).concat(r).concat(s).concat(m)}var AssertionError$1=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(a){var i;if(_classCallCheck$1(this,r),_typeof$2(a)!=="object"||a===null)throw new ERR_INVALID_ARG_TYPE$1("options","Object",a);var s=a.message,l=a.operator,b=a.stackStartFn,f=a.actual,u=a.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,s!=null)i=n.call(this,String(s));else if(dist$1.process.stderr&&dist$1.process.stderr.isTTY&&(dist$1.process.stderr&&dist$1.process.stderr.getColorDepth&&dist$1.process.stderr.getColorDepth()!==1?(blue="\x1B[34m",green="\x1B[32m",white="\x1B[39m",red="\x1B[31m"):(blue="",green="",white="",red="")),_typeof$2(f)==="object"&&f!==null&&_typeof$2(u)==="object"&&u!==null&&"stack"in f&&f instanceof Error&&"stack"in u&&u instanceof Error&&(f=copyError(f),u=copyError(u)),l==="deepStrictEqual"||l==="strictEqual")i=n.call(this,createErrDiff(f,u,l));else if(l==="notDeepStrictEqual"||l==="notStrictEqual"){var m=kReadableOperator[l],p=inspectValue(f).split(`
`);if(l==="notStrictEqual"&&_typeof$2(f)==="object"&&f!==null&&(m=kReadableOperator.notStrictEqualObject),p.length>30)for(p[26]="".concat(blue,"...").concat(white);p.length>27;)p.pop();p.length===1?i=n.call(this,"".concat(m," ").concat(p[0])):i=n.call(this,"".concat(m,`

`).concat(p.join(`
`),`
`))}else{var _=inspectValue(f),S="",A=kReadableOperator[l];l==="notDeepEqual"||l==="notEqual"?(_="".concat(kReadableOperator[l],`

`).concat(_),_.length>1024&&(_="".concat(_.slice(0,1021),"..."))):(S="".concat(inspectValue(u)),_.length>512&&(_="".concat(_.slice(0,509),"...")),S.length>512&&(S="".concat(S.slice(0,509),"...")),l==="deepEqual"||l==="equal"?_="".concat(A,`

`).concat(_,`

should equal

`):S=" ".concat(l," ").concat(S)),i=n.call(this,"".concat(_).concat(S))}return Error.stackTraceLimit=d,i.generatedMessage=!s,Object.defineProperty(_assertThisInitialized(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=f,i.expected=u,i.operator=l,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(i),b),i.stack,i.name="AssertionError",_possibleConstructorReturn(i)}return _createClass$1(r,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(i,s){return inspect$1(this,_objectSpread(_objectSpread({},s),{},{customInspect:!1,depth:0}))}}]),r}(_wrapNativeSuper(Error),inspect$1.custom),assertion_error=AssertionError$1,toStr$2=Object.prototype.toString,isArguments=function e(t){var n=toStr$2.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&toStr$2.call(t.callee)==="[object Function]"),r},keysShim$1;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr$1=Object.prototype.toString,isArgs$1=isArguments,isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(e){var t=e.constructor;return t&&t.prototype===e},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!excludedKeys["$"+e]&&has.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{equalsConstructorPrototype(window[e])}catch{return!0}}catch{return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(e){if(typeof window>"u"||!hasAutomationEqualityBug)return equalsConstructorPrototype(e);try{return equalsConstructorPrototype(e)}catch{return!1}};keysShim$1=function(t){var n=t!==null&&typeof t=="object",r=toStr$1.call(t)==="[object Function]",a=isArgs$1(t),i=n&&toStr$1.call(t)==="[object String]",s=[];if(!n&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var l=hasProtoEnumBug&&r;if(i&&t.length>0&&!has.call(t,0))for(var b=0;b<t.length;++b)s.push(String(b));if(a&&t.length>0)for(var f=0;f<t.length;++f)s.push(String(f));else for(var u in t)!(l&&u==="prototype")&&has.call(t,u)&&s.push(String(u));if(hasDontEnumBug)for(var d=equalsConstructorPrototypeIfNotBuggy(t),m=0;m<dontEnums.length;++m)!(d&&dontEnums[m]==="constructor")&&has.call(t,dontEnums[m])&&s.push(dontEnums[m]);return s}}var implementation$8=keysShim$1,slice=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function e(t){return origKeys(t)}:implementation$8,originalKeys=Object.keys;keysShim.shim=function e(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return isArgs(r)?originalKeys(slice.call(r)):originalKeys(r)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,objectKeys=objectKeys$1,hasSymbols$1=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols$1?Object.getOwnPropertySymbols:null,implementation$7=function e(t,n){if(t==null)throw new TypeError("target must be an object");var r=toObject(t);if(arguments.length===1)return r;for(var a=1;a<arguments.length;++a){var i=toObject(arguments[a]),s=objectKeys(i),l=hasSymbols$1&&(Object.getOwnPropertySymbols||originalGetSymbols);if(l)for(var b=l(i),f=0;f<b.length;++f){var u=b[f];$propIsEnumerable(i,u)&&$push(s,u)}for(var d=0;d<s.length;++d){var m=s[d];if($propIsEnumerable(i,m)){var p=i[m];r[m]=p}}}return r},implementation$6=implementation$7,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var a=Object.assign({},n),i="";for(var s in a)i+=s;return e!==i},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},polyfill$4=function e(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$6:Object.assign},numberIsNaN$1=function(e){return e!==e},implementation$5=function e(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||numberIsNaN$1(t)&&numberIsNaN$1(n))},implementation$4=implementation$5,polyfill$3=function e(){return typeof Object.is=="function"?Object.is:implementation$4},keys=objectKeys$1,hasSymbols=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$1,isFunction=function(e){return typeof e=="function"&&toStr.call(e)==="[object Function]"},supportsDescriptors=hasPropertyDescriptors_1(),defineProperty=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!isFunction(r)||!r())return}supportsDescriptors?defineDataProperty(e,t,n,!0):defineDataProperty(e,t,n)},defineProperties=function(e,t){var n=arguments.length>2?arguments[2]:{},r=keys(t);hasSymbols&&(r=concat.call(r,Object.getOwnPropertySymbols(t)));for(var a=0;a<r.length;a+=1)defineProperty(e,r[a],t[r[a]],n[r[a]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,getPolyfill$3=polyfill$3,define$3=defineProperties_1,shim$3=function e(){var t=getPolyfill$3();return define$3(Object,{is:t},{is:function(){return Object.is!==t}}),t},define$2=defineProperties_1,callBind$1=callBind$4.exports,implementation$3=implementation$5,getPolyfill$2=polyfill$3,shim$2=shim$3,polyfill$2=callBind$1(getPolyfill$2(),Object);define$2(polyfill$2,{getPolyfill:getPolyfill$2,implementation:implementation$3,shim:shim$2});var objectIs$2=polyfill$2,implementation$2=function e(t){return t!==t},implementation$1=implementation$2,polyfill$1=function e(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation$1},define$1=defineProperties_1,getPolyfill$1=polyfill$1,shim$1=function e(){var t=getPolyfill$1();return define$1(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t},callBind=callBind$4.exports,define=defineProperties_1,implementation=implementation$2,getPolyfill=polyfill$1,shim=shim$1,polyfill=callBind(getPolyfill(),Number);define(polyfill,{getPolyfill,implementation,shim});var isNan=polyfill;function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(e,t){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,l=[],b=!0,f=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;b=!1}else for(;!(b=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);b=!0);}catch(u){f=!0,a=u}finally{try{if(!b&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof$1(e){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}var regexFlagsSupported=/a/g.flags!==void 0,arrayFromSet=function e(t){var n=[];return t.forEach(function(r){return n.push(r)}),n},arrayFromMap=function e(t){var n=[];return t.forEach(function(r,a){return n.push([a,r])}),n},objectIs$1=Object.is?Object.is:objectIs$2,objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:isNan;function uncurryThis(e){return e.call.bind(e)}var hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString=uncurryThis(Object.prototype.toString),_require$types$1=util$2.types,isAnyArrayBuffer=_require$types$1.isAnyArrayBuffer,isArrayBufferView=_require$types$1.isArrayBufferView,isDate=_require$types$1.isDate,isMap=_require$types$1.isMap,isRegExp$1=_require$types$1.isRegExp,isSet=_require$types$1.isSet,isNativeError=_require$types$1.isNativeError,isBoxedPrimitive=_require$types$1.isBoxedPrimitive,isNumberObject=_require$types$1.isNumberObject,isStringObject=_require$types$1.isStringObject,isBooleanObject=_require$types$1.isBooleanObject,isBigIntObject=_require$types$1.isBigIntObject,isSymbolObject=_require$types$1.isSymbolObject,isFloat32Array=_require$types$1.isFloat32Array,isFloat64Array=_require$types$1.isFloat64Array;function isNonIndex(e){if(e.length===0||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function getOwnNonIndexProperties(e){return Object.keys(e).filter(isNonIndex).concat(objectGetOwnPropertySymbols(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare$1(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0}var kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(e,t){return regexFlagsSupported?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function areSimilarFloatArrays(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function areSimilarTypedArrays(e,t){return e.byteLength!==t.byteLength?!1:compare$1(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))===0}function areEqualArrayBuffers(e,t){return e.byteLength===t.byteLength&&compare$1(new Uint8Array(e),new Uint8Array(t))===0}function isEqualBoxedPrimitive(e,t){return isNumberObject(e)?isNumberObject(t)&&objectIs$1(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):isStringObject(e)?isStringObject(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):isBooleanObject(e)?isBooleanObject(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):isBigIntObject(e)?isBigIntObject(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):isSymbolObject(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function innerDeepEqual(e,t,n,r){if(e===t)return e!==0?!0:n?objectIs$1(e,t):!0;if(n){if(_typeof$1(e)!=="object")return typeof e=="number"&&numberIsNaN(e)&&numberIsNaN(t);if(_typeof$1(t)!=="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(e===null||_typeof$1(e)!=="object")return t===null||_typeof$1(t)!=="object"?e==t:!1;if(t===null||_typeof$1(t)!=="object")return!1}var a=objectToString(e),i=objectToString(t);if(a!==i)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var s=getOwnNonIndexProperties(e),l=getOwnNonIndexProperties(t);return s.length!==l.length?!1:keyCheck(e,t,n,r,kIsArray,s)}if(a==="[object Object]"&&(!isMap(e)&&isMap(t)||!isSet(e)&&isSet(t)))return!1;if(isDate(e)){if(!isDate(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(isRegExp$1(e)){if(!isRegExp$1(t)||!areSimilarRegExps(e,t))return!1}else if(isNativeError(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else if(isArrayBufferView(e)){if(!n&&(isFloat32Array(e)||isFloat64Array(e))){if(!areSimilarFloatArrays(e,t))return!1}else if(!areSimilarTypedArrays(e,t))return!1;var b=getOwnNonIndexProperties(e),f=getOwnNonIndexProperties(t);return b.length!==f.length?!1:keyCheck(e,t,n,r,kNoIterator,b)}else{if(isSet(e))return!isSet(t)||e.size!==t.size?!1:keyCheck(e,t,n,r,kIsSet);if(isMap(e))return!isMap(t)||e.size!==t.size?!1:keyCheck(e,t,n,r,kIsMap);if(isAnyArrayBuffer(e)){if(!areEqualArrayBuffers(e,t))return!1}else if(isBoxedPrimitive(e)&&!isEqualBoxedPrimitive(e,t))return!1}return keyCheck(e,t,n,r,kNoIterator)}function getEnumerables(e,t){return t.filter(function(n){return propertyIsEnumerable(e,n)})}function keyCheck(e,t,n,r,a,i){if(arguments.length===5){i=Object.keys(e);var s=Object.keys(t);if(i.length!==s.length)return!1}for(var l=0;l<i.length;l++)if(!hasOwnProperty(t,i[l]))return!1;if(n&&arguments.length===5){var b=objectGetOwnPropertySymbols(e);if(b.length!==0){var f=0;for(l=0;l<b.length;l++){var u=b[l];if(propertyIsEnumerable(e,u)){if(!propertyIsEnumerable(t,u))return!1;i.push(u),f++}else if(propertyIsEnumerable(t,u))return!1}var d=objectGetOwnPropertySymbols(t);if(b.length!==d.length&&getEnumerables(t,d).length!==f)return!1}else{var m=objectGetOwnPropertySymbols(t);if(m.length!==0&&getEnumerables(t,m).length!==0)return!1}}if(i.length===0&&(a===kNoIterator||a===kIsArray&&e.length===0||e.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var p=r.val1.get(e);if(p!==void 0){var _=r.val2.get(t);if(_!==void 0)return p===_}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var S=objEquiv(e,t,n,i,r,a);return r.val1.delete(e),r.val2.delete(t),S}function setHasEqualElement(e,t,n,r){for(var a=arrayFromSet(e),i=0;i<a.length;i++){var s=a[i];if(innerDeepEqual(t,s,n,r))return e.delete(s),!0}return!1}function findLooseMatchingPrimitives(e){switch(_typeof$1(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(numberIsNaN(e))return!1}return!0}function setMightHaveLoosePrim(e,t,n){var r=findLooseMatchingPrimitives(n);return r??(t.has(r)&&!e.has(r))}function mapMightHaveLoosePrim(e,t,n,r,a){var i=findLooseMatchingPrimitives(n);if(i!=null)return i;var s=t.get(i);return s===void 0&&!t.has(i)||!innerDeepEqual(r,s,!1,a)?!1:!e.has(i)&&innerDeepEqual(r,s,!1,a)}function setEquiv(e,t,n,r){for(var a=null,i=arrayFromSet(e),s=0;s<i.length;s++){var l=i[s];if(_typeof$1(l)==="object"&&l!==null)a===null&&(a=new Set),a.add(l);else if(!t.has(l)){if(n||!setMightHaveLoosePrim(e,t,l))return!1;a===null&&(a=new Set),a.add(l)}}if(a!==null){for(var b=arrayFromSet(t),f=0;f<b.length;f++){var u=b[f];if(_typeof$1(u)==="object"&&u!==null){if(!setHasEqualElement(a,u,n,r))return!1}else if(!n&&!e.has(u)&&!setHasEqualElement(a,u,n,r))return!1}return a.size===0}return!0}function mapHasEqualEntry(e,t,n,r,a,i){for(var s=arrayFromSet(e),l=0;l<s.length;l++){var b=s[l];if(innerDeepEqual(n,b,a,i)&&innerDeepEqual(r,t.get(b),a,i))return e.delete(b),!0}return!1}function mapEquiv(e,t,n,r){for(var a=null,i=arrayFromMap(e),s=0;s<i.length;s++){var l=_slicedToArray(i[s],2),b=l[0],f=l[1];if(_typeof$1(b)==="object"&&b!==null)a===null&&(a=new Set),a.add(b);else{var u=t.get(b);if(u===void 0&&!t.has(b)||!innerDeepEqual(f,u,n,r)){if(n||!mapMightHaveLoosePrim(e,t,b,f,r))return!1;a===null&&(a=new Set),a.add(b)}}}if(a!==null){for(var d=arrayFromMap(t),m=0;m<d.length;m++){var p=_slicedToArray(d[m],2),_=p[0],S=p[1];if(_typeof$1(_)==="object"&&_!==null){if(!mapHasEqualEntry(a,e,_,S,n,r))return!1}else if(!n&&(!e.has(_)||!innerDeepEqual(e.get(_),S,!1,r))&&!mapHasEqualEntry(a,e,_,S,!1,r))return!1}return a.size===0}return!0}function objEquiv(e,t,n,r,a,i){var s=0;if(i===kIsSet){if(!setEquiv(e,t,n,a))return!1}else if(i===kIsMap){if(!mapEquiv(e,t,n,a))return!1}else if(i===kIsArray)for(;s<e.length;s++)if(hasOwnProperty(e,s)){if(!hasOwnProperty(t,s)||!innerDeepEqual(e[s],t[s],n,a))return!1}else{if(hasOwnProperty(t,s))return!1;for(var l=Object.keys(e);s<l.length;s++){var b=l[s];if(!hasOwnProperty(t,b)||!innerDeepEqual(e[b],t[b],n,a))return!1}return l.length===Object.keys(t).length}for(s=0;s<r.length;s++){var f=r[s];if(!innerDeepEqual(e[f],t[f],n,a))return!1}return!0}function isDeepEqual$1(e,t){return innerDeepEqual(e,t,kLoose)}function isDeepStrictEqual$1(e,t){return innerDeepEqual(e,t,kStrict)}var comparisons={isDeepEqual:isDeepEqual$1,isDeepStrictEqual:isDeepStrictEqual$1};function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return _typeof(t)==="symbol"?t:String(t)}function _toPrimitive(e,t){if(_typeof(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_typeof(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _require=errors$2,_require$codes=_require.codes,ERR_AMBIGUOUS_ARGUMENT=_require$codes.ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE=_require$codes.ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE=_require$codes.ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,AssertionError=assertion_error,_require2=util$2,inspect=_require2.inspect,_require$types=util$2.types,isPromise=_require$types.isPromise,isRegExp=_require$types.isRegExp,objectAssign=polyfill$4(),objectIs=polyfill$3(),RegExpPrototypeTest=callBound$3("RegExp.prototype.test"),isDeepEqual,isDeepStrictEqual;function lazyLoadComparison(){var e=comparisons;isDeepEqual=e.isDeepEqual,isDeepStrictEqual=e.isDeepStrictEqual}var warned=!1,assert=assert$2.exports=ok$1,NO_EXCEPTION_SENTINEL={};function innerFail(e){throw e.message instanceof Error?e.message:new AssertionError(e)}function fail(e,t,n,r,a){var i=arguments.length,s;if(i===0)s="Failed";else if(i===1)n=e,e=void 0;else{if(warned===!1){warned=!0;var l=dist$1.process.emitWarning?dist$1.process.emitWarning:console.warn.bind(console);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}i===2&&(r="!=")}if(n instanceof Error)throw n;var b={actual:e,expected:t,operator:r===void 0?"fail":r,stackStartFn:a||fail};n!==void 0&&(b.message=n);var f=new AssertionError(b);throw s&&(f.message=s,f.generatedMessage=!0),f}assert.fail=fail;assert.AssertionError=AssertionError;function innerOk(e,t,n,r){if(!n){var a=!1;if(t===0)a=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var i=new AssertionError({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw i.generatedMessage=a,i}}function ok$1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];innerOk.apply(void 0,[ok$1,t.length].concat(t))}assert.ok=ok$1;assert.equal=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");t!=n&&innerFail({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})};assert.notEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");t==n&&innerFail({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})};assert.deepEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(t,n)||innerFail({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})};assert.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(t,n)&&innerFail({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})};assert.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(t,n)||innerFail({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(e,t,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(e,t)&&innerFail({actual:e,expected:t,message:n,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual})}assert.strictEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(t,n)||innerFail({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})};assert.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(t,n)&&innerFail({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var Comparison=_createClass(function e(t,n,r){var a=this;_classCallCheck(this,e),n.forEach(function(i){i in t&&(r!==void 0&&typeof r[i]=="string"&&isRegExp(t[i])&&RegExpPrototypeTest(t[i],r[i])?a[i]=r[i]:a[i]=t[i])})});function compareExceptionKey(e,t,n,r,a,i){if(!(n in e)||!isDeepStrictEqual(e[n],t[n])){if(!r){var s=new Comparison(e,a),l=new Comparison(t,a,e),b=new AssertionError({actual:s,expected:l,operator:"deepStrictEqual",stackStartFn:i});throw b.actual=e,b.expected=t,b.operator=i.name,b}innerFail({actual:e,expected:t,message:r,operator:i.name,stackStartFn:i})}}function expectedException(e,t,n,r){if(typeof t!="function"){if(isRegExp(t))return RegExpPrototypeTest(t,e);if(arguments.length===2)throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],t);if(_typeof(e)!=="object"||e===null){var a=new AssertionError({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw a.operator=r.name,a}var i=Object.keys(t);if(t instanceof Error)i.push("name","message");else if(i.length===0)throw new ERR_INVALID_ARG_VALUE("error",t,"may not be an empty object");return isDeepEqual===void 0&&lazyLoadComparison(),i.forEach(function(s){typeof e[s]=="string"&&isRegExp(t[s])&&RegExpPrototypeTest(t[s],e[s])||compareExceptionKey(e,t,s,n,i,r)}),!0}return t.prototype!==void 0&&e instanceof t?!0:Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function getActual(e){if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn","Function",e);try{e()}catch(t){return t}return NO_EXCEPTION_SENTINEL}function checkIsPromise(e){return isPromise(e)||e!==null&&_typeof(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function waitForActual(e){return Promise.resolve().then(function(){var t;if(typeof e=="function"){if(t=e(),!checkIsPromise(t))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",t)}else if(checkIsPromise(e))t=e;else throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return t}).then(function(){return NO_EXCEPTION_SENTINEL}).catch(function(n){return n})})}function expectsError(e,t,n,r){if(typeof n=="string"){if(arguments.length===4)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],n);if(_typeof(t)==="object"&&t!==null){if(t.message===n)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(n!=null&&_typeof(n)!=="object"&&typeof n!="function")throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],n);if(t===NO_EXCEPTION_SENTINEL){var a="";n&&n.name&&(a+=" (".concat(n.name,")")),a+=r?": ".concat(r):".";var i=e.name==="rejects"?"rejection":"exception";innerFail({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(i).concat(a),stackStartFn:e})}if(n&&!expectedException(t,n,r,e))throw t}function expectsNoError(e,t,n,r){if(t!==NO_EXCEPTION_SENTINEL){if(typeof n=="string"&&(r=n,n=void 0),!n||expectedException(t,n)){var a=r?": ".concat(r):".",i=e.name==="doesNotReject"?"rejection":"exception";innerFail({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(i).concat(a,`
`)+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}assert.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];expectsError.apply(void 0,[e,getActual(t)].concat(r))};assert.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return waitForActual(t).then(function(i){return expectsError.apply(void 0,[e,i].concat(r))})};assert.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];expectsNoError.apply(void 0,[e,getActual(t)].concat(r))};assert.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return waitForActual(t).then(function(i){return expectsNoError.apply(void 0,[e,i].concat(r))})};assert.ifError=function e(t){if(t!=null){var n="ifError got unwanted exception: ";_typeof(t)==="object"&&typeof t.message=="string"?t.message.length===0&&t.constructor?n+=t.constructor.name:n+=t.message:n+=inspect(t);var r=new AssertionError({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),a=t.stack;if(typeof a=="string"){var i=a.split(`
`);i.shift();for(var s=r.stack.split(`
`),l=0;l<i.length;l++){var b=s.indexOf(i[l]);if(b!==-1){s=s.slice(0,b);break}}r.stack="".concat(s.join(`
`),`
`).concat(i.join(`
`))}throw r}};function internalMatch(e,t,n,r,a){if(!isRegExp(t))throw new ERR_INVALID_ARG_TYPE("regexp","RegExp",t);var i=a==="match";if(typeof e!="string"||RegExpPrototypeTest(t,e)!==i){if(n instanceof Error)throw n;var s=!n;n=n||(typeof e!="string"?'The "string" argument must be of type string. Received type '+"".concat(_typeof(e)," (").concat(inspect(e),")"):(i?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(inspect(t),`. Input:

`).concat(inspect(e),`
`));var l=new AssertionError({actual:e,expected:t,message:n,operator:a,stackStartFn:r});throw l.generatedMessage=s,l}}assert.match=function e(t,n,r){internalMatch(t,n,r,e,"match")};assert.doesNotMatch=function e(t,n,r){internalMatch(t,n,r,e,"doesNotMatch")};function strict(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];innerOk.apply(void 0,[strict,t.length].concat(t))}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;const PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager{constructor(t,n,r){this._programId=t,this._provider=n,this._eventParser=new EventParser(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,n){var r;let a=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,((r=this._eventListeners.get(t))!==null&&r!==void 0?r:[]).concat(a)),this._eventCallbacks.set(a,[t,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,s)=>{if(!i.err)for(const l of this._eventParser.parseLogs(i.logs)){const b=this._eventListeners.get(l.name);b&&b.forEach(f=>{const u=this._eventCallbacks.get(f);if(u){const[,d]=u;d(l.data,s.slot,i.signature)}})}})),a}async removeEventListener(t){const n=this._eventCallbacks.get(t);if(!n)throw new Error(`Event listener ${t} doesn't exist!`);const[r]=n;let a=this._eventListeners.get(r);if(!a)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(t),a=a.filter(i=>i!==t),a.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(assert$2.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class EventParser{constructor(t,n){this.coder=n,this.programId=t}*parseLogs(t){const n=new LogScanner(t),r=new ExecutionContext;let a=n.next();for(;a!==null;){let[i,s,l]=this.handleLog(r,a);i&&(yield i),s&&r.push(s),l&&r.pop(),a=n.next()}}handleLog(t,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(n):[null,...this.handleSystemLog(n)]}handleProgramLog(t){if(t.startsWith(PROGRAM_LOG)||t.startsWith(PROGRAM_DATA)){const n=t.startsWith(PROGRAM_LOG)?t.slice(PROGRAM_LOG_START_INDEX):t.slice(PROGRAM_DATA_START_INDEX);return[this.coder.events.decode(n),null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const n=t.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){return assert$2.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){assert$2.exports.ok(this.stack.length>0),this.stack.pop()}}class LogScanner{constructor(t){this.logs=t}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class SimulateFactory{static build(t,n,r,a,i,s,l){return async(...f)=>{var u;const d=n(...f),[,m]=splitArgsAndCtx(t,[...f]);let p;if(a.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{p=await a.simulate(d,m.signers,(u=m.options)===null||u===void 0?void 0:u.commitment)}catch(A){throw translateError(A,r)}if(p===void 0)throw new Error("Unable to simulate transaction");const _=p.logs;if(!_)throw new Error("Simulated logs not found");const S=[];if(l.events){let A=new EventParser(s,i);for(const E of A.parseLogs(_))S.push(E)}return{events:S,raw:_}}}}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function program$2(e){return new Program(IDL$2,TOKEN_PROGRAM_ID,e,coder$2())}function coder$2(){return new SplTokenCoder(IDL$2)}const IDL$2={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class AccountsResolver{constructor(t,n,r,a,i,s){this._args=t,this._accounts=n,this._provider=r,this._programId=a,this._idlIx=i,this._accountStore=new AccountStore(r,s)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const n=this._idlIx.accounts[t],r=camelCase$1(n.name);if(n.isSigner&&!this._accounts[r]){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey;continue}Reflect.has(AccountsResolver.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=AccountsResolver.CONST_ACCOUNTS[r])}for(let t=0;t<this._idlIx.accounts.length;t+=1){const n=this._idlIx.accounts[t],r=camelCase$1(n.name);if(n.pda&&n.pda.seeds.length>0&&!this._accounts[r]){await this.autoPopulatePda(n);continue}}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map(i=>this.toBuffer(i))),r=await this.parseProgramId(t),[a]=await PublicKey.findProgramAddress(n,r);this._accounts[camelCase$1(t.name)]=a}async parseProgramId(t){var n;if(!(!((n=t.pda)===null||n===void 0)&&n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const n=this.argValue(t);return this.toBufferValue(t.type,n)}argValue(t){const n=camelCase$1(t.path.split(".")[0]),r=this._idlIx.args.findIndex(a=>a.name===n);if(r===-1)throw new Error(`Unable to find argument for seed: ${n}`);return this._args[r]}async toBufferAccount(t){const n=await this.accountValue(t);return this.toBufferValue(t.type,n)}async accountValue(t){const n=t.path.split("."),r=n[0],a=this._accounts[camelCase$1(r)];if(n.length===1)return a;const i=await this._accountStore.fetchAccount(t.account,a);return this.parseAccountValue(i,n.slice(1))}parseAccountValue(t,n){let r;for(;n.length>0;)r=t[camelCase$1(n[0])],n=n.slice(1);return r}toBufferValue(t,n){switch(t){case"u8":return dist$1.Buffer.from([n]);case"u16":let r=dist$1.Buffer.alloc(2);return r.writeUInt16LE(n),r;case"u32":let a=dist$1.Buffer.alloc(4);return a.writeUInt32LE(n),a;case"u64":let i=dist$1.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(n)),i;case"string":return dist$1.Buffer.from(encode$2(n));case"publicKey":return n.toBuffer();default:if(t.array)return dist$1.Buffer.from(n);throw new Error(`Unexpected seed type: ${t}`)}}}AccountsResolver.CONST_ACCOUNTS={associatedTokenProgram:ASSOCIATED_PROGRAM_ID,rent:SYSVAR_RENT_PUBKEY,systemProgram:SystemProgram.programId,tokenProgram:TOKEN_PROGRAM_ID$1};class AccountStore{constructor(t,n){this._provider=t,this._accounts=n,this._cache=new Map}async fetchAccount(t,n){const r=n.toString();if(!this._cache.has(r))if(t==="TokenAccount"){const a=await this._provider.connection.getAccountInfo(n);if(a===null)throw new Error(`invalid account info for ${r}`);const i=coder$2().accounts.decode("token",a.data);this._cache.set(r,i)}else{const a=this._accounts[camelCase$1(t)].fetch(n);this._cache.set(r,a)}return this._cache.get(r)}}class MethodsBuilderFactory{static build(t,n,r,a,i,s,l,b,f){return(...u)=>new MethodsBuilder(u,a,i,s,l,b,t,n,r,f)}}class MethodsBuilder{constructor(t,n,r,a,i,s,l,b,f,u){this._args=t,this._ixFn=n,this._txFn=r,this._rpcFn=a,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new AccountsResolver(t,this._accounts,l,b,f,u)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,Object.assign(this._accounts,t),this}accountsStrict(t){return this._autoResolveAccounts=!1,Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(t,n,r,a){const i=n.accounts.find(b=>b.isMut),s=!!n.returns;return i||!s?void 0:async(...b)=>{var f,u;let d=await r(...b);const m=`Program return: ${t} `;let p=d.raw.find(E=>E.startsWith(m));if(!p)throw new Error("View expected return log");let _=decode$1(p.slice(m.length)),S=n.returns;if(!S)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:S},Array.from([...(f=a.accounts)!==null&&f!==void 0?f:[],...(u=a.types)!==null&&u!==void 0?u:[]])).decode(_)}}}class NamespaceFactory{static build(t,n,r,a){const i={},s={},l={},b={},f={},u={},d=parseIdlErrors(t),m=t.accounts?AccountFactory.build(t,n,r,a):{},p=StateFactory.build(t,n,r,a);return t.instructions.forEach(_=>{const S=InstructionNamespaceFactory.build(_,(D,L)=>n.instruction.encode(D,L),r),A=TransactionFactory.build(_,S),E=RpcFactory.build(_,A,d,a),w=SimulateFactory.build(_,A,d,a,n,r,t),M=ViewFactory.build(r,_,w,t),T=MethodsBuilderFactory.build(a,r,_,S,A,E,w,M,m),v=camelCase$1(_.name);s[v]=S,l[v]=A,i[v]=E,b[v]=w,f[v]=T,M&&(u[v]=M)}),[i,s,l,m,b,f,p,u]}}class Program{constructor(t,n,r,a){n=translateAddress(n),r||(r=getProvider()),this._idl=t,this._provider=r,this._programId=n,this._coder=a??new BorshCoder(t),this._events=new EventManager(this._programId,r,this._coder);const[i,s,l,b,f,u,d,m]=NamespaceFactory.build(t,this._coder,n,r);this.rpc=i,this.instruction=s,this.transaction=l,this.account=b,this.simulate=f,this.methods=u,this.state=d,this.views=m}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,n){const r=translateAddress(t),a=await Program.fetchIdl(r,n);if(!a)throw new Error(`IDL not found for program: ${t.toString()}`);return new Program(a,r,n)}static async fetchIdl(t,n){n=n??getProvider();const r=translateAddress(t),a=await idlAddress(r),i=await n.connection.getAccountInfo(a);if(!i)return null;let s=decodeIdlAccount(i.data.slice(8));const l=inflate_1(s.data);return JSON.parse(decode$3(l))}addEventListener(t,n){return this._events.addEventListener(t,n)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class SplAssociatedTokenInstructionCoder{constructor(t){}encode(t,n){switch(camelCase$1(t)){case"create":return dist$1.Buffer.alloc(0);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,n){throw new Error("SPL associated token does not have state")}}class SplAssociatedTokenStateCoder{constructor(t){}encode(t,n){throw new Error("SPL associated token does not have state")}decode(t){throw new Error("SPL associated token does not have state")}}class SplAssociatedTokenAccountsCoder{constructor(t){this.idl=t}async encode(t,n){switch(t){default:throw new Error(`Invalid account name: ${t}`)}}decode(t,n){return this.decodeUnchecked(t,n)}decodeUnchecked(t,n){switch(t){default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,n){switch(t){default:throw new Error(`Invalid account name: ${t}`)}}size(t){var n;return(n=accountSize(this.idl,t))!==null&&n!==void 0?n:0}}class SplAssociatedTokenEventsCoder{constructor(t){}decode(t){throw new Error("SPL associated token program does not have events")}}class SplAssociatedTokenTypesCoder{constructor(t){}encode(t,n){throw new Error("SPL associated token does not have user-defined types")}decode(t,n){throw new Error("SPL associated token does not have user-defined types")}}class SplAssociatedTokenCoder{constructor(t){this.instruction=new SplAssociatedTokenInstructionCoder(t),this.accounts=new SplAssociatedTokenAccountsCoder(t),this.events=new SplAssociatedTokenEventsCoder(t),this.state=new SplAssociatedTokenStateCoder(t),this.types=new SplAssociatedTokenTypesCoder(t)}}const ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function program$1(e){return new Program(IDL$1,ASSOCIATED_TOKEN_PROGRAM_ID,e,coder$1())}function coder$1(){return new SplAssociatedTokenCoder(IDL$1)}const IDL$1={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class Spl{static token(t){return program$2(t)}static associatedToken(t){return program$1(t)}}const SYSTEM_PROGRAM_ID=new PublicKey("11111111111111111111111111111111");function program(e){return new Program(IDL,SYSTEM_PROGRAM_ID,e,coder())}function coder(){return new SystemCoder(IDL)}const IDL={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class Native{static system(t){return program(t)}}isBrowser||(exports.workspace=require("./workspace.js").default,exports.Wallet=require("./nodewallet.js").default);var esm=Object.freeze(Object.defineProperty({__proto__:null,BN,web3:index_browser_esm,getProvider,setProvider,AnchorProvider,utils:index,IdlError,ProgramErrorStack,AnchorError,ProgramError,translateError,LangErrorCode,LangErrorMessage,BorshInstructionCoder,BorshAccountsCoder,ACCOUNT_DISCRIMINATOR_SIZE,BorshEventCoder,eventDiscriminator,BorshStateCoder,stateDiscriminator,BorshCoder,SplTokenCoder,SystemCoder,parseIdlErrors,toInstruction,validateAccounts,translateAddress,splitArgsAndCtx,EventManager,EventParser,StateClient,AccountClient,MethodsBuilderFactory,Program,Spl,Native},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(esm),src$5={},account$1={};Object.defineProperty(account$1,"__esModule",{value:!0});account$1.decodeAccountWithRemaining=account$1.decodeAccount=void 0;const anchor_1$5=require$$0;function decodeAccount(e,t,n){if(e.accountInfo.owner.equals(t.programId))if(e.accountInfo.data.subarray(0,8).equals(anchor_1$5.BorshAccountsCoder.accountDiscriminator(n.ACCOUNT_NAME)))try{const a=t.coder.accounts.decode(n.ACCOUNT_NAME,e.accountInfo.data);return{type:"ok",key:e.accountId,data:new n(a,e.accountId)}}catch(r){return{type:"error",key:e.accountId,error:r}}else return{type:"error",key:e.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:e.accountId,error:new Error("not owned by program")}}account$1.decodeAccount=decodeAccount;function decodeAccountWithRemaining(e,t,n,r){if(e.accountInfo.owner.equals(t.programId))if(e.accountInfo.data.subarray(0,8).equals(anchor_1$5.BorshAccountsCoder.accountDiscriminator(n.ACCOUNT_NAME)))try{const i=t.coder.accounts.decode(n.ACCOUNT_NAME,e.accountInfo.data.subarray(0,n.MIN_DATA_SIZE));return{type:"ok",key:e.accountId,data:new n(i,e.accountId,r(e.accountInfo.data.subarray(n.MIN_DATA_SIZE),i))}}catch(a){return{type:"error",key:e.accountId,error:a}}else return{type:"error",key:e.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:e.accountId,error:new Error("not owned by program")}}account$1.decodeAccountWithRemaining=decodeAccountWithRemaining;var anchorTypes={};Object.defineProperty(anchorTypes,"__esModule",{value:!0});var asyncSigner={};Object.defineProperty(asyncSigner,"__esModule",{value:!0});asyncSigner.createDummyAsyncSigner=asyncSigner.signerToAsyncSigner=asyncSigner.walletToAsyncSigner=asyncSigner.keypairToAsyncSigner=asyncSigner.isAsyncSigner=void 0;function isAsyncSigner(e){return"inner"in e&&"requiresAsync"in e&&"publicKey"in e&&"sign"in e&&"signAll"in e}asyncSigner.isAsyncSigner=isAsyncSigner;function keypairToAsyncSigner(e){return{inner:()=>e,requiresAsync(){return!1},publicKey(){return e.publicKey},sign:t=>(t.partialSign(e),Promise.resolve(t)),signAll:t=>{for(const n of t)n.partialSign(e);return Promise.resolve(t)}}}asyncSigner.keypairToAsyncSigner=keypairToAsyncSigner;function walletToAsyncSigner(e){return{inner(){return e},publicKey(){return e.publicKey},requiresAsync(){return!0},sign(t){return e.signTransaction(t)},signAll(t){return e.signAllTransactions(t)}}}asyncSigner.walletToAsyncSigner=walletToAsyncSigner;function signerToAsyncSigner(e){return{inner:()=>e,publicKey:()=>e.publicKey,requiresAsync:()=>!1,sign:t=>(t.partialSign(e),Promise.resolve(t)),signAll:t=>{for(const n of t)n.partialSign(e);return Promise.resolve(t)}}}asyncSigner.signerToAsyncSigner=signerToAsyncSigner;function createDummyAsyncSigner(e){return{requiresAsync(){return!1},publicKey(){return e},sign:t=>(t.addSignature(e,dist$1.Buffer.alloc(64)),Promise.resolve(t)),signAll:t=>{for(const n of t)n.addSignature(e,dist$1.Buffer.alloc(64));return Promise.resolve(t)}}}asyncSigner.createDummyAsyncSigner=createDummyAsyncSigner;var dataSource={};Object.defineProperty(dataSource,"__esModule",{value:!0});var enums={};Object.defineProperty(enums,"__esModule",{value:!0});enums.getNumberFromEnum=enums.getAnchorEnum=void 0;const getAnchorEnum=(e,t)=>{const n=Object.entries(e);for(let r=0;r<n.length;r++){const a=n[r];if(a&&t===a[1])return{[a[0].toUpperCase()===a[0]?a[0].toLowerCase():a[0].charAt(0).toLowerCase()+a[0].slice(1)]:{}}}throw new Error(`${t} is not found in the enum`)};enums.getAnchorEnum=getAnchorEnum;const getNumberFromEnum=(e,t,n=1)=>{const r=Object.entries(e);for(let a=0;a<r.length;a++){const i=r[a];if(i&&t===i[1])return i[1]+n}throw new Error(`${t} is not found in the enum`)};enums.getNumberFromEnum=getNumberFromEnum;var errors$1={};Object.defineProperty(errors$1,"__esModule",{value:!0});errors$1.generateErrorMap=void 0;const generateErrorMap=e=>{var t,n;return(n=(t=e.errors)===null||t===void 0?void 0:t.reduce((r,a)=>Object.assign(Object.assign({},r),{[a.name]:a}),{}))!==null&&n!==void 0?n:{}};errors$1.generateErrorMap=generateErrorMap;var listenProgam={},util={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",f=500,u="__lodash_placeholder__",d=1,m=2,p=4,_=1,S=2,A=1,E=2,w=4,M=8,T=16,v=32,D=64,L=128,I=256,k=512,$=30,R="...",O=800,j=16,C=1,N=2,U=3,z=1/0,q=9007199254740991,Z=17976931348623157e292,ne=0/0,ie=4294967295,W=ie-1,Y=ie>>>1,ee=[["ary",L],["bind",A],["bindKey",E],["curry",M],["curryRight",T],["flip",k],["partial",v],["partialRight",D],["rearg",I]],se="[object Arguments]",ue="[object Array]",me="[object AsyncFunction]",ge="[object Boolean]",ye="[object Date]",we="[object DOMException]",$e="[object Error]",qe="[object Function]",Ke="[object GeneratorFunction]",Me="[object Map]",Pe="[object Number]",jn="[object Null]",_t="[object Object]",Nn="[object Promise]",ae="[object Proxy]",qt="[object RegExp]",ut="[object Set]",gn="[object String]",Fn="[object Symbol]",ws="[object Undefined]",yn="[object WeakMap]",Es="[object WeakSet]",_n="[object ArrayBuffer]",en="[object DataView]",Er="[object Float32Array]",Mr="[object Float64Array]",Pr="[object Int8Array]",kr="[object Int16Array]",$r="[object Int32Array]",Cr="[object Uint8Array]",Rr="[object Uint8ClampedArray]",Or="[object Uint16Array]",Dr="[object Uint32Array]",Ms=/\b__p \+= '';/g,Ps=/\b(__p \+=) '' \+/g,ks=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wi=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,$s=RegExp(Wi.source),Cs=RegExp(Zi.source),Rs=/<%-([\s\S]+?)%>/g,Os=/<%([\s\S]+?)%>/g,Vi=/<%=([\s\S]+?)%>/g,Ds=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,js=/^\w*$/,Ns=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Fs=RegExp(jr.source),Nr=/^\s+/,Ls=/\s/,Bs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Us=/\{\n\/\* \[wrapped with (.+)\] \*/,Ks=/,? & /,Gs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zs=/[()=,{}\[\]\/\s]/,qs=/\\(\\)?/g,xs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xi=/\w*$/,Hs=/^[-+]0x[0-9a-f]+$/i,Ws=/^0b[01]+$/i,Zs=/^\[object .+?Constructor\]$/,Vs=/^0o[0-7]+$/i,Xs=/^(?:0|[1-9]\d*)$/,Ys=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ln=/($^)/,Js=/['\n\r\u2028\u2029\\]/g,Bn="\\ud800-\\udfff",Qs="\\u0300-\\u036f",ec="\\ufe20-\\ufe2f",tc="\\u20d0-\\u20ff",Yi=Qs+ec+tc,Ji="\\u2700-\\u27bf",Qi="a-z\\xdf-\\xf6\\xf8-\\xff",nc="\\xac\\xb1\\xd7\\xf7",rc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ic="\\u2000-\\u206f",ac=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ea="A-Z\\xc0-\\xd6\\xd8-\\xde",ta="\\ufe0e\\ufe0f",na=nc+rc+ic+ac,Fr="['\u2019]",oc="["+Bn+"]",ra="["+na+"]",Un="["+Yi+"]",ia="\\d+",sc="["+Ji+"]",aa="["+Qi+"]",oa="[^"+Bn+na+ia+Ji+Qi+ea+"]",Lr="\\ud83c[\\udffb-\\udfff]",cc="(?:"+Un+"|"+Lr+")",sa="[^"+Bn+"]",Br="(?:\\ud83c[\\udde6-\\uddff]){2}",Ur="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+ea+"]",ca="\\u200d",ua="(?:"+aa+"|"+oa+")",uc="(?:"+tn+"|"+oa+")",la="(?:"+Fr+"(?:d|ll|m|re|s|t|ve))?",fa="(?:"+Fr+"(?:D|LL|M|RE|S|T|VE))?",da=cc+"?",ma="["+ta+"]?",lc="(?:"+ca+"(?:"+[sa,Br,Ur].join("|")+")"+ma+da+")*",fc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ha=ma+da+lc,mc="(?:"+[sc,Br,Ur].join("|")+")"+ha,hc="(?:"+[sa+Un+"?",Un,Br,Ur,oc].join("|")+")",pc=RegExp(Fr,"g"),gc=RegExp(Un,"g"),Kr=RegExp(Lr+"(?="+Lr+")|"+hc+ha,"g"),yc=RegExp([tn+"?"+aa+"+"+la+"(?="+[ra,tn,"$"].join("|")+")",uc+"+"+fa+"(?="+[ra,tn+ua,"$"].join("|")+")",tn+"?"+ua+"+"+la,tn+"+"+fa,dc,fc,ia,mc].join("|"),"g"),_c=RegExp("["+ca+Bn+Yi+ta+"]"),bc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ac=-1,je={};je[Er]=je[Mr]=je[Pr]=je[kr]=je[$r]=je[Cr]=je[Rr]=je[Or]=je[Dr]=!0,je[se]=je[ue]=je[_n]=je[ge]=je[en]=je[ye]=je[$e]=je[qe]=je[Me]=je[Pe]=je[_t]=je[qt]=je[ut]=je[gn]=je[yn]=!1;var De={};De[se]=De[ue]=De[_n]=De[en]=De[ge]=De[ye]=De[Er]=De[Mr]=De[Pr]=De[kr]=De[$r]=De[Me]=De[Pe]=De[_t]=De[qt]=De[ut]=De[gn]=De[Fn]=De[Cr]=De[Rr]=De[Or]=De[Dr]=!0,De[$e]=De[qe]=De[yn]=!1;var Tc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ic={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ec=parseFloat,Mc=parseInt,pa=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Pc=typeof self=="object"&&self&&self.Object===Object&&self,He=pa||Pc||Function("return this")(),Gr=t&&!t.nodeType&&t,xt=Gr&&!0&&e&&!e.nodeType&&e,ga=xt&&xt.exports===Gr,zr=ga&&pa.process,lt=function(){try{var V=xt&&xt.require&&xt.require("util").types;return V||zr&&zr.binding&&zr.binding("util")}catch{}}(),ya=lt&&lt.isArrayBuffer,ba=lt&&lt.isDate,Sa=lt&&lt.isMap,Aa=lt&&lt.isRegExp,Ta=lt&&lt.isSet,Ia=lt&&lt.isTypedArray;function rt(V,Q,J){switch(J.length){case 0:return V.call(Q);case 1:return V.call(Q,J[0]);case 2:return V.call(Q,J[0],J[1]);case 3:return V.call(Q,J[0],J[1],J[2])}return V.apply(Q,J)}function kc(V,Q,J,le){for(var _e=-1,ke=V==null?0:V.length;++_e<ke;){var Ge=V[_e];Q(le,Ge,J(Ge),V)}return le}function ft(V,Q){for(var J=-1,le=V==null?0:V.length;++J<le&&Q(V[J],J,V)!==!1;);return V}function $c(V,Q){for(var J=V==null?0:V.length;J--&&Q(V[J],J,V)!==!1;);return V}function va(V,Q){for(var J=-1,le=V==null?0:V.length;++J<le;)if(!Q(V[J],J,V))return!1;return!0}function jt(V,Q){for(var J=-1,le=V==null?0:V.length,_e=0,ke=[];++J<le;){var Ge=V[J];Q(Ge,J,V)&&(ke[_e++]=Ge)}return ke}function Kn(V,Q){var J=V==null?0:V.length;return!!J&&nn(V,Q,0)>-1}function qr(V,Q,J){for(var le=-1,_e=V==null?0:V.length;++le<_e;)if(J(Q,V[le]))return!0;return!1}function Ne(V,Q){for(var J=-1,le=V==null?0:V.length,_e=Array(le);++J<le;)_e[J]=Q(V[J],J,V);return _e}function Nt(V,Q){for(var J=-1,le=Q.length,_e=V.length;++J<le;)V[_e+J]=Q[J];return V}function xr(V,Q,J,le){var _e=-1,ke=V==null?0:V.length;for(le&&ke&&(J=V[++_e]);++_e<ke;)J=Q(J,V[_e],_e,V);return J}function Cc(V,Q,J,le){var _e=V==null?0:V.length;for(le&&_e&&(J=V[--_e]);_e--;)J=Q(J,V[_e],_e,V);return J}function Hr(V,Q){for(var J=-1,le=V==null?0:V.length;++J<le;)if(Q(V[J],J,V))return!0;return!1}var Rc=Wr("length");function Oc(V){return V.split("")}function Dc(V){return V.match(Gs)||[]}function wa(V,Q,J){var le;return J(V,function(_e,ke,Ge){if(Q(_e,ke,Ge))return le=ke,!1}),le}function Gn(V,Q,J,le){for(var _e=V.length,ke=J+(le?1:-1);le?ke--:++ke<_e;)if(Q(V[ke],ke,V))return ke;return-1}function nn(V,Q,J){return Q===Q?Hc(V,Q,J):Gn(V,Ea,J)}function jc(V,Q,J,le){for(var _e=J-1,ke=V.length;++_e<ke;)if(le(V[_e],Q))return _e;return-1}function Ea(V){return V!==V}function Ma(V,Q){var J=V==null?0:V.length;return J?Vr(V,Q)/J:ne}function Wr(V){return function(Q){return Q==null?n:Q[V]}}function Zr(V){return function(Q){return V==null?n:V[Q]}}function Pa(V,Q,J,le,_e){return _e(V,function(ke,Ge,Oe){J=le?(le=!1,ke):Q(J,ke,Ge,Oe)}),J}function Nc(V,Q){var J=V.length;for(V.sort(Q);J--;)V[J]=V[J].value;return V}function Vr(V,Q){for(var J,le=-1,_e=V.length;++le<_e;){var ke=Q(V[le]);ke!==n&&(J=J===n?ke:J+ke)}return J}function Xr(V,Q){for(var J=-1,le=Array(V);++J<V;)le[J]=Q(J);return le}function Fc(V,Q){return Ne(Q,function(J){return[J,V[J]]})}function ka(V){return V&&V.slice(0,Oa(V)+1).replace(Nr,"")}function it(V){return function(Q){return V(Q)}}function Yr(V,Q){return Ne(Q,function(J){return V[J]})}function Sn(V,Q){return V.has(Q)}function $a(V,Q){for(var J=-1,le=V.length;++J<le&&nn(Q,V[J],0)>-1;);return J}function Ca(V,Q){for(var J=V.length;J--&&nn(Q,V[J],0)>-1;);return J}function Lc(V,Q){for(var J=V.length,le=0;J--;)V[J]===Q&&++le;return le}var Bc=Zr(Tc),Uc=Zr(Ic);function Kc(V){return"\\"+wc[V]}function Gc(V,Q){return V==null?n:V[Q]}function rn(V){return _c.test(V)}function zc(V){return bc.test(V)}function qc(V){for(var Q,J=[];!(Q=V.next()).done;)J.push(Q.value);return J}function Jr(V){var Q=-1,J=Array(V.size);return V.forEach(function(le,_e){J[++Q]=[_e,le]}),J}function Ra(V,Q){return function(J){return V(Q(J))}}function Ft(V,Q){for(var J=-1,le=V.length,_e=0,ke=[];++J<le;){var Ge=V[J];(Ge===Q||Ge===u)&&(V[J]=u,ke[_e++]=J)}return ke}function zn(V){var Q=-1,J=Array(V.size);return V.forEach(function(le){J[++Q]=le}),J}function xc(V){var Q=-1,J=Array(V.size);return V.forEach(function(le){J[++Q]=[le,le]}),J}function Hc(V,Q,J){for(var le=J-1,_e=V.length;++le<_e;)if(V[le]===Q)return le;return-1}function Wc(V,Q,J){for(var le=J+1;le--;)if(V[le]===Q)return le;return le}function an(V){return rn(V)?Vc(V):Rc(V)}function bt(V){return rn(V)?Xc(V):Oc(V)}function Oa(V){for(var Q=V.length;Q--&&Ls.test(V.charAt(Q)););return Q}var Zc=Zr(vc);function Vc(V){for(var Q=Kr.lastIndex=0;Kr.test(V);)++Q;return Q}function Xc(V){return V.match(Kr)||[]}function Yc(V){return V.match(yc)||[]}var Jc=function V(Q){Q=Q==null?He:on.defaults(He.Object(),Q,on.pick(He,Sc));var J=Q.Array,le=Q.Date,_e=Q.Error,ke=Q.Function,Ge=Q.Math,Oe=Q.Object,Qr=Q.RegExp,Qc=Q.String,dt=Q.TypeError,qn=J.prototype,eu=ke.prototype,sn=Oe.prototype,xn=Q["__core-js_shared__"],Hn=eu.toString,Re=sn.hasOwnProperty,tu=0,Da=function(){var o=/[^.]+$/.exec(xn&&xn.keys&&xn.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Wn=sn.toString,nu=Hn.call(Oe),ru=He._,iu=Qr("^"+Hn.call(Re).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=ga?Q.Buffer:n,Lt=Q.Symbol,Vn=Q.Uint8Array,ja=Zn?Zn.allocUnsafe:n,Xn=Ra(Oe.getPrototypeOf,Oe),Na=Oe.create,Fa=sn.propertyIsEnumerable,Yn=qn.splice,La=Lt?Lt.isConcatSpreadable:n,An=Lt?Lt.iterator:n,Ht=Lt?Lt.toStringTag:n,Jn=function(){try{var o=Yt(Oe,"defineProperty");return o({},"",{}),o}catch{}}(),au=Q.clearTimeout!==He.clearTimeout&&Q.clearTimeout,ou=le&&le.now!==He.Date.now&&le.now,su=Q.setTimeout!==He.setTimeout&&Q.setTimeout,Qn=Ge.ceil,er=Ge.floor,ei=Oe.getOwnPropertySymbols,cu=Zn?Zn.isBuffer:n,Ba=Q.isFinite,uu=qn.join,lu=Ra(Oe.keys,Oe),ze=Ge.max,Ze=Ge.min,fu=le.now,du=Q.parseInt,Ua=Ge.random,mu=qn.reverse,ti=Yt(Q,"DataView"),Tn=Yt(Q,"Map"),ni=Yt(Q,"Promise"),cn=Yt(Q,"Set"),In=Yt(Q,"WeakMap"),vn=Yt(Oe,"create"),tr=In&&new In,un={},hu=Jt(ti),pu=Jt(Tn),gu=Jt(ni),yu=Jt(cn),_u=Jt(In),nr=Lt?Lt.prototype:n,wn=nr?nr.valueOf:n,Ka=nr?nr.toString:n;function B(o){if(Le(o)&&!be(o)&&!(o instanceof ve)){if(o instanceof mt)return o;if(Re.call(o,"__wrapped__"))return zo(o)}return new mt(o)}var ln=function(){function o(){}return function(c){if(!Fe(c))return{};if(Na)return Na(c);o.prototype=c;var y=new o;return o.prototype=n,y}}();function rr(){}function mt(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}B.templateSettings={escape:Rs,evaluate:Os,interpolate:Vi,variable:"",imports:{_:B}},B.prototype=rr.prototype,B.prototype.constructor=B,mt.prototype=ln(rr.prototype),mt.prototype.constructor=mt;function ve(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function bu(){var o=new ve(this.__wrapped__);return o.__actions__=Qe(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Qe(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Qe(this.__views__),o}function Su(){if(this.__filtered__){var o=new ve(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Au(){var o=this.__wrapped__.value(),c=this.__dir__,y=be(o),P=c<0,F=y?o.length:0,G=Ol(0,F,this.__views__),x=G.start,H=G.end,X=H-x,te=P?H:x-1,re=this.__iteratees__,oe=re.length,ce=0,fe=Ze(X,this.__takeCount__);if(!y||!P&&F==X&&fe==X)return fo(o,this.__actions__);var he=[];e:for(;X--&&ce<fe;){te+=c;for(var Ae=-1,pe=o[te];++Ae<oe;){var Ie=re[Ae],Ee=Ie.iteratee,st=Ie.type,Je=Ee(pe);if(st==N)pe=Je;else if(!Je){if(st==C)continue e;break e}}he[ce++]=pe}return he}ve.prototype=ln(rr.prototype),ve.prototype.constructor=ve;function Wt(o){var c=-1,y=o==null?0:o.length;for(this.clear();++c<y;){var P=o[c];this.set(P[0],P[1])}}function Tu(){this.__data__=vn?vn(null):{},this.size=0}function Iu(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function vu(o){var c=this.__data__;if(vn){var y=c[o];return y===b?n:y}return Re.call(c,o)?c[o]:n}function wu(o){var c=this.__data__;return vn?c[o]!==n:Re.call(c,o)}function Eu(o,c){var y=this.__data__;return this.size+=this.has(o)?0:1,y[o]=vn&&c===n?b:c,this}Wt.prototype.clear=Tu,Wt.prototype.delete=Iu,Wt.prototype.get=vu,Wt.prototype.has=wu,Wt.prototype.set=Eu;function Et(o){var c=-1,y=o==null?0:o.length;for(this.clear();++c<y;){var P=o[c];this.set(P[0],P[1])}}function Mu(){this.__data__=[],this.size=0}function Pu(o){var c=this.__data__,y=ir(c,o);if(y<0)return!1;var P=c.length-1;return y==P?c.pop():Yn.call(c,y,1),--this.size,!0}function ku(o){var c=this.__data__,y=ir(c,o);return y<0?n:c[y][1]}function $u(o){return ir(this.__data__,o)>-1}function Cu(o,c){var y=this.__data__,P=ir(y,o);return P<0?(++this.size,y.push([o,c])):y[P][1]=c,this}Et.prototype.clear=Mu,Et.prototype.delete=Pu,Et.prototype.get=ku,Et.prototype.has=$u,Et.prototype.set=Cu;function Mt(o){var c=-1,y=o==null?0:o.length;for(this.clear();++c<y;){var P=o[c];this.set(P[0],P[1])}}function Ru(){this.size=0,this.__data__={hash:new Wt,map:new(Tn||Et),string:new Wt}}function Ou(o){var c=gr(this,o).delete(o);return this.size-=c?1:0,c}function Du(o){return gr(this,o).get(o)}function ju(o){return gr(this,o).has(o)}function Nu(o,c){var y=gr(this,o),P=y.size;return y.set(o,c),this.size+=y.size==P?0:1,this}Mt.prototype.clear=Ru,Mt.prototype.delete=Ou,Mt.prototype.get=Du,Mt.prototype.has=ju,Mt.prototype.set=Nu;function Zt(o){var c=-1,y=o==null?0:o.length;for(this.__data__=new Mt;++c<y;)this.add(o[c])}function Fu(o){return this.__data__.set(o,b),this}function Lu(o){return this.__data__.has(o)}Zt.prototype.add=Zt.prototype.push=Fu,Zt.prototype.has=Lu;function St(o){var c=this.__data__=new Et(o);this.size=c.size}function Bu(){this.__data__=new Et,this.size=0}function Uu(o){var c=this.__data__,y=c.delete(o);return this.size=c.size,y}function Ku(o){return this.__data__.get(o)}function Gu(o){return this.__data__.has(o)}function zu(o,c){var y=this.__data__;if(y instanceof Et){var P=y.__data__;if(!Tn||P.length<a-1)return P.push([o,c]),this.size=++y.size,this;y=this.__data__=new Mt(P)}return y.set(o,c),this.size=y.size,this}St.prototype.clear=Bu,St.prototype.delete=Uu,St.prototype.get=Ku,St.prototype.has=Gu,St.prototype.set=zu;function Ga(o,c){var y=be(o),P=!y&&Qt(o),F=!y&&!P&&zt(o),G=!y&&!P&&!F&&hn(o),x=y||P||F||G,H=x?Xr(o.length,Qc):[],X=H.length;for(var te in o)(c||Re.call(o,te))&&!(x&&(te=="length"||F&&(te=="offset"||te=="parent")||G&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||Ct(te,X)))&&H.push(te);return H}function za(o){var c=o.length;return c?o[mi(0,c-1)]:n}function qu(o,c){return yr(Qe(o),Vt(c,0,o.length))}function xu(o){return yr(Qe(o))}function ri(o,c,y){(y!==n&&!At(o[c],y)||y===n&&!(c in o))&&Pt(o,c,y)}function En(o,c,y){var P=o[c];(!(Re.call(o,c)&&At(P,y))||y===n&&!(c in o))&&Pt(o,c,y)}function ir(o,c){for(var y=o.length;y--;)if(At(o[y][0],c))return y;return-1}function Hu(o,c,y,P){return Bt(o,function(F,G,x){c(P,F,y(F),x)}),P}function qa(o,c){return o&&vt(c,xe(c),o)}function Wu(o,c){return o&&vt(c,tt(c),o)}function Pt(o,c,y){c=="__proto__"&&Jn?Jn(o,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):o[c]=y}function ii(o,c){for(var y=-1,P=c.length,F=J(P),G=o==null;++y<P;)F[y]=G?n:Li(o,c[y]);return F}function Vt(o,c,y){return o===o&&(y!==n&&(o=o<=y?o:y),c!==n&&(o=o>=c?o:c)),o}function ht(o,c,y,P,F,G){var x,H=c&d,X=c&m,te=c&p;if(y&&(x=F?y(o,P,F,G):y(o)),x!==n)return x;if(!Fe(o))return o;var re=be(o);if(re){if(x=jl(o),!H)return Qe(o,x)}else{var oe=Ve(o),ce=oe==qe||oe==Ke;if(zt(o))return po(o,H);if(oe==_t||oe==se||ce&&!F){if(x=X||ce?{}:Do(o),!H)return X?vl(o,Wu(x,o)):Il(o,qa(x,o))}else{if(!De[oe])return F?o:{};x=Nl(o,oe,H)}}G||(G=new St);var fe=G.get(o);if(fe)return fe;G.set(o,x),ls(o)?o.forEach(function(pe){x.add(ht(pe,c,y,pe,o,G))}):cs(o)&&o.forEach(function(pe,Ie){x.set(Ie,ht(pe,c,y,Ie,o,G))});var he=te?X?vi:Ii:X?tt:xe,Ae=re?n:he(o);return ft(Ae||o,function(pe,Ie){Ae&&(Ie=pe,pe=o[Ie]),En(x,Ie,ht(pe,c,y,Ie,o,G))}),x}function Zu(o){var c=xe(o);return function(y){return xa(y,o,c)}}function xa(o,c,y){var P=y.length;if(o==null)return!P;for(o=Oe(o);P--;){var F=y[P],G=c[F],x=o[F];if(x===n&&!(F in o)||!G(x))return!1}return!0}function Ha(o,c,y){if(typeof o!="function")throw new dt(s);return On(function(){o.apply(n,y)},c)}function Mn(o,c,y,P){var F=-1,G=Kn,x=!0,H=o.length,X=[],te=c.length;if(!H)return X;y&&(c=Ne(c,it(y))),P?(G=qr,x=!1):c.length>=a&&(G=Sn,x=!1,c=new Zt(c));e:for(;++F<H;){var re=o[F],oe=y==null?re:y(re);if(re=P||re!==0?re:0,x&&oe===oe){for(var ce=te;ce--;)if(c[ce]===oe)continue e;X.push(re)}else G(c,oe,P)||X.push(re)}return X}var Bt=So(It),Wa=So(oi,!0);function Vu(o,c){var y=!0;return Bt(o,function(P,F,G){return y=!!c(P,F,G),y}),y}function ar(o,c,y){for(var P=-1,F=o.length;++P<F;){var G=o[P],x=c(G);if(x!=null&&(H===n?x===x&&!ot(x):y(x,H)))var H=x,X=G}return X}function Xu(o,c,y,P){var F=o.length;for(y=Se(y),y<0&&(y=-y>F?0:F+y),P=P===n||P>F?F:Se(P),P<0&&(P+=F),P=y>P?0:ds(P);y<P;)o[y++]=c;return o}function Za(o,c){var y=[];return Bt(o,function(P,F,G){c(P,F,G)&&y.push(P)}),y}function We(o,c,y,P,F){var G=-1,x=o.length;for(y||(y=Ll),F||(F=[]);++G<x;){var H=o[G];c>0&&y(H)?c>1?We(H,c-1,y,P,F):Nt(F,H):P||(F[F.length]=H)}return F}var ai=Ao(),Va=Ao(!0);function It(o,c){return o&&ai(o,c,xe)}function oi(o,c){return o&&Va(o,c,xe)}function or(o,c){return jt(c,function(y){return Rt(o[y])})}function Xt(o,c){c=Kt(c,o);for(var y=0,P=c.length;o!=null&&y<P;)o=o[wt(c[y++])];return y&&y==P?o:n}function Xa(o,c,y){var P=c(o);return be(o)?P:Nt(P,y(o))}function Xe(o){return o==null?o===n?ws:jn:Ht&&Ht in Oe(o)?Rl(o):xl(o)}function si(o,c){return o>c}function Yu(o,c){return o!=null&&Re.call(o,c)}function Ju(o,c){return o!=null&&c in Oe(o)}function Qu(o,c,y){return o>=Ze(c,y)&&o<ze(c,y)}function ci(o,c,y){for(var P=y?qr:Kn,F=o[0].length,G=o.length,x=G,H=J(G),X=1/0,te=[];x--;){var re=o[x];x&&c&&(re=Ne(re,it(c))),X=Ze(re.length,X),H[x]=!y&&(c||F>=120&&re.length>=120)?new Zt(x&&re):n}re=o[0];var oe=-1,ce=H[0];e:for(;++oe<F&&te.length<X;){var fe=re[oe],he=c?c(fe):fe;if(fe=y||fe!==0?fe:0,!(ce?Sn(ce,he):P(te,he,y))){for(x=G;--x;){var Ae=H[x];if(!(Ae?Sn(Ae,he):P(o[x],he,y)))continue e}ce&&ce.push(he),te.push(fe)}}return te}function el(o,c,y,P){return It(o,function(F,G,x){c(P,y(F),G,x)}),P}function Pn(o,c,y){c=Kt(c,o),o=Lo(o,c);var P=o==null?o:o[wt(gt(c))];return P==null?n:rt(P,o,y)}function Ya(o){return Le(o)&&Xe(o)==se}function tl(o){return Le(o)&&Xe(o)==_n}function nl(o){return Le(o)&&Xe(o)==ye}function kn(o,c,y,P,F){return o===c?!0:o==null||c==null||!Le(o)&&!Le(c)?o!==o&&c!==c:rl(o,c,y,P,kn,F)}function rl(o,c,y,P,F,G){var x=be(o),H=be(c),X=x?ue:Ve(o),te=H?ue:Ve(c);X=X==se?_t:X,te=te==se?_t:te;var re=X==_t,oe=te==_t,ce=X==te;if(ce&&zt(o)){if(!zt(c))return!1;x=!0,re=!1}if(ce&&!re)return G||(G=new St),x||hn(o)?Co(o,c,y,P,F,G):$l(o,c,X,y,P,F,G);if(!(y&_)){var fe=re&&Re.call(o,"__wrapped__"),he=oe&&Re.call(c,"__wrapped__");if(fe||he){var Ae=fe?o.value():o,pe=he?c.value():c;return G||(G=new St),F(Ae,pe,y,P,G)}}return ce?(G||(G=new St),Cl(o,c,y,P,F,G)):!1}function il(o){return Le(o)&&Ve(o)==Me}function ui(o,c,y,P){var F=y.length,G=F,x=!P;if(o==null)return!G;for(o=Oe(o);F--;){var H=y[F];if(x&&H[2]?H[1]!==o[H[0]]:!(H[0]in o))return!1}for(;++F<G;){H=y[F];var X=H[0],te=o[X],re=H[1];if(x&&H[2]){if(te===n&&!(X in o))return!1}else{var oe=new St;if(P)var ce=P(te,re,X,o,c,oe);if(!(ce===n?kn(re,te,_|S,P,oe):ce))return!1}}return!0}function Ja(o){if(!Fe(o)||Ul(o))return!1;var c=Rt(o)?iu:Zs;return c.test(Jt(o))}function al(o){return Le(o)&&Xe(o)==qt}function ol(o){return Le(o)&&Ve(o)==ut}function sl(o){return Le(o)&&Ir(o.length)&&!!je[Xe(o)]}function Qa(o){return typeof o=="function"?o:o==null?nt:typeof o=="object"?be(o)?no(o[0],o[1]):to(o):Is(o)}function li(o){if(!Rn(o))return lu(o);var c=[];for(var y in Oe(o))Re.call(o,y)&&y!="constructor"&&c.push(y);return c}function cl(o){if(!Fe(o))return ql(o);var c=Rn(o),y=[];for(var P in o)P=="constructor"&&(c||!Re.call(o,P))||y.push(P);return y}function fi(o,c){return o<c}function eo(o,c){var y=-1,P=et(o)?J(o.length):[];return Bt(o,function(F,G,x){P[++y]=c(F,G,x)}),P}function to(o){var c=Ei(o);return c.length==1&&c[0][2]?No(c[0][0],c[0][1]):function(y){return y===o||ui(y,o,c)}}function no(o,c){return Pi(o)&&jo(c)?No(wt(o),c):function(y){var P=Li(y,o);return P===n&&P===c?Bi(y,o):kn(c,P,_|S)}}function sr(o,c,y,P,F){o!==c&&ai(c,function(G,x){if(F||(F=new St),Fe(G))ul(o,c,x,y,sr,P,F);else{var H=P?P($i(o,x),G,x+"",o,c,F):n;H===n&&(H=G),ri(o,x,H)}},tt)}function ul(o,c,y,P,F,G,x){var H=$i(o,y),X=$i(c,y),te=x.get(X);if(te){ri(o,y,te);return}var re=G?G(H,X,y+"",o,c,x):n,oe=re===n;if(oe){var ce=be(X),fe=!ce&&zt(X),he=!ce&&!fe&&hn(X);re=X,ce||fe||he?be(H)?re=H:Be(H)?re=Qe(H):fe?(oe=!1,re=po(X,!0)):he?(oe=!1,re=go(X,!0)):re=[]:Dn(X)||Qt(X)?(re=H,Qt(H)?re=ms(H):(!Fe(H)||Rt(H))&&(re=Do(X))):oe=!1}oe&&(x.set(X,re),F(re,X,P,G,x),x.delete(X)),ri(o,y,re)}function ro(o,c){var y=o.length;if(!!y)return c+=c<0?y:0,Ct(c,y)?o[c]:n}function io(o,c,y){c.length?c=Ne(c,function(G){return be(G)?function(x){return Xt(x,G.length===1?G[0]:G)}:G}):c=[nt];var P=-1;c=Ne(c,it(de()));var F=eo(o,function(G,x,H){var X=Ne(c,function(te){return te(G)});return{criteria:X,index:++P,value:G}});return Nc(F,function(G,x){return Tl(G,x,y)})}function ll(o,c){return ao(o,c,function(y,P){return Bi(o,P)})}function ao(o,c,y){for(var P=-1,F=c.length,G={};++P<F;){var x=c[P],H=Xt(o,x);y(H,x)&&$n(G,Kt(x,o),H)}return G}function fl(o){return function(c){return Xt(c,o)}}function di(o,c,y,P){var F=P?jc:nn,G=-1,x=c.length,H=o;for(o===c&&(c=Qe(c)),y&&(H=Ne(o,it(y)));++G<x;)for(var X=0,te=c[G],re=y?y(te):te;(X=F(H,re,X,P))>-1;)H!==o&&Yn.call(H,X,1),Yn.call(o,X,1);return o}function oo(o,c){for(var y=o?c.length:0,P=y-1;y--;){var F=c[y];if(y==P||F!==G){var G=F;Ct(F)?Yn.call(o,F,1):gi(o,F)}}return o}function mi(o,c){return o+er(Ua()*(c-o+1))}function dl(o,c,y,P){for(var F=-1,G=ze(Qn((c-o)/(y||1)),0),x=J(G);G--;)x[P?G:++F]=o,o+=y;return x}function hi(o,c){var y="";if(!o||c<1||c>q)return y;do c%2&&(y+=o),c=er(c/2),c&&(o+=o);while(c);return y}function Te(o,c){return Ci(Fo(o,c,nt),o+"")}function ml(o){return za(pn(o))}function hl(o,c){var y=pn(o);return yr(y,Vt(c,0,y.length))}function $n(o,c,y,P){if(!Fe(o))return o;c=Kt(c,o);for(var F=-1,G=c.length,x=G-1,H=o;H!=null&&++F<G;){var X=wt(c[F]),te=y;if(X==="__proto__"||X==="constructor"||X==="prototype")return o;if(F!=x){var re=H[X];te=P?P(re,X,H):n,te===n&&(te=Fe(re)?re:Ct(c[F+1])?[]:{})}En(H,X,te),H=H[X]}return o}var so=tr?function(o,c){return tr.set(o,c),o}:nt,pl=Jn?function(o,c){return Jn(o,"toString",{configurable:!0,enumerable:!1,value:Ki(c),writable:!0})}:nt;function gl(o){return yr(pn(o))}function pt(o,c,y){var P=-1,F=o.length;c<0&&(c=-c>F?0:F+c),y=y>F?F:y,y<0&&(y+=F),F=c>y?0:y-c>>>0,c>>>=0;for(var G=J(F);++P<F;)G[P]=o[P+c];return G}function yl(o,c){var y;return Bt(o,function(P,F,G){return y=c(P,F,G),!y}),!!y}function cr(o,c,y){var P=0,F=o==null?P:o.length;if(typeof c=="number"&&c===c&&F<=Y){for(;P<F;){var G=P+F>>>1,x=o[G];x!==null&&!ot(x)&&(y?x<=c:x<c)?P=G+1:F=G}return F}return pi(o,c,nt,y)}function pi(o,c,y,P){var F=0,G=o==null?0:o.length;if(G===0)return 0;c=y(c);for(var x=c!==c,H=c===null,X=ot(c),te=c===n;F<G;){var re=er((F+G)/2),oe=y(o[re]),ce=oe!==n,fe=oe===null,he=oe===oe,Ae=ot(oe);if(x)var pe=P||he;else te?pe=he&&(P||ce):H?pe=he&&ce&&(P||!fe):X?pe=he&&ce&&!fe&&(P||!Ae):fe||Ae?pe=!1:pe=P?oe<=c:oe<c;pe?F=re+1:G=re}return Ze(G,W)}function co(o,c){for(var y=-1,P=o.length,F=0,G=[];++y<P;){var x=o[y],H=c?c(x):x;if(!y||!At(H,X)){var X=H;G[F++]=x===0?0:x}}return G}function uo(o){return typeof o=="number"?o:ot(o)?ne:+o}function at(o){if(typeof o=="string")return o;if(be(o))return Ne(o,at)+"";if(ot(o))return Ka?Ka.call(o):"";var c=o+"";return c=="0"&&1/o==-z?"-0":c}function Ut(o,c,y){var P=-1,F=Kn,G=o.length,x=!0,H=[],X=H;if(y)x=!1,F=qr;else if(G>=a){var te=c?null:Pl(o);if(te)return zn(te);x=!1,F=Sn,X=new Zt}else X=c?[]:H;e:for(;++P<G;){var re=o[P],oe=c?c(re):re;if(re=y||re!==0?re:0,x&&oe===oe){for(var ce=X.length;ce--;)if(X[ce]===oe)continue e;c&&X.push(oe),H.push(re)}else F(X,oe,y)||(X!==H&&X.push(oe),H.push(re))}return H}function gi(o,c){return c=Kt(c,o),o=Lo(o,c),o==null||delete o[wt(gt(c))]}function lo(o,c,y,P){return $n(o,c,y(Xt(o,c)),P)}function ur(o,c,y,P){for(var F=o.length,G=P?F:-1;(P?G--:++G<F)&&c(o[G],G,o););return y?pt(o,P?0:G,P?G+1:F):pt(o,P?G+1:0,P?F:G)}function fo(o,c){var y=o;return y instanceof ve&&(y=y.value()),xr(c,function(P,F){return F.func.apply(F.thisArg,Nt([P],F.args))},y)}function yi(o,c,y){var P=o.length;if(P<2)return P?Ut(o[0]):[];for(var F=-1,G=J(P);++F<P;)for(var x=o[F],H=-1;++H<P;)H!=F&&(G[F]=Mn(G[F]||x,o[H],c,y));return Ut(We(G,1),c,y)}function mo(o,c,y){for(var P=-1,F=o.length,G=c.length,x={};++P<F;){var H=P<G?c[P]:n;y(x,o[P],H)}return x}function _i(o){return Be(o)?o:[]}function bi(o){return typeof o=="function"?o:nt}function Kt(o,c){return be(o)?o:Pi(o,c)?[o]:Go(Ce(o))}var _l=Te;function Gt(o,c,y){var P=o.length;return y=y===n?P:y,!c&&y>=P?o:pt(o,c,y)}var ho=au||function(o){return He.clearTimeout(o)};function po(o,c){if(c)return o.slice();var y=o.length,P=ja?ja(y):new o.constructor(y);return o.copy(P),P}function Si(o){var c=new o.constructor(o.byteLength);return new Vn(c).set(new Vn(o)),c}function bl(o,c){var y=c?Si(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.byteLength)}function Sl(o){var c=new o.constructor(o.source,Xi.exec(o));return c.lastIndex=o.lastIndex,c}function Al(o){return wn?Oe(wn.call(o)):{}}function go(o,c){var y=c?Si(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.length)}function yo(o,c){if(o!==c){var y=o!==n,P=o===null,F=o===o,G=ot(o),x=c!==n,H=c===null,X=c===c,te=ot(c);if(!H&&!te&&!G&&o>c||G&&x&&X&&!H&&!te||P&&x&&X||!y&&X||!F)return 1;if(!P&&!G&&!te&&o<c||te&&y&&F&&!P&&!G||H&&y&&F||!x&&F||!X)return-1}return 0}function Tl(o,c,y){for(var P=-1,F=o.criteria,G=c.criteria,x=F.length,H=y.length;++P<x;){var X=yo(F[P],G[P]);if(X){if(P>=H)return X;var te=y[P];return X*(te=="desc"?-1:1)}}return o.index-c.index}function _o(o,c,y,P){for(var F=-1,G=o.length,x=y.length,H=-1,X=c.length,te=ze(G-x,0),re=J(X+te),oe=!P;++H<X;)re[H]=c[H];for(;++F<x;)(oe||F<G)&&(re[y[F]]=o[F]);for(;te--;)re[H++]=o[F++];return re}function bo(o,c,y,P){for(var F=-1,G=o.length,x=-1,H=y.length,X=-1,te=c.length,re=ze(G-H,0),oe=J(re+te),ce=!P;++F<re;)oe[F]=o[F];for(var fe=F;++X<te;)oe[fe+X]=c[X];for(;++x<H;)(ce||F<G)&&(oe[fe+y[x]]=o[F++]);return oe}function Qe(o,c){var y=-1,P=o.length;for(c||(c=J(P));++y<P;)c[y]=o[y];return c}function vt(o,c,y,P){var F=!y;y||(y={});for(var G=-1,x=c.length;++G<x;){var H=c[G],X=P?P(y[H],o[H],H,y,o):n;X===n&&(X=o[H]),F?Pt(y,H,X):En(y,H,X)}return y}function Il(o,c){return vt(o,Mi(o),c)}function vl(o,c){return vt(o,Ro(o),c)}function lr(o,c){return function(y,P){var F=be(y)?kc:Hu,G=c?c():{};return F(y,o,de(P,2),G)}}function fn(o){return Te(function(c,y){var P=-1,F=y.length,G=F>1?y[F-1]:n,x=F>2?y[2]:n;for(G=o.length>3&&typeof G=="function"?(F--,G):n,x&&Ye(y[0],y[1],x)&&(G=F<3?n:G,F=1),c=Oe(c);++P<F;){var H=y[P];H&&o(c,H,P,G)}return c})}function So(o,c){return function(y,P){if(y==null)return y;if(!et(y))return o(y,P);for(var F=y.length,G=c?F:-1,x=Oe(y);(c?G--:++G<F)&&P(x[G],G,x)!==!1;);return y}}function Ao(o){return function(c,y,P){for(var F=-1,G=Oe(c),x=P(c),H=x.length;H--;){var X=x[o?H:++F];if(y(G[X],X,G)===!1)break}return c}}function wl(o,c,y){var P=c&A,F=Cn(o);function G(){var x=this&&this!==He&&this instanceof G?F:o;return x.apply(P?y:this,arguments)}return G}function To(o){return function(c){c=Ce(c);var y=rn(c)?bt(c):n,P=y?y[0]:c.charAt(0),F=y?Gt(y,1).join(""):c.slice(1);return P[o]()+F}}function dn(o){return function(c){return xr(As(Ss(c).replace(pc,"")),o,"")}}function Cn(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=ln(o.prototype),P=o.apply(y,c);return Fe(P)?P:y}}function El(o,c,y){var P=Cn(o);function F(){for(var G=arguments.length,x=J(G),H=G,X=mn(F);H--;)x[H]=arguments[H];var te=G<3&&x[0]!==X&&x[G-1]!==X?[]:Ft(x,X);if(G-=te.length,G<y)return Mo(o,c,fr,F.placeholder,n,x,te,n,n,y-G);var re=this&&this!==He&&this instanceof F?P:o;return rt(re,this,x)}return F}function Io(o){return function(c,y,P){var F=Oe(c);if(!et(c)){var G=de(y,3);c=xe(c),y=function(H){return G(F[H],H,F)}}var x=o(c,y,P);return x>-1?F[G?c[x]:x]:n}}function vo(o){return $t(function(c){var y=c.length,P=y,F=mt.prototype.thru;for(o&&c.reverse();P--;){var G=c[P];if(typeof G!="function")throw new dt(s);if(F&&!x&&pr(G)=="wrapper")var x=new mt([],!0)}for(P=x?P:y;++P<y;){G=c[P];var H=pr(G),X=H=="wrapper"?wi(G):n;X&&ki(X[0])&&X[1]==(L|M|v|I)&&!X[4].length&&X[9]==1?x=x[pr(X[0])].apply(x,X[3]):x=G.length==1&&ki(G)?x[H]():x.thru(G)}return function(){var te=arguments,re=te[0];if(x&&te.length==1&&be(re))return x.plant(re).value();for(var oe=0,ce=y?c[oe].apply(this,te):re;++oe<y;)ce=c[oe].call(this,ce);return ce}})}function fr(o,c,y,P,F,G,x,H,X,te){var re=c&L,oe=c&A,ce=c&E,fe=c&(M|T),he=c&k,Ae=ce?n:Cn(o);function pe(){for(var Ie=arguments.length,Ee=J(Ie),st=Ie;st--;)Ee[st]=arguments[st];if(fe)var Je=mn(pe),ct=Lc(Ee,Je);if(P&&(Ee=_o(Ee,P,F,fe)),G&&(Ee=bo(Ee,G,x,fe)),Ie-=ct,fe&&Ie<te){var Ue=Ft(Ee,Je);return Mo(o,c,fr,pe.placeholder,y,Ee,Ue,H,X,te-Ie)}var Tt=oe?y:this,Dt=ce?Tt[o]:o;return Ie=Ee.length,H?Ee=Hl(Ee,H):he&&Ie>1&&Ee.reverse(),re&&X<Ie&&(Ee.length=X),this&&this!==He&&this instanceof pe&&(Dt=Ae||Cn(Dt)),Dt.apply(Tt,Ee)}return pe}function wo(o,c){return function(y,P){return el(y,o,c(P),{})}}function dr(o,c){return function(y,P){var F;if(y===n&&P===n)return c;if(y!==n&&(F=y),P!==n){if(F===n)return P;typeof y=="string"||typeof P=="string"?(y=at(y),P=at(P)):(y=uo(y),P=uo(P)),F=o(y,P)}return F}}function Ai(o){return $t(function(c){return c=Ne(c,it(de())),Te(function(y){var P=this;return o(c,function(F){return rt(F,P,y)})})})}function mr(o,c){c=c===n?" ":at(c);var y=c.length;if(y<2)return y?hi(c,o):c;var P=hi(c,Qn(o/an(c)));return rn(c)?Gt(bt(P),0,o).join(""):P.slice(0,o)}function Ml(o,c,y,P){var F=c&A,G=Cn(o);function x(){for(var H=-1,X=arguments.length,te=-1,re=P.length,oe=J(re+X),ce=this&&this!==He&&this instanceof x?G:o;++te<re;)oe[te]=P[te];for(;X--;)oe[te++]=arguments[++H];return rt(ce,F?y:this,oe)}return x}function Eo(o){return function(c,y,P){return P&&typeof P!="number"&&Ye(c,y,P)&&(y=P=n),c=Ot(c),y===n?(y=c,c=0):y=Ot(y),P=P===n?c<y?1:-1:Ot(P),dl(c,y,P,o)}}function hr(o){return function(c,y){return typeof c=="string"&&typeof y=="string"||(c=yt(c),y=yt(y)),o(c,y)}}function Mo(o,c,y,P,F,G,x,H,X,te){var re=c&M,oe=re?x:n,ce=re?n:x,fe=re?G:n,he=re?n:G;c|=re?v:D,c&=~(re?D:v),c&w||(c&=~(A|E));var Ae=[o,c,F,fe,oe,he,ce,H,X,te],pe=y.apply(n,Ae);return ki(o)&&Bo(pe,Ae),pe.placeholder=P,Uo(pe,o,c)}function Ti(o){var c=Ge[o];return function(y,P){if(y=yt(y),P=P==null?0:Ze(Se(P),292),P&&Ba(y)){var F=(Ce(y)+"e").split("e"),G=c(F[0]+"e"+(+F[1]+P));return F=(Ce(G)+"e").split("e"),+(F[0]+"e"+(+F[1]-P))}return c(y)}}var Pl=cn&&1/zn(new cn([,-0]))[1]==z?function(o){return new cn(o)}:qi;function Po(o){return function(c){var y=Ve(c);return y==Me?Jr(c):y==ut?xc(c):Fc(c,o(c))}}function kt(o,c,y,P,F,G,x,H){var X=c&E;if(!X&&typeof o!="function")throw new dt(s);var te=P?P.length:0;if(te||(c&=~(v|D),P=F=n),x=x===n?x:ze(Se(x),0),H=H===n?H:Se(H),te-=F?F.length:0,c&D){var re=P,oe=F;P=F=n}var ce=X?n:wi(o),fe=[o,c,y,P,F,re,oe,G,x,H];if(ce&&zl(fe,ce),o=fe[0],c=fe[1],y=fe[2],P=fe[3],F=fe[4],H=fe[9]=fe[9]===n?X?0:o.length:ze(fe[9]-te,0),!H&&c&(M|T)&&(c&=~(M|T)),!c||c==A)var he=wl(o,c,y);else c==M||c==T?he=El(o,c,H):(c==v||c==(A|v))&&!F.length?he=Ml(o,c,y,P):he=fr.apply(n,fe);var Ae=ce?so:Bo;return Uo(Ae(he,fe),o,c)}function ko(o,c,y,P){return o===n||At(o,sn[y])&&!Re.call(P,y)?c:o}function $o(o,c,y,P,F,G){return Fe(o)&&Fe(c)&&(G.set(c,o),sr(o,c,n,$o,G),G.delete(c)),o}function kl(o){return Dn(o)?n:o}function Co(o,c,y,P,F,G){var x=y&_,H=o.length,X=c.length;if(H!=X&&!(x&&X>H))return!1;var te=G.get(o),re=G.get(c);if(te&&re)return te==c&&re==o;var oe=-1,ce=!0,fe=y&S?new Zt:n;for(G.set(o,c),G.set(c,o);++oe<H;){var he=o[oe],Ae=c[oe];if(P)var pe=x?P(Ae,he,oe,c,o,G):P(he,Ae,oe,o,c,G);if(pe!==n){if(pe)continue;ce=!1;break}if(fe){if(!Hr(c,function(Ie,Ee){if(!Sn(fe,Ee)&&(he===Ie||F(he,Ie,y,P,G)))return fe.push(Ee)})){ce=!1;break}}else if(!(he===Ae||F(he,Ae,y,P,G))){ce=!1;break}}return G.delete(o),G.delete(c),ce}function $l(o,c,y,P,F,G,x){switch(y){case en:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case _n:return!(o.byteLength!=c.byteLength||!G(new Vn(o),new Vn(c)));case ge:case ye:case Pe:return At(+o,+c);case $e:return o.name==c.name&&o.message==c.message;case qt:case gn:return o==c+"";case Me:var H=Jr;case ut:var X=P&_;if(H||(H=zn),o.size!=c.size&&!X)return!1;var te=x.get(o);if(te)return te==c;P|=S,x.set(o,c);var re=Co(H(o),H(c),P,F,G,x);return x.delete(o),re;case Fn:if(wn)return wn.call(o)==wn.call(c)}return!1}function Cl(o,c,y,P,F,G){var x=y&_,H=Ii(o),X=H.length,te=Ii(c),re=te.length;if(X!=re&&!x)return!1;for(var oe=X;oe--;){var ce=H[oe];if(!(x?ce in c:Re.call(c,ce)))return!1}var fe=G.get(o),he=G.get(c);if(fe&&he)return fe==c&&he==o;var Ae=!0;G.set(o,c),G.set(c,o);for(var pe=x;++oe<X;){ce=H[oe];var Ie=o[ce],Ee=c[ce];if(P)var st=x?P(Ee,Ie,ce,c,o,G):P(Ie,Ee,ce,o,c,G);if(!(st===n?Ie===Ee||F(Ie,Ee,y,P,G):st)){Ae=!1;break}pe||(pe=ce=="constructor")}if(Ae&&!pe){var Je=o.constructor,ct=c.constructor;Je!=ct&&"constructor"in o&&"constructor"in c&&!(typeof Je=="function"&&Je instanceof Je&&typeof ct=="function"&&ct instanceof ct)&&(Ae=!1)}return G.delete(o),G.delete(c),Ae}function $t(o){return Ci(Fo(o,n,Ho),o+"")}function Ii(o){return Xa(o,xe,Mi)}function vi(o){return Xa(o,tt,Ro)}var wi=tr?function(o){return tr.get(o)}:qi;function pr(o){for(var c=o.name+"",y=un[c],P=Re.call(un,c)?y.length:0;P--;){var F=y[P],G=F.func;if(G==null||G==o)return F.name}return c}function mn(o){var c=Re.call(B,"placeholder")?B:o;return c.placeholder}function de(){var o=B.iteratee||Gi;return o=o===Gi?Qa:o,arguments.length?o(arguments[0],arguments[1]):o}function gr(o,c){var y=o.__data__;return Bl(c)?y[typeof c=="string"?"string":"hash"]:y.map}function Ei(o){for(var c=xe(o),y=c.length;y--;){var P=c[y],F=o[P];c[y]=[P,F,jo(F)]}return c}function Yt(o,c){var y=Gc(o,c);return Ja(y)?y:n}function Rl(o){var c=Re.call(o,Ht),y=o[Ht];try{o[Ht]=n;var P=!0}catch{}var F=Wn.call(o);return P&&(c?o[Ht]=y:delete o[Ht]),F}var Mi=ei?function(o){return o==null?[]:(o=Oe(o),jt(ei(o),function(c){return Fa.call(o,c)}))}:xi,Ro=ei?function(o){for(var c=[];o;)Nt(c,Mi(o)),o=Xn(o);return c}:xi,Ve=Xe;(ti&&Ve(new ti(new ArrayBuffer(1)))!=en||Tn&&Ve(new Tn)!=Me||ni&&Ve(ni.resolve())!=Nn||cn&&Ve(new cn)!=ut||In&&Ve(new In)!=yn)&&(Ve=function(o){var c=Xe(o),y=c==_t?o.constructor:n,P=y?Jt(y):"";if(P)switch(P){case hu:return en;case pu:return Me;case gu:return Nn;case yu:return ut;case _u:return yn}return c});function Ol(o,c,y){for(var P=-1,F=y.length;++P<F;){var G=y[P],x=G.size;switch(G.type){case"drop":o+=x;break;case"dropRight":c-=x;break;case"take":c=Ze(c,o+x);break;case"takeRight":o=ze(o,c-x);break}}return{start:o,end:c}}function Dl(o){var c=o.match(Us);return c?c[1].split(Ks):[]}function Oo(o,c,y){c=Kt(c,o);for(var P=-1,F=c.length,G=!1;++P<F;){var x=wt(c[P]);if(!(G=o!=null&&y(o,x)))break;o=o[x]}return G||++P!=F?G:(F=o==null?0:o.length,!!F&&Ir(F)&&Ct(x,F)&&(be(o)||Qt(o)))}function jl(o){var c=o.length,y=new o.constructor(c);return c&&typeof o[0]=="string"&&Re.call(o,"index")&&(y.index=o.index,y.input=o.input),y}function Do(o){return typeof o.constructor=="function"&&!Rn(o)?ln(Xn(o)):{}}function Nl(o,c,y){var P=o.constructor;switch(c){case _n:return Si(o);case ge:case ye:return new P(+o);case en:return bl(o,y);case Er:case Mr:case Pr:case kr:case $r:case Cr:case Rr:case Or:case Dr:return go(o,y);case Me:return new P;case Pe:case gn:return new P(o);case qt:return Sl(o);case ut:return new P;case Fn:return Al(o)}}function Fl(o,c){var y=c.length;if(!y)return o;var P=y-1;return c[P]=(y>1?"& ":"")+c[P],c=c.join(y>2?", ":" "),o.replace(Bs,`{
/* [wrapped with `+c+`] */
`)}function Ll(o){return be(o)||Qt(o)||!!(La&&o&&o[La])}function Ct(o,c){var y=typeof o;return c=c??q,!!c&&(y=="number"||y!="symbol"&&Xs.test(o))&&o>-1&&o%1==0&&o<c}function Ye(o,c,y){if(!Fe(y))return!1;var P=typeof c;return(P=="number"?et(y)&&Ct(c,y.length):P=="string"&&c in y)?At(y[c],o):!1}function Pi(o,c){if(be(o))return!1;var y=typeof o;return y=="number"||y=="symbol"||y=="boolean"||o==null||ot(o)?!0:js.test(o)||!Ds.test(o)||c!=null&&o in Oe(c)}function Bl(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function ki(o){var c=pr(o),y=B[c];if(typeof y!="function"||!(c in ve.prototype))return!1;if(o===y)return!0;var P=wi(y);return!!P&&o===P[0]}function Ul(o){return!!Da&&Da in o}var Kl=xn?Rt:Hi;function Rn(o){var c=o&&o.constructor,y=typeof c=="function"&&c.prototype||sn;return o===y}function jo(o){return o===o&&!Fe(o)}function No(o,c){return function(y){return y==null?!1:y[o]===c&&(c!==n||o in Oe(y))}}function Gl(o){var c=Ar(o,function(P){return y.size===f&&y.clear(),P}),y=c.cache;return c}function zl(o,c){var y=o[1],P=c[1],F=y|P,G=F<(A|E|L),x=P==L&&y==M||P==L&&y==I&&o[7].length<=c[8]||P==(L|I)&&c[7].length<=c[8]&&y==M;if(!(G||x))return o;P&A&&(o[2]=c[2],F|=y&A?0:w);var H=c[3];if(H){var X=o[3];o[3]=X?_o(X,H,c[4]):H,o[4]=X?Ft(o[3],u):c[4]}return H=c[5],H&&(X=o[5],o[5]=X?bo(X,H,c[6]):H,o[6]=X?Ft(o[5],u):c[6]),H=c[7],H&&(o[7]=H),P&L&&(o[8]=o[8]==null?c[8]:Ze(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=F,o}function ql(o){var c=[];if(o!=null)for(var y in Oe(o))c.push(y);return c}function xl(o){return Wn.call(o)}function Fo(o,c,y){return c=ze(c===n?o.length-1:c,0),function(){for(var P=arguments,F=-1,G=ze(P.length-c,0),x=J(G);++F<G;)x[F]=P[c+F];F=-1;for(var H=J(c+1);++F<c;)H[F]=P[F];return H[c]=y(x),rt(o,this,H)}}function Lo(o,c){return c.length<2?o:Xt(o,pt(c,0,-1))}function Hl(o,c){for(var y=o.length,P=Ze(c.length,y),F=Qe(o);P--;){var G=c[P];o[P]=Ct(G,y)?F[G]:n}return o}function $i(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Bo=Ko(so),On=su||function(o,c){return He.setTimeout(o,c)},Ci=Ko(pl);function Uo(o,c,y){var P=c+"";return Ci(o,Fl(P,Wl(Dl(P),y)))}function Ko(o){var c=0,y=0;return function(){var P=fu(),F=j-(P-y);if(y=P,F>0){if(++c>=O)return arguments[0]}else c=0;return o.apply(n,arguments)}}function yr(o,c){var y=-1,P=o.length,F=P-1;for(c=c===n?P:c;++y<c;){var G=mi(y,F),x=o[G];o[G]=o[y],o[y]=x}return o.length=c,o}var Go=Gl(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(Ns,function(y,P,F,G){c.push(F?G.replace(qs,"$1"):P||y)}),c});function wt(o){if(typeof o=="string"||ot(o))return o;var c=o+"";return c=="0"&&1/o==-z?"-0":c}function Jt(o){if(o!=null){try{return Hn.call(o)}catch{}try{return o+""}catch{}}return""}function Wl(o,c){return ft(ee,function(y){var P="_."+y[0];c&y[1]&&!Kn(o,P)&&o.push(P)}),o.sort()}function zo(o){if(o instanceof ve)return o.clone();var c=new mt(o.__wrapped__,o.__chain__);return c.__actions__=Qe(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function Zl(o,c,y){(y?Ye(o,c,y):c===n)?c=1:c=ze(Se(c),0);var P=o==null?0:o.length;if(!P||c<1)return[];for(var F=0,G=0,x=J(Qn(P/c));F<P;)x[G++]=pt(o,F,F+=c);return x}function Vl(o){for(var c=-1,y=o==null?0:o.length,P=0,F=[];++c<y;){var G=o[c];G&&(F[P++]=G)}return F}function Xl(){var o=arguments.length;if(!o)return[];for(var c=J(o-1),y=arguments[0],P=o;P--;)c[P-1]=arguments[P];return Nt(be(y)?Qe(y):[y],We(c,1))}var Yl=Te(function(o,c){return Be(o)?Mn(o,We(c,1,Be,!0)):[]}),Jl=Te(function(o,c){var y=gt(c);return Be(y)&&(y=n),Be(o)?Mn(o,We(c,1,Be,!0),de(y,2)):[]}),Ql=Te(function(o,c){var y=gt(c);return Be(y)&&(y=n),Be(o)?Mn(o,We(c,1,Be,!0),n,y):[]});function ef(o,c,y){var P=o==null?0:o.length;return P?(c=y||c===n?1:Se(c),pt(o,c<0?0:c,P)):[]}function tf(o,c,y){var P=o==null?0:o.length;return P?(c=y||c===n?1:Se(c),c=P-c,pt(o,0,c<0?0:c)):[]}function nf(o,c){return o&&o.length?ur(o,de(c,3),!0,!0):[]}function rf(o,c){return o&&o.length?ur(o,de(c,3),!0):[]}function af(o,c,y,P){var F=o==null?0:o.length;return F?(y&&typeof y!="number"&&Ye(o,c,y)&&(y=0,P=F),Xu(o,c,y,P)):[]}function qo(o,c,y){var P=o==null?0:o.length;if(!P)return-1;var F=y==null?0:Se(y);return F<0&&(F=ze(P+F,0)),Gn(o,de(c,3),F)}function xo(o,c,y){var P=o==null?0:o.length;if(!P)return-1;var F=P-1;return y!==n&&(F=Se(y),F=y<0?ze(P+F,0):Ze(F,P-1)),Gn(o,de(c,3),F,!0)}function Ho(o){var c=o==null?0:o.length;return c?We(o,1):[]}function of(o){var c=o==null?0:o.length;return c?We(o,z):[]}function sf(o,c){var y=o==null?0:o.length;return y?(c=c===n?1:Se(c),We(o,c)):[]}function cf(o){for(var c=-1,y=o==null?0:o.length,P={};++c<y;){var F=o[c];P[F[0]]=F[1]}return P}function Wo(o){return o&&o.length?o[0]:n}function uf(o,c,y){var P=o==null?0:o.length;if(!P)return-1;var F=y==null?0:Se(y);return F<0&&(F=ze(P+F,0)),nn(o,c,F)}function lf(o){var c=o==null?0:o.length;return c?pt(o,0,-1):[]}var ff=Te(function(o){var c=Ne(o,_i);return c.length&&c[0]===o[0]?ci(c):[]}),df=Te(function(o){var c=gt(o),y=Ne(o,_i);return c===gt(y)?c=n:y.pop(),y.length&&y[0]===o[0]?ci(y,de(c,2)):[]}),mf=Te(function(o){var c=gt(o),y=Ne(o,_i);return c=typeof c=="function"?c:n,c&&y.pop(),y.length&&y[0]===o[0]?ci(y,n,c):[]});function hf(o,c){return o==null?"":uu.call(o,c)}function gt(o){var c=o==null?0:o.length;return c?o[c-1]:n}function pf(o,c,y){var P=o==null?0:o.length;if(!P)return-1;var F=P;return y!==n&&(F=Se(y),F=F<0?ze(P+F,0):Ze(F,P-1)),c===c?Wc(o,c,F):Gn(o,Ea,F,!0)}function gf(o,c){return o&&o.length?ro(o,Se(c)):n}var yf=Te(Zo);function Zo(o,c){return o&&o.length&&c&&c.length?di(o,c):o}function _f(o,c,y){return o&&o.length&&c&&c.length?di(o,c,de(y,2)):o}function bf(o,c,y){return o&&o.length&&c&&c.length?di(o,c,n,y):o}var Sf=$t(function(o,c){var y=o==null?0:o.length,P=ii(o,c);return oo(o,Ne(c,function(F){return Ct(F,y)?+F:F}).sort(yo)),P});function Af(o,c){var y=[];if(!(o&&o.length))return y;var P=-1,F=[],G=o.length;for(c=de(c,3);++P<G;){var x=o[P];c(x,P,o)&&(y.push(x),F.push(P))}return oo(o,F),y}function Ri(o){return o==null?o:mu.call(o)}function Tf(o,c,y){var P=o==null?0:o.length;return P?(y&&typeof y!="number"&&Ye(o,c,y)?(c=0,y=P):(c=c==null?0:Se(c),y=y===n?P:Se(y)),pt(o,c,y)):[]}function If(o,c){return cr(o,c)}function vf(o,c,y){return pi(o,c,de(y,2))}function wf(o,c){var y=o==null?0:o.length;if(y){var P=cr(o,c);if(P<y&&At(o[P],c))return P}return-1}function Ef(o,c){return cr(o,c,!0)}function Mf(o,c,y){return pi(o,c,de(y,2),!0)}function Pf(o,c){var y=o==null?0:o.length;if(y){var P=cr(o,c,!0)-1;if(At(o[P],c))return P}return-1}function kf(o){return o&&o.length?co(o):[]}function $f(o,c){return o&&o.length?co(o,de(c,2)):[]}function Cf(o){var c=o==null?0:o.length;return c?pt(o,1,c):[]}function Rf(o,c,y){return o&&o.length?(c=y||c===n?1:Se(c),pt(o,0,c<0?0:c)):[]}function Of(o,c,y){var P=o==null?0:o.length;return P?(c=y||c===n?1:Se(c),c=P-c,pt(o,c<0?0:c,P)):[]}function Df(o,c){return o&&o.length?ur(o,de(c,3),!1,!0):[]}function jf(o,c){return o&&o.length?ur(o,de(c,3)):[]}var Nf=Te(function(o){return Ut(We(o,1,Be,!0))}),Ff=Te(function(o){var c=gt(o);return Be(c)&&(c=n),Ut(We(o,1,Be,!0),de(c,2))}),Lf=Te(function(o){var c=gt(o);return c=typeof c=="function"?c:n,Ut(We(o,1,Be,!0),n,c)});function Bf(o){return o&&o.length?Ut(o):[]}function Uf(o,c){return o&&o.length?Ut(o,de(c,2)):[]}function Kf(o,c){return c=typeof c=="function"?c:n,o&&o.length?Ut(o,n,c):[]}function Oi(o){if(!(o&&o.length))return[];var c=0;return o=jt(o,function(y){if(Be(y))return c=ze(y.length,c),!0}),Xr(c,function(y){return Ne(o,Wr(y))})}function Vo(o,c){if(!(o&&o.length))return[];var y=Oi(o);return c==null?y:Ne(y,function(P){return rt(c,n,P)})}var Gf=Te(function(o,c){return Be(o)?Mn(o,c):[]}),zf=Te(function(o){return yi(jt(o,Be))}),qf=Te(function(o){var c=gt(o);return Be(c)&&(c=n),yi(jt(o,Be),de(c,2))}),xf=Te(function(o){var c=gt(o);return c=typeof c=="function"?c:n,yi(jt(o,Be),n,c)}),Hf=Te(Oi);function Wf(o,c){return mo(o||[],c||[],En)}function Zf(o,c){return mo(o||[],c||[],$n)}var Vf=Te(function(o){var c=o.length,y=c>1?o[c-1]:n;return y=typeof y=="function"?(o.pop(),y):n,Vo(o,y)});function Xo(o){var c=B(o);return c.__chain__=!0,c}function Xf(o,c){return c(o),o}function _r(o,c){return c(o)}var Yf=$t(function(o){var c=o.length,y=c?o[0]:0,P=this.__wrapped__,F=function(G){return ii(G,o)};return c>1||this.__actions__.length||!(P instanceof ve)||!Ct(y)?this.thru(F):(P=P.slice(y,+y+(c?1:0)),P.__actions__.push({func:_r,args:[F],thisArg:n}),new mt(P,this.__chain__).thru(function(G){return c&&!G.length&&G.push(n),G}))});function Jf(){return Xo(this)}function Qf(){return new mt(this.value(),this.__chain__)}function ed(){this.__values__===n&&(this.__values__=fs(this.value()));var o=this.__index__>=this.__values__.length,c=o?n:this.__values__[this.__index__++];return{done:o,value:c}}function td(){return this}function nd(o){for(var c,y=this;y instanceof rr;){var P=zo(y);P.__index__=0,P.__values__=n,c?F.__wrapped__=P:c=P;var F=P;y=y.__wrapped__}return F.__wrapped__=o,c}function rd(){var o=this.__wrapped__;if(o instanceof ve){var c=o;return this.__actions__.length&&(c=new ve(this)),c=c.reverse(),c.__actions__.push({func:_r,args:[Ri],thisArg:n}),new mt(c,this.__chain__)}return this.thru(Ri)}function id(){return fo(this.__wrapped__,this.__actions__)}var ad=lr(function(o,c,y){Re.call(o,y)?++o[y]:Pt(o,y,1)});function od(o,c,y){var P=be(o)?va:Vu;return y&&Ye(o,c,y)&&(c=n),P(o,de(c,3))}function sd(o,c){var y=be(o)?jt:Za;return y(o,de(c,3))}var cd=Io(qo),ud=Io(xo);function ld(o,c){return We(br(o,c),1)}function fd(o,c){return We(br(o,c),z)}function dd(o,c,y){return y=y===n?1:Se(y),We(br(o,c),y)}function Yo(o,c){var y=be(o)?ft:Bt;return y(o,de(c,3))}function Jo(o,c){var y=be(o)?$c:Wa;return y(o,de(c,3))}var md=lr(function(o,c,y){Re.call(o,y)?o[y].push(c):Pt(o,y,[c])});function hd(o,c,y,P){o=et(o)?o:pn(o),y=y&&!P?Se(y):0;var F=o.length;return y<0&&(y=ze(F+y,0)),vr(o)?y<=F&&o.indexOf(c,y)>-1:!!F&&nn(o,c,y)>-1}var pd=Te(function(o,c,y){var P=-1,F=typeof c=="function",G=et(o)?J(o.length):[];return Bt(o,function(x){G[++P]=F?rt(c,x,y):Pn(x,c,y)}),G}),gd=lr(function(o,c,y){Pt(o,y,c)});function br(o,c){var y=be(o)?Ne:eo;return y(o,de(c,3))}function yd(o,c,y,P){return o==null?[]:(be(c)||(c=c==null?[]:[c]),y=P?n:y,be(y)||(y=y==null?[]:[y]),io(o,c,y))}var _d=lr(function(o,c,y){o[y?0:1].push(c)},function(){return[[],[]]});function bd(o,c,y){var P=be(o)?xr:Pa,F=arguments.length<3;return P(o,de(c,4),y,F,Bt)}function Sd(o,c,y){var P=be(o)?Cc:Pa,F=arguments.length<3;return P(o,de(c,4),y,F,Wa)}function Ad(o,c){var y=be(o)?jt:Za;return y(o,Tr(de(c,3)))}function Td(o){var c=be(o)?za:ml;return c(o)}function Id(o,c,y){(y?Ye(o,c,y):c===n)?c=1:c=Se(c);var P=be(o)?qu:hl;return P(o,c)}function vd(o){var c=be(o)?xu:gl;return c(o)}function wd(o){if(o==null)return 0;if(et(o))return vr(o)?an(o):o.length;var c=Ve(o);return c==Me||c==ut?o.size:li(o).length}function Ed(o,c,y){var P=be(o)?Hr:yl;return y&&Ye(o,c,y)&&(c=n),P(o,de(c,3))}var Md=Te(function(o,c){if(o==null)return[];var y=c.length;return y>1&&Ye(o,c[0],c[1])?c=[]:y>2&&Ye(c[0],c[1],c[2])&&(c=[c[0]]),io(o,We(c,1),[])}),Sr=ou||function(){return He.Date.now()};function Pd(o,c){if(typeof c!="function")throw new dt(s);return o=Se(o),function(){if(--o<1)return c.apply(this,arguments)}}function Qo(o,c,y){return c=y?n:c,c=o&&c==null?o.length:c,kt(o,L,n,n,n,n,c)}function es(o,c){var y;if(typeof c!="function")throw new dt(s);return o=Se(o),function(){return--o>0&&(y=c.apply(this,arguments)),o<=1&&(c=n),y}}var Di=Te(function(o,c,y){var P=A;if(y.length){var F=Ft(y,mn(Di));P|=v}return kt(o,P,c,y,F)}),ts=Te(function(o,c,y){var P=A|E;if(y.length){var F=Ft(y,mn(ts));P|=v}return kt(c,P,o,y,F)});function ns(o,c,y){c=y?n:c;var P=kt(o,M,n,n,n,n,n,c);return P.placeholder=ns.placeholder,P}function rs(o,c,y){c=y?n:c;var P=kt(o,T,n,n,n,n,n,c);return P.placeholder=rs.placeholder,P}function as(o,c,y){var P,F,G,x,H,X,te=0,re=!1,oe=!1,ce=!0;if(typeof o!="function")throw new dt(s);c=yt(c)||0,Fe(y)&&(re=!!y.leading,oe="maxWait"in y,G=oe?ze(yt(y.maxWait)||0,c):G,ce="trailing"in y?!!y.trailing:ce);function fe(Ue){var Tt=P,Dt=F;return P=F=n,te=Ue,x=o.apply(Dt,Tt),x}function he(Ue){return te=Ue,H=On(Ie,c),re?fe(Ue):x}function Ae(Ue){var Tt=Ue-X,Dt=Ue-te,vs=c-Tt;return oe?Ze(vs,G-Dt):vs}function pe(Ue){var Tt=Ue-X,Dt=Ue-te;return X===n||Tt>=c||Tt<0||oe&&Dt>=G}function Ie(){var Ue=Sr();if(pe(Ue))return Ee(Ue);H=On(Ie,Ae(Ue))}function Ee(Ue){return H=n,ce&&P?fe(Ue):(P=F=n,x)}function st(){H!==n&&ho(H),te=0,P=X=F=H=n}function Je(){return H===n?x:Ee(Sr())}function ct(){var Ue=Sr(),Tt=pe(Ue);if(P=arguments,F=this,X=Ue,Tt){if(H===n)return he(X);if(oe)return ho(H),H=On(Ie,c),fe(X)}return H===n&&(H=On(Ie,c)),x}return ct.cancel=st,ct.flush=Je,ct}var kd=Te(function(o,c){return Ha(o,1,c)}),$d=Te(function(o,c,y){return Ha(o,yt(c)||0,y)});function Cd(o){return kt(o,k)}function Ar(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new dt(s);var y=function(){var P=arguments,F=c?c.apply(this,P):P[0],G=y.cache;if(G.has(F))return G.get(F);var x=o.apply(this,P);return y.cache=G.set(F,x)||G,x};return y.cache=new(Ar.Cache||Mt),y}Ar.Cache=Mt;function Tr(o){if(typeof o!="function")throw new dt(s);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function Rd(o){return es(2,o)}var Od=_l(function(o,c){c=c.length==1&&be(c[0])?Ne(c[0],it(de())):Ne(We(c,1),it(de()));var y=c.length;return Te(function(P){for(var F=-1,G=Ze(P.length,y);++F<G;)P[F]=c[F].call(this,P[F]);return rt(o,this,P)})}),ji=Te(function(o,c){var y=Ft(c,mn(ji));return kt(o,v,n,c,y)}),os=Te(function(o,c){var y=Ft(c,mn(os));return kt(o,D,n,c,y)}),Dd=$t(function(o,c){return kt(o,I,n,n,n,c)});function jd(o,c){if(typeof o!="function")throw new dt(s);return c=c===n?c:Se(c),Te(o,c)}function Nd(o,c){if(typeof o!="function")throw new dt(s);return c=c==null?0:ze(Se(c),0),Te(function(y){var P=y[c],F=Gt(y,0,c);return P&&Nt(F,P),rt(o,this,F)})}function Fd(o,c,y){var P=!0,F=!0;if(typeof o!="function")throw new dt(s);return Fe(y)&&(P="leading"in y?!!y.leading:P,F="trailing"in y?!!y.trailing:F),as(o,c,{leading:P,maxWait:c,trailing:F})}function Ld(o){return Qo(o,1)}function Bd(o,c){return ji(bi(c),o)}function Ud(){if(!arguments.length)return[];var o=arguments[0];return be(o)?o:[o]}function Kd(o){return ht(o,p)}function Gd(o,c){return c=typeof c=="function"?c:n,ht(o,p,c)}function zd(o){return ht(o,d|p)}function qd(o,c){return c=typeof c=="function"?c:n,ht(o,d|p,c)}function xd(o,c){return c==null||xa(o,c,xe(c))}function At(o,c){return o===c||o!==o&&c!==c}var Hd=hr(si),Wd=hr(function(o,c){return o>=c}),Qt=Ya(function(){return arguments}())?Ya:function(o){return Le(o)&&Re.call(o,"callee")&&!Fa.call(o,"callee")},be=J.isArray,Zd=ya?it(ya):tl;function et(o){return o!=null&&Ir(o.length)&&!Rt(o)}function Be(o){return Le(o)&&et(o)}function Vd(o){return o===!0||o===!1||Le(o)&&Xe(o)==ge}var zt=cu||Hi,Xd=ba?it(ba):nl;function Yd(o){return Le(o)&&o.nodeType===1&&!Dn(o)}function Jd(o){if(o==null)return!0;if(et(o)&&(be(o)||typeof o=="string"||typeof o.splice=="function"||zt(o)||hn(o)||Qt(o)))return!o.length;var c=Ve(o);if(c==Me||c==ut)return!o.size;if(Rn(o))return!li(o).length;for(var y in o)if(Re.call(o,y))return!1;return!0}function Qd(o,c){return kn(o,c)}function em(o,c,y){y=typeof y=="function"?y:n;var P=y?y(o,c):n;return P===n?kn(o,c,n,y):!!P}function Ni(o){if(!Le(o))return!1;var c=Xe(o);return c==$e||c==we||typeof o.message=="string"&&typeof o.name=="string"&&!Dn(o)}function tm(o){return typeof o=="number"&&Ba(o)}function Rt(o){if(!Fe(o))return!1;var c=Xe(o);return c==qe||c==Ke||c==me||c==ae}function ss(o){return typeof o=="number"&&o==Se(o)}function Ir(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=q}function Fe(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function Le(o){return o!=null&&typeof o=="object"}var cs=Sa?it(Sa):il;function nm(o,c){return o===c||ui(o,c,Ei(c))}function rm(o,c,y){return y=typeof y=="function"?y:n,ui(o,c,Ei(c),y)}function im(o){return us(o)&&o!=+o}function am(o){if(Kl(o))throw new _e(i);return Ja(o)}function om(o){return o===null}function sm(o){return o==null}function us(o){return typeof o=="number"||Le(o)&&Xe(o)==Pe}function Dn(o){if(!Le(o)||Xe(o)!=_t)return!1;var c=Xn(o);if(c===null)return!0;var y=Re.call(c,"constructor")&&c.constructor;return typeof y=="function"&&y instanceof y&&Hn.call(y)==nu}var Fi=Aa?it(Aa):al;function cm(o){return ss(o)&&o>=-q&&o<=q}var ls=Ta?it(Ta):ol;function vr(o){return typeof o=="string"||!be(o)&&Le(o)&&Xe(o)==gn}function ot(o){return typeof o=="symbol"||Le(o)&&Xe(o)==Fn}var hn=Ia?it(Ia):sl;function um(o){return o===n}function lm(o){return Le(o)&&Ve(o)==yn}function fm(o){return Le(o)&&Xe(o)==Es}var dm=hr(fi),mm=hr(function(o,c){return o<=c});function fs(o){if(!o)return[];if(et(o))return vr(o)?bt(o):Qe(o);if(An&&o[An])return qc(o[An]());var c=Ve(o),y=c==Me?Jr:c==ut?zn:pn;return y(o)}function Ot(o){if(!o)return o===0?o:0;if(o=yt(o),o===z||o===-z){var c=o<0?-1:1;return c*Z}return o===o?o:0}function Se(o){var c=Ot(o),y=c%1;return c===c?y?c-y:c:0}function ds(o){return o?Vt(Se(o),0,ie):0}function yt(o){if(typeof o=="number")return o;if(ot(o))return ne;if(Fe(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=Fe(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=ka(o);var y=Ws.test(o);return y||Vs.test(o)?Mc(o.slice(2),y?2:8):Hs.test(o)?ne:+o}function ms(o){return vt(o,tt(o))}function hm(o){return o?Vt(Se(o),-q,q):o===0?o:0}function Ce(o){return o==null?"":at(o)}var pm=fn(function(o,c){if(Rn(c)||et(c)){vt(c,xe(c),o);return}for(var y in c)Re.call(c,y)&&En(o,y,c[y])}),hs=fn(function(o,c){vt(c,tt(c),o)}),wr=fn(function(o,c,y,P){vt(c,tt(c),o,P)}),gm=fn(function(o,c,y,P){vt(c,xe(c),o,P)}),ym=$t(ii);function _m(o,c){var y=ln(o);return c==null?y:qa(y,c)}var bm=Te(function(o,c){o=Oe(o);var y=-1,P=c.length,F=P>2?c[2]:n;for(F&&Ye(c[0],c[1],F)&&(P=1);++y<P;)for(var G=c[y],x=tt(G),H=-1,X=x.length;++H<X;){var te=x[H],re=o[te];(re===n||At(re,sn[te])&&!Re.call(o,te))&&(o[te]=G[te])}return o}),Sm=Te(function(o){return o.push(n,$o),rt(ps,n,o)});function Am(o,c){return wa(o,de(c,3),It)}function Tm(o,c){return wa(o,de(c,3),oi)}function Im(o,c){return o==null?o:ai(o,de(c,3),tt)}function vm(o,c){return o==null?o:Va(o,de(c,3),tt)}function wm(o,c){return o&&It(o,de(c,3))}function Em(o,c){return o&&oi(o,de(c,3))}function Mm(o){return o==null?[]:or(o,xe(o))}function Pm(o){return o==null?[]:or(o,tt(o))}function Li(o,c,y){var P=o==null?n:Xt(o,c);return P===n?y:P}function km(o,c){return o!=null&&Oo(o,c,Yu)}function Bi(o,c){return o!=null&&Oo(o,c,Ju)}var $m=wo(function(o,c,y){c!=null&&typeof c.toString!="function"&&(c=Wn.call(c)),o[c]=y},Ki(nt)),Cm=wo(function(o,c,y){c!=null&&typeof c.toString!="function"&&(c=Wn.call(c)),Re.call(o,c)?o[c].push(y):o[c]=[y]},de),Rm=Te(Pn);function xe(o){return et(o)?Ga(o):li(o)}function tt(o){return et(o)?Ga(o,!0):cl(o)}function Om(o,c){var y={};return c=de(c,3),It(o,function(P,F,G){Pt(y,c(P,F,G),P)}),y}function Dm(o,c){var y={};return c=de(c,3),It(o,function(P,F,G){Pt(y,F,c(P,F,G))}),y}var jm=fn(function(o,c,y){sr(o,c,y)}),ps=fn(function(o,c,y,P){sr(o,c,y,P)}),Nm=$t(function(o,c){var y={};if(o==null)return y;var P=!1;c=Ne(c,function(G){return G=Kt(G,o),P||(P=G.length>1),G}),vt(o,vi(o),y),P&&(y=ht(y,d|m|p,kl));for(var F=c.length;F--;)gi(y,c[F]);return y});function Fm(o,c){return gs(o,Tr(de(c)))}var Lm=$t(function(o,c){return o==null?{}:ll(o,c)});function gs(o,c){if(o==null)return{};var y=Ne(vi(o),function(P){return[P]});return c=de(c),ao(o,y,function(P,F){return c(P,F[0])})}function Bm(o,c,y){c=Kt(c,o);var P=-1,F=c.length;for(F||(F=1,o=n);++P<F;){var G=o==null?n:o[wt(c[P])];G===n&&(P=F,G=y),o=Rt(G)?G.call(o):G}return o}function Um(o,c,y){return o==null?o:$n(o,c,y)}function Km(o,c,y,P){return P=typeof P=="function"?P:n,o==null?o:$n(o,c,y,P)}var ys=Po(xe),_s=Po(tt);function Gm(o,c,y){var P=be(o),F=P||zt(o)||hn(o);if(c=de(c,4),y==null){var G=o&&o.constructor;F?y=P?new G:[]:Fe(o)?y=Rt(G)?ln(Xn(o)):{}:y={}}return(F?ft:It)(o,function(x,H,X){return c(y,x,H,X)}),y}function zm(o,c){return o==null?!0:gi(o,c)}function qm(o,c,y){return o==null?o:lo(o,c,bi(y))}function xm(o,c,y,P){return P=typeof P=="function"?P:n,o==null?o:lo(o,c,bi(y),P)}function pn(o){return o==null?[]:Yr(o,xe(o))}function Hm(o){return o==null?[]:Yr(o,tt(o))}function Wm(o,c,y){return y===n&&(y=c,c=n),y!==n&&(y=yt(y),y=y===y?y:0),c!==n&&(c=yt(c),c=c===c?c:0),Vt(yt(o),c,y)}function Zm(o,c,y){return c=Ot(c),y===n?(y=c,c=0):y=Ot(y),o=yt(o),Qu(o,c,y)}function Vm(o,c,y){if(y&&typeof y!="boolean"&&Ye(o,c,y)&&(c=y=n),y===n&&(typeof c=="boolean"?(y=c,c=n):typeof o=="boolean"&&(y=o,o=n)),o===n&&c===n?(o=0,c=1):(o=Ot(o),c===n?(c=o,o=0):c=Ot(c)),o>c){var P=o;o=c,c=P}if(y||o%1||c%1){var F=Ua();return Ze(o+F*(c-o+Ec("1e-"+((F+"").length-1))),c)}return mi(o,c)}var Xm=dn(function(o,c,y){return c=c.toLowerCase(),o+(y?bs(c):c)});function bs(o){return Ui(Ce(o).toLowerCase())}function Ss(o){return o=Ce(o),o&&o.replace(Ys,Bc).replace(gc,"")}function Ym(o,c,y){o=Ce(o),c=at(c);var P=o.length;y=y===n?P:Vt(Se(y),0,P);var F=y;return y-=c.length,y>=0&&o.slice(y,F)==c}function Jm(o){return o=Ce(o),o&&Cs.test(o)?o.replace(Zi,Uc):o}function Qm(o){return o=Ce(o),o&&Fs.test(o)?o.replace(jr,"\\$&"):o}var eh=dn(function(o,c,y){return o+(y?"-":"")+c.toLowerCase()}),th=dn(function(o,c,y){return o+(y?" ":"")+c.toLowerCase()}),nh=To("toLowerCase");function rh(o,c,y){o=Ce(o),c=Se(c);var P=c?an(o):0;if(!c||P>=c)return o;var F=(c-P)/2;return mr(er(F),y)+o+mr(Qn(F),y)}function ih(o,c,y){o=Ce(o),c=Se(c);var P=c?an(o):0;return c&&P<c?o+mr(c-P,y):o}function ah(o,c,y){o=Ce(o),c=Se(c);var P=c?an(o):0;return c&&P<c?mr(c-P,y)+o:o}function oh(o,c,y){return y||c==null?c=0:c&&(c=+c),du(Ce(o).replace(Nr,""),c||0)}function sh(o,c,y){return(y?Ye(o,c,y):c===n)?c=1:c=Se(c),hi(Ce(o),c)}function ch(){var o=arguments,c=Ce(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var uh=dn(function(o,c,y){return o+(y?"_":"")+c.toLowerCase()});function lh(o,c,y){return y&&typeof y!="number"&&Ye(o,c,y)&&(c=y=n),y=y===n?ie:y>>>0,y?(o=Ce(o),o&&(typeof c=="string"||c!=null&&!Fi(c))&&(c=at(c),!c&&rn(o))?Gt(bt(o),0,y):o.split(c,y)):[]}var fh=dn(function(o,c,y){return o+(y?" ":"")+Ui(c)});function dh(o,c,y){return o=Ce(o),y=y==null?0:Vt(Se(y),0,o.length),c=at(c),o.slice(y,y+c.length)==c}function mh(o,c,y){var P=B.templateSettings;y&&Ye(o,c,y)&&(c=n),o=Ce(o),c=wr({},c,P,ko);var F=wr({},c.imports,P.imports,ko),G=xe(F),x=Yr(F,G),H,X,te=0,re=c.interpolate||Ln,oe="__p += '",ce=Qr((c.escape||Ln).source+"|"+re.source+"|"+(re===Vi?xs:Ln).source+"|"+(c.evaluate||Ln).source+"|$","g"),fe="//# sourceURL="+(Re.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ac+"]")+`
`;o.replace(ce,function(pe,Ie,Ee,st,Je,ct){return Ee||(Ee=st),oe+=o.slice(te,ct).replace(Js,Kc),Ie&&(H=!0,oe+=`' +
__e(`+Ie+`) +
'`),Je&&(X=!0,oe+=`';
`+Je+`;
__p += '`),Ee&&(oe+=`' +
((__t = (`+Ee+`)) == null ? '' : __t) +
'`),te=ct+pe.length,pe}),oe+=`';
`;var he=Re.call(c,"variable")&&c.variable;if(!he)oe=`with (obj) {
`+oe+`
}
`;else if(zs.test(he))throw new _e(l);oe=(X?oe.replace(Ms,""):oe).replace(Ps,"$1").replace(ks,"$1;"),oe="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+oe+`return __p
}`;var Ae=Ts(function(){return ke(G,fe+"return "+oe).apply(n,x)});if(Ae.source=oe,Ni(Ae))throw Ae;return Ae}function hh(o){return Ce(o).toLowerCase()}function ph(o){return Ce(o).toUpperCase()}function gh(o,c,y){if(o=Ce(o),o&&(y||c===n))return ka(o);if(!o||!(c=at(c)))return o;var P=bt(o),F=bt(c),G=$a(P,F),x=Ca(P,F)+1;return Gt(P,G,x).join("")}function yh(o,c,y){if(o=Ce(o),o&&(y||c===n))return o.slice(0,Oa(o)+1);if(!o||!(c=at(c)))return o;var P=bt(o),F=Ca(P,bt(c))+1;return Gt(P,0,F).join("")}function _h(o,c,y){if(o=Ce(o),o&&(y||c===n))return o.replace(Nr,"");if(!o||!(c=at(c)))return o;var P=bt(o),F=$a(P,bt(c));return Gt(P,F).join("")}function bh(o,c){var y=$,P=R;if(Fe(c)){var F="separator"in c?c.separator:F;y="length"in c?Se(c.length):y,P="omission"in c?at(c.omission):P}o=Ce(o);var G=o.length;if(rn(o)){var x=bt(o);G=x.length}if(y>=G)return o;var H=y-an(P);if(H<1)return P;var X=x?Gt(x,0,H).join(""):o.slice(0,H);if(F===n)return X+P;if(x&&(H+=X.length-H),Fi(F)){if(o.slice(H).search(F)){var te,re=X;for(F.global||(F=Qr(F.source,Ce(Xi.exec(F))+"g")),F.lastIndex=0;te=F.exec(re);)var oe=te.index;X=X.slice(0,oe===n?H:oe)}}else if(o.indexOf(at(F),H)!=H){var ce=X.lastIndexOf(F);ce>-1&&(X=X.slice(0,ce))}return X+P}function Sh(o){return o=Ce(o),o&&$s.test(o)?o.replace(Wi,Zc):o}var Ah=dn(function(o,c,y){return o+(y?" ":"")+c.toUpperCase()}),Ui=To("toUpperCase");function As(o,c,y){return o=Ce(o),c=y?n:c,c===n?zc(o)?Yc(o):Dc(o):o.match(c)||[]}var Ts=Te(function(o,c){try{return rt(o,n,c)}catch(y){return Ni(y)?y:new _e(y)}}),Th=$t(function(o,c){return ft(c,function(y){y=wt(y),Pt(o,y,Di(o[y],o))}),o});function Ih(o){var c=o==null?0:o.length,y=de();return o=c?Ne(o,function(P){if(typeof P[1]!="function")throw new dt(s);return[y(P[0]),P[1]]}):[],Te(function(P){for(var F=-1;++F<c;){var G=o[F];if(rt(G[0],this,P))return rt(G[1],this,P)}})}function vh(o){return Zu(ht(o,d))}function Ki(o){return function(){return o}}function wh(o,c){return o==null||o!==o?c:o}var Eh=vo(),Mh=vo(!0);function nt(o){return o}function Gi(o){return Qa(typeof o=="function"?o:ht(o,d))}function Ph(o){return to(ht(o,d))}function kh(o,c){return no(o,ht(c,d))}var $h=Te(function(o,c){return function(y){return Pn(y,o,c)}}),Ch=Te(function(o,c){return function(y){return Pn(o,y,c)}});function zi(o,c,y){var P=xe(c),F=or(c,P);y==null&&!(Fe(c)&&(F.length||!P.length))&&(y=c,c=o,o=this,F=or(c,xe(c)));var G=!(Fe(y)&&"chain"in y)||!!y.chain,x=Rt(o);return ft(F,function(H){var X=c[H];o[H]=X,x&&(o.prototype[H]=function(){var te=this.__chain__;if(G||te){var re=o(this.__wrapped__),oe=re.__actions__=Qe(this.__actions__);return oe.push({func:X,args:arguments,thisArg:o}),re.__chain__=te,re}return X.apply(o,Nt([this.value()],arguments))})}),o}function Rh(){return He._===this&&(He._=ru),this}function qi(){}function Oh(o){return o=Se(o),Te(function(c){return ro(c,o)})}var Dh=Ai(Ne),jh=Ai(va),Nh=Ai(Hr);function Is(o){return Pi(o)?Wr(wt(o)):fl(o)}function Fh(o){return function(c){return o==null?n:Xt(o,c)}}var Lh=Eo(),Bh=Eo(!0);function xi(){return[]}function Hi(){return!1}function Uh(){return{}}function Kh(){return""}function Gh(){return!0}function zh(o,c){if(o=Se(o),o<1||o>q)return[];var y=ie,P=Ze(o,ie);c=de(c),o-=ie;for(var F=Xr(P,c);++y<o;)c(y);return F}function qh(o){return be(o)?Ne(o,wt):ot(o)?[o]:Qe(Go(Ce(o)))}function xh(o){var c=++tu;return Ce(o)+c}var Hh=dr(function(o,c){return o+c},0),Wh=Ti("ceil"),Zh=dr(function(o,c){return o/c},1),Vh=Ti("floor");function Xh(o){return o&&o.length?ar(o,nt,si):n}function Yh(o,c){return o&&o.length?ar(o,de(c,2),si):n}function Jh(o){return Ma(o,nt)}function Qh(o,c){return Ma(o,de(c,2))}function ep(o){return o&&o.length?ar(o,nt,fi):n}function tp(o,c){return o&&o.length?ar(o,de(c,2),fi):n}var np=dr(function(o,c){return o*c},1),rp=Ti("round"),ip=dr(function(o,c){return o-c},0);function ap(o){return o&&o.length?Vr(o,nt):0}function op(o,c){return o&&o.length?Vr(o,de(c,2)):0}return B.after=Pd,B.ary=Qo,B.assign=pm,B.assignIn=hs,B.assignInWith=wr,B.assignWith=gm,B.at=ym,B.before=es,B.bind=Di,B.bindAll=Th,B.bindKey=ts,B.castArray=Ud,B.chain=Xo,B.chunk=Zl,B.compact=Vl,B.concat=Xl,B.cond=Ih,B.conforms=vh,B.constant=Ki,B.countBy=ad,B.create=_m,B.curry=ns,B.curryRight=rs,B.debounce=as,B.defaults=bm,B.defaultsDeep=Sm,B.defer=kd,B.delay=$d,B.difference=Yl,B.differenceBy=Jl,B.differenceWith=Ql,B.drop=ef,B.dropRight=tf,B.dropRightWhile=nf,B.dropWhile=rf,B.fill=af,B.filter=sd,B.flatMap=ld,B.flatMapDeep=fd,B.flatMapDepth=dd,B.flatten=Ho,B.flattenDeep=of,B.flattenDepth=sf,B.flip=Cd,B.flow=Eh,B.flowRight=Mh,B.fromPairs=cf,B.functions=Mm,B.functionsIn=Pm,B.groupBy=md,B.initial=lf,B.intersection=ff,B.intersectionBy=df,B.intersectionWith=mf,B.invert=$m,B.invertBy=Cm,B.invokeMap=pd,B.iteratee=Gi,B.keyBy=gd,B.keys=xe,B.keysIn=tt,B.map=br,B.mapKeys=Om,B.mapValues=Dm,B.matches=Ph,B.matchesProperty=kh,B.memoize=Ar,B.merge=jm,B.mergeWith=ps,B.method=$h,B.methodOf=Ch,B.mixin=zi,B.negate=Tr,B.nthArg=Oh,B.omit=Nm,B.omitBy=Fm,B.once=Rd,B.orderBy=yd,B.over=Dh,B.overArgs=Od,B.overEvery=jh,B.overSome=Nh,B.partial=ji,B.partialRight=os,B.partition=_d,B.pick=Lm,B.pickBy=gs,B.property=Is,B.propertyOf=Fh,B.pull=yf,B.pullAll=Zo,B.pullAllBy=_f,B.pullAllWith=bf,B.pullAt=Sf,B.range=Lh,B.rangeRight=Bh,B.rearg=Dd,B.reject=Ad,B.remove=Af,B.rest=jd,B.reverse=Ri,B.sampleSize=Id,B.set=Um,B.setWith=Km,B.shuffle=vd,B.slice=Tf,B.sortBy=Md,B.sortedUniq=kf,B.sortedUniqBy=$f,B.split=lh,B.spread=Nd,B.tail=Cf,B.take=Rf,B.takeRight=Of,B.takeRightWhile=Df,B.takeWhile=jf,B.tap=Xf,B.throttle=Fd,B.thru=_r,B.toArray=fs,B.toPairs=ys,B.toPairsIn=_s,B.toPath=qh,B.toPlainObject=ms,B.transform=Gm,B.unary=Ld,B.union=Nf,B.unionBy=Ff,B.unionWith=Lf,B.uniq=Bf,B.uniqBy=Uf,B.uniqWith=Kf,B.unset=zm,B.unzip=Oi,B.unzipWith=Vo,B.update=qm,B.updateWith=xm,B.values=pn,B.valuesIn=Hm,B.without=Gf,B.words=As,B.wrap=Bd,B.xor=zf,B.xorBy=qf,B.xorWith=xf,B.zip=Hf,B.zipObject=Wf,B.zipObjectDeep=Zf,B.zipWith=Vf,B.entries=ys,B.entriesIn=_s,B.extend=hs,B.extendWith=wr,zi(B,B),B.add=Hh,B.attempt=Ts,B.camelCase=Xm,B.capitalize=bs,B.ceil=Wh,B.clamp=Wm,B.clone=Kd,B.cloneDeep=zd,B.cloneDeepWith=qd,B.cloneWith=Gd,B.conformsTo=xd,B.deburr=Ss,B.defaultTo=wh,B.divide=Zh,B.endsWith=Ym,B.eq=At,B.escape=Jm,B.escapeRegExp=Qm,B.every=od,B.find=cd,B.findIndex=qo,B.findKey=Am,B.findLast=ud,B.findLastIndex=xo,B.findLastKey=Tm,B.floor=Vh,B.forEach=Yo,B.forEachRight=Jo,B.forIn=Im,B.forInRight=vm,B.forOwn=wm,B.forOwnRight=Em,B.get=Li,B.gt=Hd,B.gte=Wd,B.has=km,B.hasIn=Bi,B.head=Wo,B.identity=nt,B.includes=hd,B.indexOf=uf,B.inRange=Zm,B.invoke=Rm,B.isArguments=Qt,B.isArray=be,B.isArrayBuffer=Zd,B.isArrayLike=et,B.isArrayLikeObject=Be,B.isBoolean=Vd,B.isBuffer=zt,B.isDate=Xd,B.isElement=Yd,B.isEmpty=Jd,B.isEqual=Qd,B.isEqualWith=em,B.isError=Ni,B.isFinite=tm,B.isFunction=Rt,B.isInteger=ss,B.isLength=Ir,B.isMap=cs,B.isMatch=nm,B.isMatchWith=rm,B.isNaN=im,B.isNative=am,B.isNil=sm,B.isNull=om,B.isNumber=us,B.isObject=Fe,B.isObjectLike=Le,B.isPlainObject=Dn,B.isRegExp=Fi,B.isSafeInteger=cm,B.isSet=ls,B.isString=vr,B.isSymbol=ot,B.isTypedArray=hn,B.isUndefined=um,B.isWeakMap=lm,B.isWeakSet=fm,B.join=hf,B.kebabCase=eh,B.last=gt,B.lastIndexOf=pf,B.lowerCase=th,B.lowerFirst=nh,B.lt=dm,B.lte=mm,B.max=Xh,B.maxBy=Yh,B.mean=Jh,B.meanBy=Qh,B.min=ep,B.minBy=tp,B.stubArray=xi,B.stubFalse=Hi,B.stubObject=Uh,B.stubString=Kh,B.stubTrue=Gh,B.multiply=np,B.nth=gf,B.noConflict=Rh,B.noop=qi,B.now=Sr,B.pad=rh,B.padEnd=ih,B.padStart=ah,B.parseInt=oh,B.random=Vm,B.reduce=bd,B.reduceRight=Sd,B.repeat=sh,B.replace=ch,B.result=Bm,B.round=rp,B.runInContext=V,B.sample=Td,B.size=wd,B.snakeCase=uh,B.some=Ed,B.sortedIndex=If,B.sortedIndexBy=vf,B.sortedIndexOf=wf,B.sortedLastIndex=Ef,B.sortedLastIndexBy=Mf,B.sortedLastIndexOf=Pf,B.startCase=fh,B.startsWith=dh,B.subtract=ip,B.sum=ap,B.sumBy=op,B.template=mh,B.times=zh,B.toFinite=Ot,B.toInteger=Se,B.toLength=ds,B.toLower=hh,B.toNumber=yt,B.toSafeInteger=hm,B.toString=Ce,B.toUpper=ph,B.trim=gh,B.trimEnd=yh,B.trimStart=_h,B.truncate=bh,B.unescape=Sh,B.uniqueId=xh,B.upperCase=Ah,B.upperFirst=Ui,B.each=Yo,B.eachRight=Jo,B.first=Wo,zi(B,function(){var o={};return It(B,function(c,y){Re.call(B.prototype,y)||(o[y]=c)}),o}(),{chain:!1}),B.VERSION=r,ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){B[o].placeholder=B}),ft(["drop","take"],function(o,c){ve.prototype[o]=function(y){y=y===n?1:ze(Se(y),0);var P=this.__filtered__&&!c?new ve(this):this.clone();return P.__filtered__?P.__takeCount__=Ze(y,P.__takeCount__):P.__views__.push({size:Ze(y,ie),type:o+(P.__dir__<0?"Right":"")}),P},ve.prototype[o+"Right"]=function(y){return this.reverse()[o](y).reverse()}}),ft(["filter","map","takeWhile"],function(o,c){var y=c+1,P=y==C||y==U;ve.prototype[o]=function(F){var G=this.clone();return G.__iteratees__.push({iteratee:de(F,3),type:y}),G.__filtered__=G.__filtered__||P,G}}),ft(["head","last"],function(o,c){var y="take"+(c?"Right":"");ve.prototype[o]=function(){return this[y](1).value()[0]}}),ft(["initial","tail"],function(o,c){var y="drop"+(c?"":"Right");ve.prototype[o]=function(){return this.__filtered__?new ve(this):this[y](1)}}),ve.prototype.compact=function(){return this.filter(nt)},ve.prototype.find=function(o){return this.filter(o).head()},ve.prototype.findLast=function(o){return this.reverse().find(o)},ve.prototype.invokeMap=Te(function(o,c){return typeof o=="function"?new ve(this):this.map(function(y){return Pn(y,o,c)})}),ve.prototype.reject=function(o){return this.filter(Tr(de(o)))},ve.prototype.slice=function(o,c){o=Se(o);var y=this;return y.__filtered__&&(o>0||c<0)?new ve(y):(o<0?y=y.takeRight(-o):o&&(y=y.drop(o)),c!==n&&(c=Se(c),y=c<0?y.dropRight(-c):y.take(c-o)),y)},ve.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ve.prototype.toArray=function(){return this.take(ie)},It(ve.prototype,function(o,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),P=/^(?:head|last)$/.test(c),F=B[P?"take"+(c=="last"?"Right":""):c],G=P||/^find/.test(c);!F||(B.prototype[c]=function(){var x=this.__wrapped__,H=P?[1]:arguments,X=x instanceof ve,te=H[0],re=X||be(x),oe=function(Ie){var Ee=F.apply(B,Nt([Ie],H));return P&&ce?Ee[0]:Ee};re&&y&&typeof te=="function"&&te.length!=1&&(X=re=!1);var ce=this.__chain__,fe=!!this.__actions__.length,he=G&&!ce,Ae=X&&!fe;if(!G&&re){x=Ae?x:new ve(this);var pe=o.apply(x,H);return pe.__actions__.push({func:_r,args:[oe],thisArg:n}),new mt(pe,ce)}return he&&Ae?o.apply(this,H):(pe=this.thru(oe),he?P?pe.value()[0]:pe.value():pe)})}),ft(["pop","push","shift","sort","splice","unshift"],function(o){var c=qn[o],y=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",P=/^(?:pop|shift)$/.test(o);B.prototype[o]=function(){var F=arguments;if(P&&!this.__chain__){var G=this.value();return c.apply(be(G)?G:[],F)}return this[y](function(x){return c.apply(be(x)?x:[],F)})}}),It(ve.prototype,function(o,c){var y=B[c];if(y){var P=y.name+"";Re.call(un,P)||(un[P]=[]),un[P].push({name:c,func:y})}}),un[fr(n,E).name]=[{name:"wrapper",func:n}],ve.prototype.clone=bu,ve.prototype.reverse=Su,ve.prototype.value=Au,B.prototype.at=Yf,B.prototype.chain=Jf,B.prototype.commit=Qf,B.prototype.next=ed,B.prototype.plant=nd,B.prototype.reverse=rd,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=id,B.prototype.first=B.prototype.head,An&&(B.prototype[An]=td),B},on=Jc();xt?((xt.exports=on)._=on,Gr._=on):He._=on}).call(commonjsGlobal)})(lodash,lodash.exports);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateMinimumRent=e.EXEMPTION_THRESHOLD=e.LAMPORTS_PER_BYTE_YEAR=e.ACCOUNT_STORAGE_OVERHEAD=e.snakeCaseToTitleCase=e.normalizeArray=e.getElementOrError=e.isNull=e.staticImplements=e.assertNever=e.byteArrayToString=e.stringToByteArray=e.arrayDeepEquals=e.fixedSizeArrayFromArray=e.fixedSizeArrayInit=e.fixedSizeArray=e.remapObject=e.optionalToArray=void 0;const t=lodash.exports;function n(E){return E==null?[]:[E]}e.optionalToArray=n;function r(E,w){return Object.entries(E).map(([M,T])=>({[M]:w(T,M)})).reduce((M,T)=>Object.assign(Object.assign({},M),T))}e.remapObject=r;function a(E,w){return new Array(E).fill(w)}e.fixedSizeArray=a;function i(E,w){return(0,t.range)(0,E).map(w)}e.fixedSizeArrayInit=i;function s(E,w){return w.length===E?w:null}e.fixedSizeArrayFromArray=s;function l(E,w,M){return E.length!==w.length?!1:E.reduce((T,v,D)=>{const L=w[D];return L==null?!1:T&&M(v,L)},!0)}e.arrayDeepEquals=l;function b(E,w){const M=new TextEncoder().encode(E);if(w===void 0)return Array.from(M);if(M.length>w)throw new Error("name too long");return Array.from(M).concat(new Array(w-M.length).fill(0))}e.stringToByteArray=b;function f(E){const w=E.findIndex(M=>M===0);return new TextDecoder().decode(Uint8Array.from(E).slice(0,w===-1?void 0:w))}e.byteArrayToString=f;function u(E){throw new Error("Unexpected object: "+E)}e.assertNever=u;function d(){return E=>{}}e.staticImplements=d;const m=E=>Object.values(E).every(w=>w===null);e.isNull=m;const p=(E,w)=>{const M=E[w];if(M==null)throw new Error(`element at index ${w} doesn't exist in ${typeof E}`);return M};e.getElementOrError=p;function _(E){return Array.isArray(E)?E:[E]}e.normalizeArray=_;const S=E=>{const w=E.replace(/([A-Z])/g," $1");return w.charAt(0).toUpperCase()+w.slice(1)};e.snakeCaseToTitleCase=S,e.ACCOUNT_STORAGE_OVERHEAD=128,e.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),e.EXEMPTION_THRESHOLD=2;function A(E){return(e.ACCOUNT_STORAGE_OVERHEAD+E)*e.LAMPORTS_PER_BYTE_YEAR*e.EXEMPTION_THRESHOLD}e.calculateMinimumRent=A})(util);Object.defineProperty(listenProgam,"__esModule",{value:!0});listenProgam.ListenProgram=void 0;const anchor_1$4=require$$0,util_1$2=util;class ListenProgram{constructor(t,n){this.program=t,this.parsers=n,this.accountClosedListener=null,this.accountDiscriminants=(0,util_1$2.remapObject)(n,r=>anchor_1$4.BorshAccountsCoder.accountDiscriminator(r.ACCOUNT_NAME)),this.listeners=(0,util_1$2.remapObject)(n,()=>null)}setAccountClosedListener(t){this.accountClosedListener=t}get programId(){return this.program.programId}accountDiscriminant(t){return this.accountDiscriminants[t]}discriminantToAccountId(t){for(const[n,r]of Object.entries(this.accountDiscriminants))if(t.subarray(0,r.length).equals(r))return{key:n,discriminantLength:r.length};return null}provideDecodedAccountEvent(t,n,r,a,i,s,l){const b=this.listeners[t];b&&b({account:n,slot:r,confirmationStatus:a,isStartup:i,accountInfo:s,writeVersion:l})}provideAccountEvent(t,n,r,a,i,s=l=>{console.error(`Unknown account \`${l.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const l=this.discriminantToAccountId(t.accountInfo.data);if(l===null){s(t.accountId);return}if(this.listeners[l.key]){const b=this.parsers[l.key].decodeData(t,this.program);if("error"in b)throw b.error;this.provideDecodedAccountEvent(l.key,b.data,n,r,a,t.accountInfo,i)}}setAccountListener(t,n,r){r?this.listeners[t]=a=>{a.account instanceof n?r(Object.assign(Object.assign({},a),{account:a.account})):console.error("Wrong account type passed, account: ",JSON.stringify(a.account))}:this.listeners[t]=null}discriminantToAccountIdNoSubarray(t){const n=Object.keys(this.accountDiscriminants);for(const r of n){const a=this.accountDiscriminants[r];if(t.equals(a))return{key:r,discriminantLength:a.length}}return null}provideAccountClosedEvent(t,n,r,a,i,s,l){const b=this.accountClosedListener;b&&b({accountInfo:l,slot:a,confirmationStatus:i,writeVersion:s,key:t,oldOwner:n,newOwner:r})}}listenProgam.ListenProgram=ListenProgram;var rpc={};function base$1(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var a=e.charAt(r),i=a.charCodeAt(0);if(t[i]!==255)throw new TypeError(a+" is ambiguous");t[i]=r}var s=e.length,l=e.charAt(0),b=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function u(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var _=0,S=0,A=0,E=p.length;A!==E&&p[A]===0;)A++,_++;for(var w=(E-A)*f+1>>>0,M=new Uint8Array(w);A!==E;){for(var T=p[A],v=0,D=w-1;(T!==0||v<S)&&D!==-1;D--,v++)T+=256*M[D]>>>0,M[D]=T%s>>>0,T=T/s>>>0;if(T!==0)throw new Error("Non-zero carry");S=v,A++}for(var L=w-S;L!==w&&M[L]===0;)L++;for(var I=l.repeat(_);L<w;++L)I+=e.charAt(M[L]);return I}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var _=0,S=0,A=0;p[_]===l;)S++,_++;for(var E=(p.length-_)*b+1>>>0,w=new Uint8Array(E);p[_];){var M=t[p.charCodeAt(_)];if(M===255)return;for(var T=0,v=E-1;(M!==0||T<A)&&v!==-1;v--,T++)M+=s*w[v]>>>0,w[v]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=T,_++}for(var D=E-A;D!==E&&w[D]===0;)D++;for(var L=new Uint8Array(S+(E-D)),I=S;D!==E;)L[I++]=w[D++];return L}function m(p){var _=d(p);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:m}}var src$4=base$1;const basex=src$4,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),__awaiter$K=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rpc,"__esModule",{value:!0});rpc.getCurrentTimestampOnChain=rpc.readMultipleFromRPC=rpc.airdrop=rpc.accountRPCSubscribe=rpc.readFromRPCNullable=rpc.readFromRPCOrError=rpc.readFromRPC=rpc.readAllFromRPC=rpc.buildRPCDataSource=void 0;const anchor_1$3=require$$0,web3_js_1$P=require$$0$1,bs58_1=__importDefault$1(bs58),lodash_1$2=lodash.exports,util_1$1=util;function buildRPCDataSource(e){const t={programs:[]},n=(r,a,i)=>(s,l)=>{r.provideAccountEvent(s,l.slot,a,i,0)};return{insertProgram(r,a){return __awaiter$K(this,void 0,void 0,function*(){if(t.programs===null)throw new Error("Data source closed");if(a==="recent")throw new Error("RPC Data Source does not support recent");const i=(0,util_1$1.fixedSizeArrayFromArray)(3,[e.onProgramAccountChange(r.programId,n(r,"processed",!1),"processed"),e.onProgramAccountChange(r.programId,n(r,"confirmed",!1),"confirmed"),e.onProgramAccountChange(r.programId,n(r,"finalized",!1),"finalized")]);if(i===null)throw new Error("Could not create listener array");const s=t.programs.length,l=()=>__awaiter$K(this,void 0,void 0,function*(){if(t.programs===null)return;const b=t.programs[s];if(!b)return;const{program:f}=b,u=yield e.getProgramAccounts(f.programId,a);for(const d of u)f.provideAccountEvent({accountId:d.pubkey,accountInfo:d.account},0,a,!0,0)});return t.programs.push({program:r,listenerId:i,refresh:l}),yield l(),{close:()=>__awaiter$K(this,void 0,void 0,function*(){if(t.programs===null)return;const b=t.programs[s];if(!b)return;const{listenerId:f}=b;t.programs[s]=null,yield Promise.all([e.removeProgramAccountChangeListener(f[0]),e.removeProgramAccountChangeListener(f[1]),e.removeProgramAccountChangeListener(f[2])])}),refresh:l}})},closeDataSource(){return __awaiter$K(this,void 0,void 0,function*(){if(t.programs===null)throw new Error("Data source already closed");const r=[];for(const a of t.programs.filter(i=>i!==null).flatMap(i=>i.listenerId))try{r.push(e.removeAccountChangeListener(a))}catch(i){console.error("Could not remove listener: ",i)}t.programs=null,yield Promise.all(r)})},refreshAll(){var r,a;return __awaiter$K(this,void 0,void 0,function*(){yield Promise.all((a=(r=t.programs)===null||r===void 0?void 0:r.map(i=>i==null?void 0:i.refresh()))!==null&&a!==void 0?a:[])})}}}rpc.buildRPCDataSource=buildRPCDataSource;function readAllFromRPC(e,t,n,r,a=[]){return __awaiter$K(this,void 0,void 0,function*(){return(yield e.getProgramAccounts(t.programId,Object.assign(Object.assign({},r?{commitment:r}:{}),{filters:[{memcmp:{offset:0,bytes:bs58_1.default.encode(anchor_1$3.BorshAccountsCoder.accountDiscriminator(n.ACCOUNT_NAME))}},...a]}))).map(s=>n.decodeData({accountInfo:s.account,accountId:s.pubkey},t))})}rpc.readAllFromRPC=readAllFromRPC;function readFromRPC(e,t,n,r,a){return __awaiter$K(this,void 0,void 0,function*(){const i=yield e.getAccountInfo(n,a);return i===null?{type:"error",key:n,error:new Error("account does not exist")}:r.decodeData({accountInfo:i,accountId:n},t)})}rpc.readFromRPC=readFromRPC;function readFromRPCOrError(e,t,n,r,a){return __awaiter$K(this,void 0,void 0,function*(){const i=yield readFromRPC(e,t,n,r,a);if("error"in i)throw i.error;return i.data})}rpc.readFromRPCOrError=readFromRPCOrError;function readFromRPCNullable(e,t,n,r,a){return __awaiter$K(this,void 0,void 0,function*(){const i=yield readFromRPC(e,t,n,r,a);return"error"in i?null:i.data})}rpc.readFromRPCNullable=readFromRPCNullable;function accountRPCSubscribe(e,t,n,r,a,i){return e.onAccountChange(n,s=>{a(r.decodeData({accountInfo:s,accountId:n},t))},i)}rpc.accountRPCSubscribe=accountRPCSubscribe;function airdrop(e,t,n=web3_js_1$P.LAMPORTS_PER_SOL,r){return __awaiter$K(this,void 0,void 0,function*(){const a=yield e.requestAirdrop(t,n);return yield e.confirmTransaction(a,r),a})}rpc.airdrop=airdrop;function readMultipleFromRPC(e,t,n,r,a){return __awaiter$K(this,void 0,void 0,function*(){const i=(yield Promise.all((0,lodash_1$2.chunk)(e,100).map(l=>t.getMultipleAccountsInfo(l,a)))).flat(),s=[];for(let l=0;l<i.length;l++){const b=i[l],f=e[l];b&&s.push(r.decodeData({accountInfo:b,accountId:f},n))}return s})}rpc.readMultipleFromRPC=readMultipleFromRPC;const getCurrentTimestampOnChain=e=>__awaiter$K(void 0,void 0,void 0,function*(){const t=yield e.getAccountInfo(web3_js_1$P.SYSVAR_CLOCK_PUBKEY);if(t===null)throw"Failed to fetch Clock account info";return t.data.readBigInt64LE(8*4)});rpc.getCurrentTimestampOnChain=getCurrentTimestampOnChain;var runForAll$1={};Object.defineProperty(runForAll$1,"__esModule",{value:!0});runForAll$1.runForAll=runForAll$1.combineObjectArrays=void 0;function combineObjectArrays(e,t){return e.map(n=>t.map(r=>Object.assign(Object.assign({},n),r))).flat()}runForAll$1.combineObjectArrays=combineObjectArrays;function runForAll(e,t){return Object.keys(e).map(r=>e[r].map(a=>({[r]:a}))).reduce((r,a)=>combineObjectArrays(r,a),[{}]).map(r=>t(r))}runForAll$1.runForAll=runForAll;var systemProgram={};Object.defineProperty(systemProgram,"__esModule",{value:!0});systemProgram.transfer=void 0;const web3_js_1$O=require$$0$1;function transfer$3(e,t,n){return r=>{var a;return Promise.resolve({instruction:web3_js_1$O.SystemProgram.transfer({fromPubkey:(a=e==null?void 0:e.publicKey())!==null&&a!==void 0?a:r.publicKey(),toPubkey:t,lamports:n}),signers:[e??r]})}}systemProgram.transfer=transfer$3;var token={},cjs$1={},actions$6={},amountToUiAmount$2={},constants$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.programSupportsExtensions=e.NATIVE_MINT_2022=e.NATIVE_MINT=e.ASSOCIATED_TOKEN_PROGRAM_ID=e.TOKEN_2022_PROGRAM_ID=e.TOKEN_PROGRAM_ID=void 0;const t=require$$0$1;e.TOKEN_PROGRAM_ID=new t.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),e.TOKEN_2022_PROGRAM_ID=new t.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),e.ASSOCIATED_TOKEN_PROGRAM_ID=new t.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),e.NATIVE_MINT=new t.PublicKey("So11111111111111111111111111111111111111112"),e.NATIVE_MINT_2022=new t.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function n(r){return r!==e.TOKEN_PROGRAM_ID}e.programSupportsExtensions=n})(constants$3);var amountToUiAmount$1={},cjs={},base={};Object.defineProperty(base,"__esModule",{value:!0});base.encodeDecode=void 0;const encodeDecode=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}};base.encodeDecode=encodeDecode;var bigint={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.u256be=e.u256=e.u192be=e.u192=e.u128be=e.u128=e.u64be=e.u64=e.bigIntBE=e.bigInt=void 0;const t=Layout$2,n=browser,r=base,a=s=>l=>{const b=(0,t.blob)(s,l),{encode:f,decode:u}=(0,r.encodeDecode)(b),d=b;return d.decode=(m,p)=>{const _=u(m,p);return(0,n.toBigIntLE)(dist$1.Buffer.from(_))},d.encode=(m,p,_)=>{const S=(0,n.toBufferLE)(m,s);return f(S,p,_)},d};e.bigInt=a;const i=s=>l=>{const b=(0,t.blob)(s,l),{encode:f,decode:u}=(0,r.encodeDecode)(b),d=b;return d.decode=(m,p)=>{const _=u(m,p);return(0,n.toBigIntBE)(dist$1.Buffer.from(_))},d.encode=(m,p,_)=>{const S=(0,n.toBufferBE)(m,s);return f(S,p,_)},d};e.bigIntBE=i,e.u64=(0,e.bigInt)(8),e.u64be=(0,e.bigIntBE)(8),e.u128=(0,e.bigInt)(16),e.u128be=(0,e.bigIntBE)(16),e.u192=(0,e.bigInt)(24),e.u192be=(0,e.bigIntBE)(24),e.u256=(0,e.bigInt)(32),e.u256be=(0,e.bigIntBE)(32)})(bigint);var decimal={},isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(e){var t,n,r,a=w.prototype={constructor:w,toString:null,valueOf:null},i=new w(1),s=20,l=4,b=-7,f=21,u=-1e7,d=1e7,m=!1,p=1,_=0,S={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},A="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function w(I,k){var $,R,O,j,C,N,U,z,q=this;if(!(q instanceof w))return new w(I,k);if(k==null){if(I&&I._isBigNumber===!0){q.s=I.s,!I.c||I.e>d?q.c=q.e=null:I.e<u?q.c=[q.e=0]:(q.e=I.e,q.c=I.c.slice());return}if((N=typeof I=="number")&&I*0==0){if(q.s=1/I<0?(I=-I,-1):1,I===~~I){for(j=0,C=I;C>=10;C/=10,j++);j>d?q.c=q.e=null:(q.e=j,q.c=[I]);return}z=String(I)}else{if(!isNumeric.test(z=String(I)))return r(q,z,N);q.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(j=z.indexOf("."))>-1&&(z=z.replace(".","")),(C=z.search(/e/i))>0?(j<0&&(j=C),j+=+z.slice(C+1),z=z.substring(0,C)):j<0&&(j=z.length)}else{if(intCheck(k,2,A.length,"Base"),k==10&&E)return q=new w(I),D(q,s+q.e+1,l);if(z=String(I),N=typeof I=="number"){if(I*0!=0)return r(q,z,N,k);if(q.s=1/I<0?(z=z.slice(1),-1):1,w.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+I)}else q.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for($=A.slice(0,k),j=C=0,U=z.length;C<U;C++)if($.indexOf(R=z.charAt(C))<0){if(R=="."){if(C>j){j=U;continue}}else if(!O&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){O=!0,C=-1,j=0;continue}return r(q,String(I),N,k)}N=!1,z=n(z,k,10,q.s),(j=z.indexOf("."))>-1?z=z.replace(".",""):j=z.length}for(C=0;z.charCodeAt(C)===48;C++);for(U=z.length;z.charCodeAt(--U)===48;);if(z=z.slice(C,++U)){if(U-=C,N&&w.DEBUG&&U>15&&(I>MAX_SAFE_INTEGER||I!==mathfloor(I)))throw Error(tooManyDigits+q.s*I);if((j=j-C-1)>d)q.c=q.e=null;else if(j<u)q.c=[q.e=0];else{if(q.e=j,q.c=[],C=(j+1)%LOG_BASE,j<0&&(C+=LOG_BASE),C<U){for(C&&q.c.push(+z.slice(0,C)),U-=LOG_BASE;C<U;)q.c.push(+z.slice(C,C+=LOG_BASE));C=LOG_BASE-(z=z.slice(C)).length}else C-=U;for(;C--;z+="0");q.c.push(+z)}}else q.c=[q.e=0]}w.clone=clone,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(I){var k,$;if(I!=null)if(typeof I=="object"){if(I.hasOwnProperty(k="DECIMAL_PLACES")&&($=I[k],intCheck($,0,MAX,k),s=$),I.hasOwnProperty(k="ROUNDING_MODE")&&($=I[k],intCheck($,0,8,k),l=$),I.hasOwnProperty(k="EXPONENTIAL_AT")&&($=I[k],$&&$.pop?(intCheck($[0],-MAX,0,k),intCheck($[1],0,MAX,k),b=$[0],f=$[1]):(intCheck($,-MAX,MAX,k),b=-(f=$<0?-$:$))),I.hasOwnProperty(k="RANGE"))if($=I[k],$&&$.pop)intCheck($[0],-MAX,-1,k),intCheck($[1],1,MAX,k),u=$[0],d=$[1];else if(intCheck($,-MAX,MAX,k),$)u=-(d=$<0?-$:$);else throw Error(bignumberError+k+" cannot be zero: "+$);if(I.hasOwnProperty(k="CRYPTO"))if($=I[k],$===!!$)if($)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=$;else throw m=!$,Error(bignumberError+"crypto unavailable");else m=$;else throw Error(bignumberError+k+" not true or false: "+$);if(I.hasOwnProperty(k="MODULO_MODE")&&($=I[k],intCheck($,0,9,k),p=$),I.hasOwnProperty(k="POW_PRECISION")&&($=I[k],intCheck($,0,MAX,k),_=$),I.hasOwnProperty(k="FORMAT"))if($=I[k],typeof $=="object")S=$;else throw Error(bignumberError+k+" not an object: "+$);if(I.hasOwnProperty(k="ALPHABET"))if($=I[k],typeof $=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test($))E=$.slice(0,10)=="0123456789",A=$;else throw Error(bignumberError+k+" invalid: "+$)}else throw Error(bignumberError+"Object expected: "+I);return{DECIMAL_PLACES:s,ROUNDING_MODE:l,EXPONENTIAL_AT:[b,f],RANGE:[u,d],CRYPTO:m,MODULO_MODE:p,POW_PRECISION:_,FORMAT:S,ALPHABET:A}},w.isBigNumber=function(I){if(!I||I._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var k,$,R=I.c,O=I.e,j=I.s;e:if({}.toString.call(R)=="[object Array]"){if((j===1||j===-1)&&O>=-MAX&&O<=MAX&&O===mathfloor(O)){if(R[0]===0){if(O===0&&R.length===1)return!0;break e}if(k=(O+1)%LOG_BASE,k<1&&(k+=LOG_BASE),String(R[0]).length==k){for(k=0;k<R.length;k++)if($=R[k],$<0||$>=BASE||$!==mathfloor($))break e;if($!==0)return!0}}}else if(R===null&&O===null&&(j===null||j===1||j===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+I)},w.maximum=w.max=function(){return T(arguments,-1)},w.minimum=w.min=function(){return T(arguments,1)},w.random=function(){var I=9007199254740992,k=Math.random()*I&2097151?function(){return mathfloor(Math.random()*I)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function($){var R,O,j,C,N,U=0,z=[],q=new w(i);if($==null?$=s:intCheck($,0,MAX),C=mathceil($/LOG_BASE),m)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(C*=2));U<C;)N=R[U]*131072+(R[U+1]>>>11),N>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),R[U]=O[0],R[U+1]=O[1]):(z.push(N%1e14),U+=2);U=C/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(C*=7);U<C;)N=(R[U]&31)*281474976710656+R[U+1]*1099511627776+R[U+2]*4294967296+R[U+3]*16777216+(R[U+4]<<16)+(R[U+5]<<8)+R[U+6],N>=9e15?crypto.randomBytes(7).copy(R,U):(z.push(N%1e14),U+=7);U=C/7}else throw m=!1,Error(bignumberError+"crypto unavailable");if(!m)for(;U<C;)N=k(),N<9e15&&(z[U++]=N%1e14);for(C=z[--U],$%=LOG_BASE,C&&$&&(N=POWS_TEN[LOG_BASE-$],z[U]=mathfloor(C/N)*N);z[U]===0;z.pop(),U--);if(U<0)z=[j=0];else{for(j=-1;z[0]===0;z.splice(0,1),j-=LOG_BASE);for(U=1,N=z[0];N>=10;N/=10,U++);U<LOG_BASE&&(j-=LOG_BASE-U)}return q.e=j,q.c=z,q}}(),w.sum=function(){for(var I=1,k=arguments,$=new w(k[0]);I<k.length;)$=$.plus(k[I++]);return $},n=function(){var I="0123456789";function k($,R,O,j){for(var C,N=[0],U,z=0,q=$.length;z<q;){for(U=N.length;U--;N[U]*=R);for(N[0]+=j.indexOf($.charAt(z++)),C=0;C<N.length;C++)N[C]>O-1&&(N[C+1]==null&&(N[C+1]=0),N[C+1]+=N[C]/O|0,N[C]%=O)}return N.reverse()}return function($,R,O,j,C){var N,U,z,q,Z,ne,ie,W,Y=$.indexOf("."),ee=s,se=l;for(Y>=0&&(q=_,_=0,$=$.replace(".",""),W=new w(R),ne=W.pow($.length-Y),_=q,W.c=k(toFixedPoint(coeffToString(ne.c),ne.e,"0"),10,O,I),W.e=W.c.length),ie=k($,R,O,C?(N=A,I):(N=I,A)),z=q=ie.length;ie[--q]==0;ie.pop());if(!ie[0])return N.charAt(0);if(Y<0?--z:(ne.c=ie,ne.e=z,ne.s=j,ne=t(ne,W,ee,se,O),ie=ne.c,Z=ne.r,z=ne.e),U=z+ee+1,Y=ie[U],q=O/2,Z=Z||U<0||ie[U+1]!=null,Z=se<4?(Y!=null||Z)&&(se==0||se==(ne.s<0?3:2)):Y>q||Y==q&&(se==4||Z||se==6&&ie[U-1]&1||se==(ne.s<0?8:7)),U<1||!ie[0])$=Z?toFixedPoint(N.charAt(1),-ee,N.charAt(0)):N.charAt(0);else{if(ie.length=U,Z)for(--O;++ie[--U]>O;)ie[U]=0,U||(++z,ie=[1].concat(ie));for(q=ie.length;!ie[--q];);for(Y=0,$="";Y<=q;$+=N.charAt(ie[Y++]));$=toFixedPoint($,z,N.charAt(0))}return $}}(),t=function(){function I(R,O,j){var C,N,U,z,q=0,Z=R.length,ne=O%SQRT_BASE,ie=O/SQRT_BASE|0;for(R=R.slice();Z--;)U=R[Z]%SQRT_BASE,z=R[Z]/SQRT_BASE|0,C=ie*U+z*ne,N=ne*U+C%SQRT_BASE*SQRT_BASE+q,q=(N/j|0)+(C/SQRT_BASE|0)+ie*z,R[Z]=N%j;return q&&(R=[q].concat(R)),R}function k(R,O,j,C){var N,U;if(j!=C)U=j>C?1:-1;else for(N=U=0;N<j;N++)if(R[N]!=O[N]){U=R[N]>O[N]?1:-1;break}return U}function $(R,O,j,C){for(var N=0;j--;)R[j]-=N,N=R[j]<O[j]?1:0,R[j]=N*C+R[j]-O[j];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,O,j,C,N){var U,z,q,Z,ne,ie,W,Y,ee,se,ue,me,ge,ye,we,$e,qe,Ke=R.s==O.s?1:-1,Me=R.c,Pe=O.c;if(!Me||!Me[0]||!Pe||!Pe[0])return new w(!R.s||!O.s||(Me?Pe&&Me[0]==Pe[0]:!Pe)?NaN:Me&&Me[0]==0||!Pe?Ke*0:Ke/0);for(Y=new w(Ke),ee=Y.c=[],z=R.e-O.e,Ke=j+z+1,N||(N=BASE,z=bitFloor(R.e/LOG_BASE)-bitFloor(O.e/LOG_BASE),Ke=Ke/LOG_BASE|0),q=0;Pe[q]==(Me[q]||0);q++);if(Pe[q]>(Me[q]||0)&&z--,Ke<0)ee.push(1),Z=!0;else{for(ye=Me.length,$e=Pe.length,q=0,Ke+=2,ne=mathfloor(N/(Pe[0]+1)),ne>1&&(Pe=I(Pe,ne,N),Me=I(Me,ne,N),$e=Pe.length,ye=Me.length),ge=$e,se=Me.slice(0,$e),ue=se.length;ue<$e;se[ue++]=0);qe=Pe.slice(),qe=[0].concat(qe),we=Pe[0],Pe[1]>=N/2&&we++;do{if(ne=0,U=k(Pe,se,$e,ue),U<0){if(me=se[0],$e!=ue&&(me=me*N+(se[1]||0)),ne=mathfloor(me/we),ne>1)for(ne>=N&&(ne=N-1),ie=I(Pe,ne,N),W=ie.length,ue=se.length;k(ie,se,W,ue)==1;)ne--,$(ie,$e<W?qe:Pe,W,N),W=ie.length,U=1;else ne==0&&(U=ne=1),ie=Pe.slice(),W=ie.length;if(W<ue&&(ie=[0].concat(ie)),$(se,ie,ue,N),ue=se.length,U==-1)for(;k(Pe,se,$e,ue)<1;)ne++,$(se,$e<ue?qe:Pe,ue,N),ue=se.length}else U===0&&(ne++,se=[0]);ee[q++]=ne,se[0]?se[ue++]=Me[ge]||0:(se=[Me[ge]],ue=1)}while((ge++<ye||se[0]!=null)&&Ke--);Z=se[0]!=null,ee[0]||ee.splice(0,1)}if(N==BASE){for(q=1,Ke=ee[0];Ke>=10;Ke/=10,q++);D(Y,j+(Y.e=q+z*LOG_BASE-1)+1,C,Z)}else Y.e=z,Y.r=+Z;return Y}}();function M(I,k,$,R){var O,j,C,N,U;if($==null?$=l:intCheck($,0,8),!I.c)return I.toString();if(O=I.c[0],C=I.e,k==null)U=coeffToString(I.c),U=R==1||R==2&&(C<=b||C>=f)?toExponential(U,C):toFixedPoint(U,C,"0");else if(I=D(new w(I),k,$),j=I.e,U=coeffToString(I.c),N=U.length,R==1||R==2&&(k<=j||j<=b)){for(;N<k;U+="0",N++);U=toExponential(U,j)}else if(k-=C,U=toFixedPoint(U,j,"0"),j+1>N){if(--k>0)for(U+=".";k--;U+="0");}else if(k+=j-N,k>0)for(j+1==N&&(U+=".");k--;U+="0");return I.s<0&&O?"-"+U:U}function T(I,k){for(var $,R,O=1,j=new w(I[0]);O<I.length;O++)R=new w(I[O]),(!R.s||($=compare(j,R))===k||$===0&&j.s===k)&&(j=R);return j}function v(I,k,$){for(var R=1,O=k.length;!k[--O];k.pop());for(O=k[0];O>=10;O/=10,R++);return($=R+$*LOG_BASE-1)>d?I.c=I.e=null:$<u?I.c=[I.e=0]:(I.e=$,I.c=k),I}r=function(){var I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,$=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,C,N,U){var z,q=N?C:C.replace(O,"");if(R.test(q))j.s=isNaN(q)?null:q<0?-1:1;else{if(!N&&(q=q.replace(I,function(Z,ne,ie){return z=(ie=ie.toLowerCase())=="x"?16:ie=="b"?2:8,!U||U==z?ne:Z}),U&&(z=U,q=q.replace(k,"$1").replace($,"0.$1")),C!=q))return new w(q,z);if(w.DEBUG)throw Error(bignumberError+"Not a"+(U?" base "+U:"")+" number: "+C);j.s=null}j.c=j.e=null}}();function D(I,k,$,R){var O,j,C,N,U,z,q,Z=I.c,ne=POWS_TEN;if(Z){e:{for(O=1,N=Z[0];N>=10;N/=10,O++);if(j=k-O,j<0)j+=LOG_BASE,C=k,U=Z[z=0],q=mathfloor(U/ne[O-C-1]%10);else if(z=mathceil((j+1)/LOG_BASE),z>=Z.length)if(R){for(;Z.length<=z;Z.push(0));U=q=0,O=1,j%=LOG_BASE,C=j-LOG_BASE+1}else break e;else{for(U=N=Z[z],O=1;N>=10;N/=10,O++);j%=LOG_BASE,C=j-LOG_BASE+O,q=C<0?0:mathfloor(U/ne[O-C-1]%10)}if(R=R||k<0||Z[z+1]!=null||(C<0?U:U%ne[O-C-1]),R=$<4?(q||R)&&($==0||$==(I.s<0?3:2)):q>5||q==5&&($==4||R||$==6&&(j>0?C>0?U/ne[O-C]:0:Z[z-1])%10&1||$==(I.s<0?8:7)),k<1||!Z[0])return Z.length=0,R?(k-=I.e+1,Z[0]=ne[(LOG_BASE-k%LOG_BASE)%LOG_BASE],I.e=-k||0):Z[0]=I.e=0,I;if(j==0?(Z.length=z,N=1,z--):(Z.length=z+1,N=ne[LOG_BASE-j],Z[z]=C>0?mathfloor(U/ne[O-C]%ne[C])*N:0),R)for(;;)if(z==0){for(j=1,C=Z[0];C>=10;C/=10,j++);for(C=Z[0]+=N,N=1;C>=10;C/=10,N++);j!=N&&(I.e++,Z[0]==BASE&&(Z[0]=1));break}else{if(Z[z]+=N,Z[z]!=BASE)break;Z[z--]=0,N=1}for(j=Z.length;Z[--j]===0;Z.pop());}I.e>d?I.c=I.e=null:I.e<u&&(I.c=[I.e=0])}return I}function L(I){var k,$=I.e;return $===null?I.toString():(k=coeffToString(I.c),k=$<=b||$>=f?toExponential(k,$):toFixedPoint(k,$,"0"),I.s<0?"-"+k:k)}return a.absoluteValue=a.abs=function(){var I=new w(this);return I.s<0&&(I.s=1),I},a.comparedTo=function(I,k){return compare(this,new w(I,k))},a.decimalPlaces=a.dp=function(I,k){var $,R,O,j=this;if(I!=null)return intCheck(I,0,MAX),k==null?k=l:intCheck(k,0,8),D(new w(j),I+j.e+1,k);if(!($=j.c))return null;if(R=((O=$.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,O=$[O])for(;O%10==0;O/=10,R--);return R<0&&(R=0),R},a.dividedBy=a.div=function(I,k){return t(this,new w(I,k),s,l)},a.dividedToIntegerBy=a.idiv=function(I,k){return t(this,new w(I,k),0,1)},a.exponentiatedBy=a.pow=function(I,k){var $,R,O,j,C,N,U,z,q,Z=this;if(I=new w(I),I.c&&!I.isInteger())throw Error(bignumberError+"Exponent not an integer: "+L(I));if(k!=null&&(k=new w(k)),N=I.e>14,!Z.c||!Z.c[0]||Z.c[0]==1&&!Z.e&&Z.c.length==1||!I.c||!I.c[0])return q=new w(Math.pow(+L(Z),N?I.s*(2-isOdd(I)):+L(I))),k?q.mod(k):q;if(U=I.s<0,k){if(k.c?!k.c[0]:!k.s)return new w(NaN);R=!U&&Z.isInteger()&&k.isInteger(),R&&(Z=Z.mod(k))}else{if(I.e>9&&(Z.e>0||Z.e<-1||(Z.e==0?Z.c[0]>1||N&&Z.c[1]>=24e7:Z.c[0]<8e13||N&&Z.c[0]<=9999975e7)))return j=Z.s<0&&isOdd(I)?-0:0,Z.e>-1&&(j=1/j),new w(U?1/j:j);_&&(j=mathceil(_/LOG_BASE+2))}for(N?($=new w(.5),U&&(I.s=1),z=isOdd(I)):(O=Math.abs(+L(I)),z=O%2),q=new w(i);;){if(z){if(q=q.times(Z),!q.c)break;j?q.c.length>j&&(q.c.length=j):R&&(q=q.mod(k))}if(O){if(O=mathfloor(O/2),O===0)break;z=O%2}else if(I=I.times($),D(I,I.e+1,1),I.e>14)z=isOdd(I);else{if(O=+L(I),O===0)break;z=O%2}Z=Z.times(Z),j?Z.c&&Z.c.length>j&&(Z.c.length=j):R&&(Z=Z.mod(k))}return R?q:(U&&(q=i.div(q)),k?q.mod(k):j?D(q,_,l,C):q)},a.integerValue=function(I){var k=new w(this);return I==null?I=l:intCheck(I,0,8),D(k,k.e+1,I)},a.isEqualTo=a.eq=function(I,k){return compare(this,new w(I,k))===0},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(I,k){return compare(this,new w(I,k))>0},a.isGreaterThanOrEqualTo=a.gte=function(I,k){return(k=compare(this,new w(I,k)))===1||k===0},a.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},a.isLessThan=a.lt=function(I,k){return compare(this,new w(I,k))<0},a.isLessThanOrEqualTo=a.lte=function(I,k){return(k=compare(this,new w(I,k)))===-1||k===0},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&this.c[0]==0},a.minus=function(I,k){var $,R,O,j,C=this,N=C.s;if(I=new w(I,k),k=I.s,!N||!k)return new w(NaN);if(N!=k)return I.s=-k,C.plus(I);var U=C.e/LOG_BASE,z=I.e/LOG_BASE,q=C.c,Z=I.c;if(!U||!z){if(!q||!Z)return q?(I.s=-k,I):new w(Z?C:NaN);if(!q[0]||!Z[0])return Z[0]?(I.s=-k,I):new w(q[0]?C:l==3?-0:0)}if(U=bitFloor(U),z=bitFloor(z),q=q.slice(),N=U-z){for((j=N<0)?(N=-N,O=q):(z=U,O=Z),O.reverse(),k=N;k--;O.push(0));O.reverse()}else for(R=(j=(N=q.length)<(k=Z.length))?N:k,N=k=0;k<R;k++)if(q[k]!=Z[k]){j=q[k]<Z[k];break}if(j&&(O=q,q=Z,Z=O,I.s=-I.s),k=(R=Z.length)-($=q.length),k>0)for(;k--;q[$++]=0);for(k=BASE-1;R>N;){if(q[--R]<Z[R]){for($=R;$&&!q[--$];q[$]=k);--q[$],q[R]+=BASE}q[R]-=Z[R]}for(;q[0]==0;q.splice(0,1),--z);return q[0]?v(I,q,z):(I.s=l==3?-1:1,I.c=[I.e=0],I)},a.modulo=a.mod=function(I,k){var $,R,O=this;return I=new w(I,k),!O.c||!I.s||I.c&&!I.c[0]?new w(NaN):!I.c||O.c&&!O.c[0]?new w(O):(p==9?(R=I.s,I.s=1,$=t(O,I,0,3),I.s=R,$.s*=R):$=t(O,I,0,p),I=O.minus($.times(I)),!I.c[0]&&p==1&&(I.s=O.s),I)},a.multipliedBy=a.times=function(I,k){var $,R,O,j,C,N,U,z,q,Z,ne,ie,W,Y,ee,se=this,ue=se.c,me=(I=new w(I,k)).c;if(!ue||!me||!ue[0]||!me[0])return!se.s||!I.s||ue&&!ue[0]&&!me||me&&!me[0]&&!ue?I.c=I.e=I.s=null:(I.s*=se.s,!ue||!me?I.c=I.e=null:(I.c=[0],I.e=0)),I;for(R=bitFloor(se.e/LOG_BASE)+bitFloor(I.e/LOG_BASE),I.s*=se.s,U=ue.length,Z=me.length,U<Z&&(W=ue,ue=me,me=W,O=U,U=Z,Z=O),O=U+Z,W=[];O--;W.push(0));for(Y=BASE,ee=SQRT_BASE,O=Z;--O>=0;){for($=0,ne=me[O]%ee,ie=me[O]/ee|0,C=U,j=O+C;j>O;)z=ue[--C]%ee,q=ue[C]/ee|0,N=ie*z+q*ne,z=ne*z+N%ee*ee+W[j]+$,$=(z/Y|0)+(N/ee|0)+ie*q,W[j--]=z%Y;W[j]=$}return $?++R:W.splice(0,1),v(I,W,R)},a.negated=function(){var I=new w(this);return I.s=-I.s||null,I},a.plus=function(I,k){var $,R=this,O=R.s;if(I=new w(I,k),k=I.s,!O||!k)return new w(NaN);if(O!=k)return I.s=-k,R.minus(I);var j=R.e/LOG_BASE,C=I.e/LOG_BASE,N=R.c,U=I.c;if(!j||!C){if(!N||!U)return new w(O/0);if(!N[0]||!U[0])return U[0]?I:new w(N[0]?R:O*0)}if(j=bitFloor(j),C=bitFloor(C),N=N.slice(),O=j-C){for(O>0?(C=j,$=U):(O=-O,$=N),$.reverse();O--;$.push(0));$.reverse()}for(O=N.length,k=U.length,O-k<0&&($=U,U=N,N=$,k=O),O=0;k;)O=(N[--k]=N[k]+U[k]+O)/BASE|0,N[k]=BASE===N[k]?0:N[k]%BASE;return O&&(N=[O].concat(N),++C),v(I,N,C)},a.precision=a.sd=function(I,k){var $,R,O,j=this;if(I!=null&&I!==!!I)return intCheck(I,1,MAX),k==null?k=l:intCheck(k,0,8),D(new w(j),I,k);if(!($=j.c))return null;if(O=$.length-1,R=O*LOG_BASE+1,O=$[O]){for(;O%10==0;O/=10,R--);for(O=$[0];O>=10;O/=10,R++);}return I&&j.e+1>R&&(R=j.e+1),R},a.shiftedBy=function(I){return intCheck(I,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times("1e"+I)},a.squareRoot=a.sqrt=function(){var I,k,$,R,O,j=this,C=j.c,N=j.s,U=j.e,z=s+4,q=new w("0.5");if(N!==1||!C||!C[0])return new w(!N||N<0&&(!C||C[0])?NaN:C?j:1/0);if(N=Math.sqrt(+L(j)),N==0||N==1/0?(k=coeffToString(C),(k.length+U)%2==0&&(k+="0"),N=Math.sqrt(+k),U=bitFloor((U+1)/2)-(U<0||U%2),N==1/0?k="5e"+U:(k=N.toExponential(),k=k.slice(0,k.indexOf("e")+1)+U),$=new w(k)):$=new w(N+""),$.c[0]){for(U=$.e,N=U+z,N<3&&(N=0);;)if(O=$,$=q.times(O.plus(t(j,O,z,1))),coeffToString(O.c).slice(0,N)===(k=coeffToString($.c)).slice(0,N))if($.e<U&&--N,k=k.slice(N-3,N+1),k=="9999"||!R&&k=="4999"){if(!R&&(D(O,O.e+s+2,0),O.times(O).eq(j))){$=O;break}z+=4,N+=4,R=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(D($,$.e+s+2,1),I=!$.times($).eq(j));break}}return D($,$.e+s+1,l,I)},a.toExponential=function(I,k){return I!=null&&(intCheck(I,0,MAX),I++),M(this,I,k,1)},a.toFixed=function(I,k){return I!=null&&(intCheck(I,0,MAX),I=I+this.e+1),M(this,I,k)},a.toFormat=function(I,k,$){var R,O=this;if($==null)I!=null&&k&&typeof k=="object"?($=k,k=null):I&&typeof I=="object"?($=I,I=k=null):$=S;else if(typeof $!="object")throw Error(bignumberError+"Argument not an object: "+$);if(R=O.toFixed(I,k),O.c){var j,C=R.split("."),N=+$.groupSize,U=+$.secondaryGroupSize,z=$.groupSeparator||"",q=C[0],Z=C[1],ne=O.s<0,ie=ne?q.slice(1):q,W=ie.length;if(U&&(j=N,N=U,U=j,W-=j),N>0&&W>0){for(j=W%N||N,q=ie.substr(0,j);j<W;j+=N)q+=z+ie.substr(j,N);U>0&&(q+=z+ie.slice(j)),ne&&(q="-"+q)}R=Z?q+($.decimalSeparator||"")+((U=+$.fractionGroupSize)?Z.replace(new RegExp("\\d{"+U+"}\\B","g"),"$&"+($.fractionGroupSeparator||"")):Z):q}return($.prefix||"")+R+($.suffix||"")},a.toFraction=function(I){var k,$,R,O,j,C,N,U,z,q,Z,ne,ie=this,W=ie.c;if(I!=null&&(N=new w(I),!N.isInteger()&&(N.c||N.s!==1)||N.lt(i)))throw Error(bignumberError+"Argument "+(N.isInteger()?"out of range: ":"not an integer: ")+L(N));if(!W)return new w(ie);for(k=new w(i),z=$=new w(i),R=U=new w(i),ne=coeffToString(W),j=k.e=ne.length-ie.e-1,k.c[0]=POWS_TEN[(C=j%LOG_BASE)<0?LOG_BASE+C:C],I=!I||N.comparedTo(k)>0?j>0?k:z:N,C=d,d=1/0,N=new w(ne),U.c[0]=0;q=t(N,k,0,1),O=$.plus(q.times(R)),O.comparedTo(I)!=1;)$=R,R=O,z=U.plus(q.times(O=z)),U=O,k=N.minus(q.times(O=k)),N=O;return O=t(I.minus($),R,0,1),U=U.plus(O.times(z)),$=$.plus(O.times(R)),U.s=z.s=ie.s,j=j*2,Z=t(z,R,j,l).minus(ie).abs().comparedTo(t(U,$,j,l).minus(ie).abs())<1?[z,R]:[U,$],d=C,Z},a.toNumber=function(){return+L(this)},a.toPrecision=function(I,k){return I!=null&&intCheck(I,1,MAX),M(this,I,k,2)},a.toString=function(I){var k,$=this,R=$.s,O=$.e;return O===null?R?(k="Infinity",R<0&&(k="-"+k)):k="NaN":(I==null?k=O<=b||O>=f?toExponential(coeffToString($.c),O):toFixedPoint(coeffToString($.c),O,"0"):I===10&&E?($=D(new w($),s+O+1,l),k=toFixedPoint(coeffToString($.c),$.e,"0")):(intCheck(I,2,A.length,"Base"),k=n(toFixedPoint(coeffToString($.c),O,"0"),10,I,R,!0)),R<0&&$.c[0]&&(k="-"+k)),k},a.valueOf=a.toJSON=function(){return L(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,e!=null&&w.set(e),w}function bitFloor(e){var t=e|0;return e>0||e===t?t:t-1}function coeffToString(e){for(var t,n,r=1,a=e.length,i=e[0]+"";r<a;){for(t=e[r++]+"",n=LOG_BASE-t.length;n--;t="0"+t);i+=t}for(a=i.length;i.charCodeAt(--a)===48;);return i.slice(0,a+1||1)}function compare(e,t){var n,r,a=e.c,i=t.c,s=e.s,l=t.s,b=e.e,f=t.e;if(!s||!l)return null;if(n=a&&!a[0],r=i&&!i[0],n||r)return n?r?0:-l:s;if(s!=l)return s;if(n=s<0,r=b==f,!a||!i)return r?0:!a^n?1:-1;if(!r)return b>f^n?1:-1;for(l=(b=a.length)<(f=i.length)?b:f,s=0;s<l;s++)if(a[s]!=i[s])return a[s]>i[s]^n?1:-1;return b==f?0:b>f^n?1:-1}function intCheck(e,t,n,r){if(e<t||e>n||e!==mathfloor(e))throw Error(bignumberError+(r||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/LOG_BASE)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(r=e.length,++t>r){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var BigNumber=clone(),bignumber=Object.freeze(Object.defineProperty({__proto__:null,BigNumber,default:BigNumber},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(bignumber);(function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.decimal=e.WAD=void 0;const n=t(require$$1$1),r=base,a=bigint;e.WAD=new n.default("1e+18");const i=s=>{const l=(0,a.u128)(s),{encode:b,decode:f}=(0,r.encodeDecode)(l),u=l;return u.decode=(d,m)=>{const p=f(d,m).toString();return new n.default(p).div(e.WAD)},u.encode=(d,m,p)=>{const _=BigInt(d.times(e.WAD).integerValue().toString());return b(_,m,p)},u};e.decimal=i})(decimal);var native={};Object.defineProperty(native,"__esModule",{value:!0});native.bool=void 0;const buffer_layout_1$4=Layout$2,base_1$1=base,bool=e=>{const t=(0,buffer_layout_1$4.u8)(e),{encode:n,decode:r}=(0,base_1$1.encodeDecode)(t),a=t;return a.decode=(i,s)=>!!r(i,s),a.encode=(i,s,l)=>{const b=Number(i);return n(b,s,l)},a};native.bool=bool;var web3={};Object.defineProperty(web3,"__esModule",{value:!0});web3.publicKey=void 0;const buffer_layout_1$3=Layout$2,web3_js_1$N=require$$0$1,base_1=base,publicKey=e=>{const t=(0,buffer_layout_1$3.blob)(32,e),{encode:n,decode:r}=(0,base_1.encodeDecode)(t),a=t;return a.decode=(i,s)=>{const l=r(i,s);return new web3_js_1$N.PublicKey(l)},a.encode=(i,s,l)=>{const b=i.toBuffer();return n(b,s,l)},a};web3.publicKey=publicKey;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i),Object.defineProperty(r,s,{enumerable:!0,get:function(){return a[i]}})}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(base,e),n(bigint,e),n(decimal,e),n(native,e),n(web3,e)})(cjs);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.TokenTransferHookAccountDataNotFound=errors.TokenTransferHookInvalidSeed=errors.TokenTransferHookAccountNotFound=errors.TokenUnsupportedInstructionError=errors.TokenInvalidInstructionTypeError=errors.TokenInvalidInstructionDataError=errors.TokenInvalidInstructionKeysError=errors.TokenInvalidInstructionProgramError=errors.TokenOwnerOffCurveError=errors.TokenInvalidOwnerError=errors.TokenInvalidMintError=errors.TokenInvalidAccountSizeError=errors.TokenInvalidAccountOwnerError=errors.TokenInvalidAccountDataError=errors.TokenInvalidAccountError=errors.TokenAccountNotFoundError=errors.TokenError=void 0;class TokenError extends Error{constructor(t){super(t)}}errors.TokenError=TokenError;class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}errors.TokenAccountNotFoundError=TokenAccountNotFoundError;class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}errors.TokenInvalidAccountError=TokenInvalidAccountError;class TokenInvalidAccountDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}}errors.TokenInvalidAccountDataError=TokenInvalidAccountDataError;class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}errors.TokenInvalidAccountOwnerError=TokenInvalidAccountOwnerError;class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}errors.TokenInvalidAccountSizeError=TokenInvalidAccountSizeError;class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}errors.TokenInvalidMintError=TokenInvalidMintError;class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}errors.TokenInvalidOwnerError=TokenInvalidOwnerError;class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}errors.TokenOwnerOffCurveError=TokenOwnerOffCurveError;class TokenInvalidInstructionProgramError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}errors.TokenInvalidInstructionProgramError=TokenInvalidInstructionProgramError;class TokenInvalidInstructionKeysError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}errors.TokenInvalidInstructionKeysError=TokenInvalidInstructionKeysError;class TokenInvalidInstructionDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}errors.TokenInvalidInstructionDataError=TokenInvalidInstructionDataError;class TokenInvalidInstructionTypeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}errors.TokenInvalidInstructionTypeError=TokenInvalidInstructionTypeError;class TokenUnsupportedInstructionError extends TokenError{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}errors.TokenUnsupportedInstructionError=TokenUnsupportedInstructionError;class TokenTransferHookAccountNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}errors.TokenTransferHookAccountNotFound=TokenTransferHookAccountNotFound;class TokenTransferHookInvalidSeed extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}errors.TokenTransferHookInvalidSeed=TokenTransferHookInvalidSeed;class TokenTransferHookAccountDataNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}errors.TokenTransferHookAccountDataNotFound=TokenTransferHookAccountDataNotFound;var types={};Object.defineProperty(types,"__esModule",{value:!0});types.TokenInstruction=void 0;var TokenInstruction;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"})(TokenInstruction||(types.TokenInstruction=TokenInstruction={}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAmountToUiAmountInstructionUnchecked=e.decodeAmountToUiAmountInstruction=e.createAmountToUiAmountInstruction=e.amountToUiAmountInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.amountToUiAmountInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount")]);function l(u,d,m=a.TOKEN_PROGRAM_ID){const p=[{pubkey:u,isSigner:!1,isWritable:!1}],_=dist$1.Buffer.alloc(e.amountToUiAmountInstructionData.span);return e.amountToUiAmountInstructionData.encode({instruction:s.TokenInstruction.AmountToUiAmount,amount:BigInt(d)},_),new r.TransactionInstruction({keys:p,programId:m,data:_})}e.createAmountToUiAmountInstruction=l;function b(u,d=a.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.amountToUiAmountInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:m},data:p}=f(u);if(p.instruction!==s.TokenInstruction.AmountToUiAmount)throw new i.TokenInvalidInstructionTypeError;if(!m)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{mint:m},data:p}}e.decodeAmountToUiAmountInstruction=b;function f({programId:u,keys:[d],data:m}){return{programId:u,keys:{mint:d},data:e.amountToUiAmountInstructionData.decode(m)}}e.decodeAmountToUiAmountInstructionUnchecked=f})(amountToUiAmount$1);var __awaiter$J=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(amountToUiAmount$2,"__esModule",{value:!0});amountToUiAmount$2.amountToUiAmount=void 0;const web3_js_1$M=require$$0$1,constants_js_1$y=constants$3,amountToUiAmount_js_1$1=amountToUiAmount$1;function amountToUiAmount(e,t,n,r,a=constants_js_1$y.TOKEN_PROGRAM_ID){return __awaiter$J(this,void 0,void 0,function*(){const i=new web3_js_1$M.Transaction().add((0,amountToUiAmount_js_1$1.createAmountToUiAmountInstruction)(n,r,a)),{returnData:s,err:l}=(yield e.simulateTransaction(i,[t],!1)).value;return s!=null&&s.data?dist$1.Buffer.from(s.data[0],s.data[1]).toString("utf-8"):l})}amountToUiAmount$2.amountToUiAmount=amountToUiAmount;var approve$2={},approve$1={},internal$1={};Object.defineProperty(internal$1,"__esModule",{value:!0});internal$1.addSigners=void 0;const web3_js_1$L=require$$0$1;function addSigners(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof web3_js_1$L.PublicKey?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}internal$1.addSigners=addSigners;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveInstructionUnchecked=e.decodeApproveInstruction=e.createApproveInstruction=e.approveInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.approveInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount")]);function b(d,m,p,_,S=[],A=a.TOKEN_PROGRAM_ID){const E=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1}],p,S),w=dist$1.Buffer.alloc(e.approveInstructionData.span);return e.approveInstructionData.encode({instruction:l.TokenInstruction.Approve,amount:BigInt(_)},w),new r.TransactionInstruction({keys:E,programId:A,data:w})}e.createApproveInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.approveInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:p,delegate:_,owner:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.Approve)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{account:p,delegate:_,owner:S,multiSigners:A},data:E}}e.decodeApproveInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{account:m,delegate:p,owner:_,multiSigners:S},data:e.approveInstructionData.decode(A)}}e.decodeApproveInstructionUnchecked=u})(approve$1);var internal={};Object.defineProperty(internal,"__esModule",{value:!0});internal.getSigners=void 0;const web3_js_1$K=require$$0$1;function getSigners(e,t){return e instanceof web3_js_1$K.PublicKey?[e,t]:[e.publicKey,[e]]}internal.getSigners=getSigners;var __awaiter$I=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(approve$2,"__esModule",{value:!0});approve$2.approve=void 0;const web3_js_1$J=require$$0$1,constants_js_1$x=constants$3,approve_js_1$1=approve$1,internal_js_1$j=internal;function approve(e,t,n,r,a,i,s=[],l,b=constants_js_1$x.TOKEN_PROGRAM_ID){return __awaiter$I(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$j.getSigners)(a,s),d=new web3_js_1$J.Transaction().add((0,approve_js_1$1.createApproveInstruction)(n,r,f,i,s,b));return yield(0,web3_js_1$J.sendAndConfirmTransaction)(e,d,[t,...u],l)})}approve$2.approve=approve;var approveChecked$2={},approveChecked$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveCheckedInstructionUnchecked=e.decodeApproveCheckedInstruction=e.createApproveCheckedInstruction=e.approveCheckedInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.approveCheckedInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount"),(0,t.u8)("decimals")]);function b(d,m,p,_,S,A,E=[],w=a.TOKEN_PROGRAM_ID){const M=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1}],_,E),T=dist$1.Buffer.alloc(e.approveCheckedInstructionData.span);return e.approveCheckedInstructionData.encode({instruction:l.TokenInstruction.ApproveChecked,amount:BigInt(S),decimals:A},T),new r.TransactionInstruction({keys:M,programId:w,data:T})}e.createApproveCheckedInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.approveCheckedInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:p,mint:_,delegate:S,owner:A,multiSigners:E},data:w}=u(d);if(w.instruction!==l.TokenInstruction.ApproveChecked)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S||!A)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{account:p,mint:_,delegate:S,owner:A,multiSigners:E},data:w}}e.decodeApproveCheckedInstruction=f;function u({programId:d,keys:[m,p,_,S,...A],data:E}){return{programId:d,keys:{account:m,mint:p,delegate:_,owner:S,multiSigners:A},data:e.approveCheckedInstructionData.decode(E)}}e.decodeApproveCheckedInstructionUnchecked=u})(approveChecked$1);var __awaiter$H=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(approveChecked$2,"__esModule",{value:!0});approveChecked$2.approveChecked=void 0;const web3_js_1$I=require$$0$1,constants_js_1$w=constants$3,approveChecked_js_1$1=approveChecked$1,internal_js_1$i=internal;function approveChecked(e,t,n,r,a,i,s,l,b=[],f,u=constants_js_1$w.TOKEN_PROGRAM_ID){return __awaiter$H(this,void 0,void 0,function*(){const[d,m]=(0,internal_js_1$i.getSigners)(i,b),p=new web3_js_1$I.Transaction().add((0,approveChecked_js_1$1.createApproveCheckedInstruction)(r,n,a,d,s,l,b,u));return yield(0,web3_js_1$I.sendAndConfirmTransaction)(e,p,[t,...m],f)})}approveChecked$2.approveChecked=approveChecked;var burn$2={},burn$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnInstructionUnchecked=e.decodeBurnInstruction=e.createBurnInstruction=e.burnInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.burnInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount")]);function b(d,m,p,_,S=[],A=a.TOKEN_PROGRAM_ID){const E=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}],p,S),w=dist$1.Buffer.alloc(e.burnInstructionData.span);return e.burnInstructionData.encode({instruction:l.TokenInstruction.Burn,amount:BigInt(_)},w),new r.TransactionInstruction({keys:E,programId:A,data:w})}e.createBurnInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.burnInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:p,mint:_,owner:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.Burn)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{account:p,mint:_,owner:S,multiSigners:A},data:E}}e.decodeBurnInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{account:m,mint:p,owner:_,multiSigners:S},data:e.burnInstructionData.decode(A)}}e.decodeBurnInstructionUnchecked=u})(burn$1);var __awaiter$G=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(burn$2,"__esModule",{value:!0});burn$2.burn=void 0;const web3_js_1$H=require$$0$1,constants_js_1$v=constants$3,burn_js_1$1=burn$1,internal_js_1$h=internal;function burn(e,t,n,r,a,i,s=[],l,b=constants_js_1$v.TOKEN_PROGRAM_ID){return __awaiter$G(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$h.getSigners)(a,s),d=new web3_js_1$H.Transaction().add((0,burn_js_1$1.createBurnInstruction)(n,r,f,i,s,b));return yield(0,web3_js_1$H.sendAndConfirmTransaction)(e,d,[t,...u],l)})}burn$2.burn=burn;var burnChecked$2={},burnChecked$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnCheckedInstructionUnchecked=e.decodeBurnCheckedInstruction=e.createBurnCheckedInstruction=e.burnCheckedInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.burnCheckedInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount"),(0,t.u8)("decimals")]);function b(d,m,p,_,S,A=[],E=a.TOKEN_PROGRAM_ID){const w=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}],p,A),M=dist$1.Buffer.alloc(e.burnCheckedInstructionData.span);return e.burnCheckedInstructionData.encode({instruction:l.TokenInstruction.BurnChecked,amount:BigInt(_),decimals:S},M),new r.TransactionInstruction({keys:w,programId:E,data:M})}e.createBurnCheckedInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.burnCheckedInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:p,mint:_,owner:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.BurnChecked)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{account:p,mint:_,owner:S,multiSigners:A},data:E}}e.decodeBurnCheckedInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{account:m,mint:p,owner:_,multiSigners:S},data:e.burnCheckedInstructionData.decode(A)}}e.decodeBurnCheckedInstructionUnchecked=u})(burnChecked$1);var __awaiter$F=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(burnChecked$2,"__esModule",{value:!0});burnChecked$2.burnChecked=void 0;const web3_js_1$G=require$$0$1,constants_js_1$u=constants$3,burnChecked_js_1$1=burnChecked$1,internal_js_1$g=internal;function burnChecked(e,t,n,r,a,i,s,l=[],b,f=constants_js_1$u.TOKEN_PROGRAM_ID){return __awaiter$F(this,void 0,void 0,function*(){const[u,d]=(0,internal_js_1$g.getSigners)(a,l),m=new web3_js_1$G.Transaction().add((0,burnChecked_js_1$1.createBurnCheckedInstruction)(n,r,u,i,s,l,f));return yield(0,web3_js_1$G.sendAndConfirmTransaction)(e,m,[t,...d],b)})}burnChecked$2.burnChecked=burnChecked;var closeAccount$2={},closeAccount$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeCloseAccountInstructionUnchecked=e.decodeCloseAccountInstruction=e.createCloseAccountInstruction=e.closeAccountInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;e.closeAccountInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function l(u,d,m,p=[],_=r.TOKEN_PROGRAM_ID){const S=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0}],m,p),A=dist$1.Buffer.alloc(e.closeAccountInstructionData.span);return e.closeAccountInstructionData.encode({instruction:s.TokenInstruction.CloseAccount},A),new n.TransactionInstruction({keys:S,programId:_,data:A})}e.createCloseAccountInstruction=l;function b(u,d=r.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new a.TokenInvalidInstructionProgramError;if(u.data.length!==e.closeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:m,destination:p,authority:_,multiSigners:S},data:A}=f(u);if(A.instruction!==s.TokenInstruction.CloseAccount)throw new a.TokenInvalidInstructionTypeError;if(!m||!p||!_)throw new a.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,destination:p,authority:_,multiSigners:S},data:A}}e.decodeCloseAccountInstruction=b;function f({programId:u,keys:[d,m,p,..._],data:S}){return{programId:u,keys:{account:d,destination:m,authority:p,multiSigners:_},data:e.closeAccountInstructionData.decode(S)}}e.decodeCloseAccountInstructionUnchecked=f})(closeAccount$1);var __awaiter$E=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(closeAccount$2,"__esModule",{value:!0});closeAccount$2.closeAccount=void 0;const web3_js_1$F=require$$0$1,constants_js_1$t=constants$3,closeAccount_js_1$1=closeAccount$1,internal_js_1$f=internal;function closeAccount(e,t,n,r,a,i=[],s,l=constants_js_1$t.TOKEN_PROGRAM_ID){return __awaiter$E(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$f.getSigners)(a,i),u=new web3_js_1$F.Transaction().add((0,closeAccount_js_1$1.createCloseAccountInstruction)(n,r,b,i,l));return yield(0,web3_js_1$F.sendAndConfirmTransaction)(e,u,[t,...f],s)})}closeAccount$2.closeAccount=closeAccount;var createAccount$1={},extensionType={},account={},accountType={};Object.defineProperty(accountType,"__esModule",{value:!0});accountType.ACCOUNT_TYPE_SIZE=accountType.AccountType=void 0;var AccountType;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(AccountType||(accountType.AccountType=AccountType={}));accountType.ACCOUNT_TYPE_SIZE=1;var multisig={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,u,d,m){function p(_){return _ instanceof d?_:new d(function(S){S(_)})}return new(d||(d=Promise))(function(_,S){function A(M){try{w(m.next(M))}catch(T){S(T)}}function E(M){try{w(m.throw(M))}catch(T){S(T)}}function w(M){M.done?_(M.value):p(M.value).then(A,E)}w((m=m.apply(f,u||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimumBalanceForRentExemptMultisig=e.unpackMultisig=e.getMultisig=e.MULTISIG_SIZE=e.MultisigLayout=void 0;const n=Layout$2,r=cjs,a=constants$3,i=errors;e.MultisigLayout=(0,n.struct)([(0,n.u8)("m"),(0,n.u8)("n"),(0,r.bool)("isInitialized"),(0,r.publicKey)("signer1"),(0,r.publicKey)("signer2"),(0,r.publicKey)("signer3"),(0,r.publicKey)("signer4"),(0,r.publicKey)("signer5"),(0,r.publicKey)("signer6"),(0,r.publicKey)("signer7"),(0,r.publicKey)("signer8"),(0,r.publicKey)("signer9"),(0,r.publicKey)("signer10"),(0,r.publicKey)("signer11")]),e.MULTISIG_SIZE=e.MultisigLayout.span;function s(f,u,d,m=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const p=yield f.getAccountInfo(u,d);return l(u,p,m)})}e.getMultisig=s;function l(f,u,d=a.TOKEN_PROGRAM_ID){if(!u)throw new i.TokenAccountNotFoundError;if(!u.owner.equals(d))throw new i.TokenInvalidAccountOwnerError;if(u.data.length!=e.MULTISIG_SIZE)throw new i.TokenInvalidAccountSizeError;const m=e.MultisigLayout.decode(u.data);return Object.assign({address:f},m)}e.unpackMultisig=l;function b(f,u){return t(this,void 0,void 0,function*(){return yield f.getMinimumBalanceForRentExemption(e.MULTISIG_SIZE,u)})}e.getMinimumBalanceForRentExemptMultisig=b})(multisig);(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(S,A,E,w){function M(T){return T instanceof E?T:new E(function(v){v(T)})}return new(E||(E=Promise))(function(T,v){function D(k){try{I(w.next(k))}catch($){v($)}}function L(k){try{I(w.throw(k))}catch($){v($)}}function I(k){k.done?T(k.value):M(k.value).then(D,L)}I((w=w.apply(S,A||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.unpackAccount=e.getMinimumBalanceForRentExemptAccountWithExtensions=e.getMinimumBalanceForRentExemptAccount=e.getMultipleAccounts=e.getAccount=e.ACCOUNT_SIZE=e.AccountLayout=e.AccountState=void 0;const n=Layout$2,r=cjs,a=constants$3,i=errors,s=accountType,l=extensionType,b=multisig;var f;(function(S){S[S.Uninitialized=0]="Uninitialized",S[S.Initialized=1]="Initialized",S[S.Frozen=2]="Frozen"})(f||(e.AccountState=f={})),e.AccountLayout=(0,n.struct)([(0,r.publicKey)("mint"),(0,r.publicKey)("owner"),(0,r.u64)("amount"),(0,n.u32)("delegateOption"),(0,r.publicKey)("delegate"),(0,n.u8)("state"),(0,n.u32)("isNativeOption"),(0,r.u64)("isNative"),(0,r.u64)("delegatedAmount"),(0,n.u32)("closeAuthorityOption"),(0,r.publicKey)("closeAuthority")]),e.ACCOUNT_SIZE=e.AccountLayout.span;function u(S,A,E,w=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const M=yield S.getAccountInfo(A,E);return _(A,M,w)})}e.getAccount=u;function d(S,A,E,w=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const M=yield S.getMultipleAccountsInfo(A,E);return A.map((T,v)=>_(T,M[v],w))})}e.getMultipleAccounts=d;function m(S,A){return t(this,void 0,void 0,function*(){return yield p(S,[],A)})}e.getMinimumBalanceForRentExemptAccount=m;function p(S,A,E){return t(this,void 0,void 0,function*(){const w=(0,l.getAccountLen)(A);return yield S.getMinimumBalanceForRentExemption(w,E)})}e.getMinimumBalanceForRentExemptAccountWithExtensions=p;function _(S,A,E=a.TOKEN_PROGRAM_ID){if(!A)throw new i.TokenAccountNotFoundError;if(!A.owner.equals(E))throw new i.TokenInvalidAccountOwnerError;if(A.data.length<e.ACCOUNT_SIZE)throw new i.TokenInvalidAccountSizeError;const w=e.AccountLayout.decode(A.data.slice(0,e.ACCOUNT_SIZE));let M=dist$1.Buffer.alloc(0);if(A.data.length>e.ACCOUNT_SIZE){if(A.data.length===b.MULTISIG_SIZE)throw new i.TokenInvalidAccountSizeError;if(A.data[e.ACCOUNT_SIZE]!=s.AccountType.Account)throw new i.TokenInvalidAccountError;M=A.data.slice(e.ACCOUNT_SIZE+s.ACCOUNT_TYPE_SIZE)}return{address:S,mint:w.mint,owner:w.owner,amount:w.amount,delegate:w.delegateOption?w.delegate:null,delegatedAmount:w.delegatedAmount,isInitialized:w.state!==f.Uninitialized,isFrozen:w.state===f.Frozen,isNative:!!w.isNativeOption,rentExemptReserve:w.isNativeOption?w.isNative:null,closeAuthority:w.closeAuthorityOption?w.closeAuthority:null,tlvData:M}}e.unpackAccount=_})(account);var mint={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(E,w,M,T){function v(D){return D instanceof M?D:new M(function(L){L(D)})}return new(M||(M=Promise))(function(D,L){function I(R){try{$(T.next(R))}catch(O){L(O)}}function k(R){try{$(T.throw(R))}catch(O){L(O)}}function $(R){R.done?D(R.value):v(R.value).then(I,k)}$((T=T.apply(E,w||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getAssociatedTokenAddressSync=e.getAssociatedTokenAddress=e.getMinimumBalanceForRentExemptMintWithExtensions=e.getMinimumBalanceForRentExemptMint=e.unpackMint=e.getMint=e.MINT_SIZE=e.MintLayout=void 0;const n=Layout$2,r=cjs,a=require$$0$1,i=constants$3,s=errors,l=accountType,b=extensionType,f=account,u=multisig;e.MintLayout=(0,n.struct)([(0,n.u32)("mintAuthorityOption"),(0,r.publicKey)("mintAuthority"),(0,r.u64)("supply"),(0,n.u8)("decimals"),(0,r.bool)("isInitialized"),(0,n.u32)("freezeAuthorityOption"),(0,r.publicKey)("freezeAuthority")]),e.MINT_SIZE=e.MintLayout.span;function d(E,w,M,T=i.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const v=yield E.getAccountInfo(w,M);return m(w,v,T)})}e.getMint=d;function m(E,w,M=i.TOKEN_PROGRAM_ID){if(!w)throw new s.TokenAccountNotFoundError;if(!w.owner.equals(M))throw new s.TokenInvalidAccountOwnerError;if(w.data.length<e.MINT_SIZE)throw new s.TokenInvalidAccountSizeError;const T=e.MintLayout.decode(w.data.slice(0,e.MINT_SIZE));let v=dist$1.Buffer.alloc(0);if(w.data.length>e.MINT_SIZE){if(w.data.length<=f.ACCOUNT_SIZE)throw new s.TokenInvalidAccountSizeError;if(w.data.length===u.MULTISIG_SIZE)throw new s.TokenInvalidAccountSizeError;if(w.data[f.ACCOUNT_SIZE]!=l.AccountType.Mint)throw new s.TokenInvalidMintError;v=w.data.slice(f.ACCOUNT_SIZE+l.ACCOUNT_TYPE_SIZE)}return{address:E,mintAuthority:T.mintAuthorityOption?T.mintAuthority:null,supply:T.supply,decimals:T.decimals,isInitialized:T.isInitialized,freezeAuthority:T.freezeAuthorityOption?T.freezeAuthority:null,tlvData:v}}e.unpackMint=m;function p(E,w){return t(this,void 0,void 0,function*(){return yield _(E,[],w)})}e.getMinimumBalanceForRentExemptMint=p;function _(E,w,M){return t(this,void 0,void 0,function*(){const T=(0,b.getMintLen)(w);return yield E.getMinimumBalanceForRentExemption(T,M)})}e.getMinimumBalanceForRentExemptMintWithExtensions=_;function S(E,w,M=!1,T=i.TOKEN_PROGRAM_ID,v=i.ASSOCIATED_TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){if(!M&&!a.PublicKey.isOnCurve(w.toBuffer()))throw new s.TokenOwnerOffCurveError;const[D]=yield a.PublicKey.findProgramAddress([w.toBuffer(),T.toBuffer(),E.toBuffer()],v);return D})}e.getAssociatedTokenAddress=S;function A(E,w,M=!1,T=i.TOKEN_PROGRAM_ID,v=i.ASSOCIATED_TOKEN_PROGRAM_ID){if(!M&&!a.PublicKey.isOnCurve(w.toBuffer()))throw new s.TokenOwnerOffCurveError;const[D]=a.PublicKey.findProgramAddressSync([w.toBuffer(),T.toBuffer(),E.toBuffer()],v);return D}e.getAssociatedTokenAddressSync=A})(mint);var cpiGuard={},actions$5={},instructions$7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableCpiGuardInstruction=e.createEnableCpiGuardInstruction=e.cpiGuardInstructionData=e.CpiGuardInstruction=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;var l;(function(d){d[d.Enable=0]="Enable",d[d.Disable=1]="Disable"})(l||(e.CpiGuardInstruction=l={})),e.cpiGuardInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("cpiGuardInstruction")]);function b(d,m,p=[],_=r.TOKEN_2022_PROGRAM_ID){return u(l.Enable,d,m,p,_)}e.createEnableCpiGuardInstruction=b;function f(d,m,p=[],_=r.TOKEN_2022_PROGRAM_ID){return u(l.Disable,d,m,p,_)}e.createDisableCpiGuardInstruction=f;function u(d,m,p,_,S){if(!(0,r.programSupportsExtensions)(S))throw new a.TokenUnsupportedInstructionError;const A=(0,i.addSigners)([{pubkey:m,isSigner:!1,isWritable:!0}],p,_),E=dist$1.Buffer.alloc(e.cpiGuardInstructionData.span);return e.cpiGuardInstructionData.encode({instruction:s.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:d},E),new n.TransactionInstruction({keys:A,programId:S,data:E})}})(instructions$7);var __awaiter$D=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions$5,"__esModule",{value:!0});actions$5.disableCpiGuard=actions$5.enableCpiGuard=void 0;const web3_js_1$E=require$$0$1,internal_js_1$e=internal,constants_js_1$s=constants$3,instructions_js_1$5=instructions$7;function enableCpiGuard(e,t,n,r,a=[],i,s=constants_js_1$s.TOKEN_2022_PROGRAM_ID){return __awaiter$D(this,void 0,void 0,function*(){const[l,b]=(0,internal_js_1$e.getSigners)(r,a),f=new web3_js_1$E.Transaction().add((0,instructions_js_1$5.createEnableCpiGuardInstruction)(n,l,b,s));return yield(0,web3_js_1$E.sendAndConfirmTransaction)(e,f,[t,...b],i)})}actions$5.enableCpiGuard=enableCpiGuard;function disableCpiGuard(e,t,n,r,a=[],i,s=constants_js_1$s.TOKEN_2022_PROGRAM_ID){return __awaiter$D(this,void 0,void 0,function*(){const[l,b]=(0,internal_js_1$e.getSigners)(r,a),f=new web3_js_1$E.Transaction().add((0,instructions_js_1$5.createDisableCpiGuardInstruction)(n,l,b,s));return yield(0,web3_js_1$E.sendAndConfirmTransaction)(e,f,[t,...b],i)})}actions$5.disableCpiGuard=disableCpiGuard;var state$7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCpiGuard=e.CPI_GUARD_SIZE=e.CpiGuardLayout=void 0;const t=Layout$2,n=cjs,r=extensionType;e.CpiGuardLayout=(0,t.struct)([(0,n.bool)("lockCpi")]),e.CPI_GUARD_SIZE=e.CpiGuardLayout.span;function a(i){const s=(0,r.getExtensionData)(r.ExtensionType.CpiGuard,i.tlvData);return s!==null?e.CpiGuardLayout.decode(s):null}e.getCpiGuard=a})(state$7);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$5,e),n(instructions$7,e),n(state$7,e)})(cpiGuard);var defaultAccountState={},actions$4={},instructions$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateDefaultAccountStateInstruction=e.createInitializeDefaultAccountStateInstruction=e.defaultAccountStateInstructionData=e.DefaultAccountStateInstruction=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;var l;(function(u){u[u.Initialize=0]="Initialize",u[u.Update=1]="Update"})(l||(e.DefaultAccountStateInstruction=l={})),e.defaultAccountStateInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("defaultAccountStateInstruction"),(0,t.u8)("accountState")]);function b(u,d,m=r.TOKEN_2022_PROGRAM_ID){if(!(0,r.programSupportsExtensions)(m))throw new a.TokenUnsupportedInstructionError;const p=[{pubkey:u,isSigner:!1,isWritable:!0}],_=dist$1.Buffer.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:s.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:l.Initialize,accountState:d},_),new n.TransactionInstruction({keys:p,programId:m,data:_})}e.createInitializeDefaultAccountStateInstruction=b;function f(u,d,m,p=[],_=r.TOKEN_2022_PROGRAM_ID){if(!(0,r.programSupportsExtensions)(_))throw new a.TokenUnsupportedInstructionError;const S=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0}],m,p),A=dist$1.Buffer.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:s.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:l.Update,accountState:d},A),new n.TransactionInstruction({keys:S,programId:_,data:A})}e.createUpdateDefaultAccountStateInstruction=f})(instructions$6);var __awaiter$C=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions$4,"__esModule",{value:!0});actions$4.updateDefaultAccountState=actions$4.initializeDefaultAccountState=void 0;const web3_js_1$D=require$$0$1,internal_js_1$d=internal,constants_js_1$r=constants$3,instructions_js_1$4=instructions$6;function initializeDefaultAccountState(e,t,n,r,a,i=constants_js_1$r.TOKEN_2022_PROGRAM_ID){return __awaiter$C(this,void 0,void 0,function*(){const s=new web3_js_1$D.Transaction().add((0,instructions_js_1$4.createInitializeDefaultAccountStateInstruction)(n,r,i));return yield(0,web3_js_1$D.sendAndConfirmTransaction)(e,s,[t],a)})}actions$4.initializeDefaultAccountState=initializeDefaultAccountState;function updateDefaultAccountState(e,t,n,r,a,i=[],s,l=constants_js_1$r.TOKEN_2022_PROGRAM_ID){return __awaiter$C(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$d.getSigners)(a,i),u=new web3_js_1$D.Transaction().add((0,instructions_js_1$4.createUpdateDefaultAccountStateInstruction)(n,r,b,f,l));return yield(0,web3_js_1$D.sendAndConfirmTransaction)(e,u,[t,...f],s)})}actions$4.updateDefaultAccountState=updateDefaultAccountState;var state$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultAccountState=e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout=void 0;const t=Layout$2,n=extensionType;e.DefaultAccountStateLayout=(0,t.struct)([(0,t.u8)("state")]),e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout.span;function r(a){const i=(0,n.getExtensionData)(n.ExtensionType.DefaultAccountState,a.tlvData);return i!==null?e.DefaultAccountStateLayout.decode(i):null}e.getDefaultAccountState=r})(state$6);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$4,e),n(instructions$6,e),n(state$6,e)})(defaultAccountState);var immutableOwner={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getImmutableOwner=e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout=void 0;const t=Layout$2,n=extensionType;e.ImmutableOwnerLayout=(0,t.struct)([]),e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout.span;function r(a){const i=(0,n.getExtensionData)(n.ExtensionType.ImmutableOwner,a.tlvData);return i!==null?e.ImmutableOwnerLayout.decode(i):null}e.getImmutableOwner=r})(immutableOwner);var state$5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getInterestBearingMintConfigState=e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout=void 0;const t=Layout$2,n=cjs,r=extensionType;e.InterestBearingMintConfigStateLayout=(0,t.struct)([(0,n.publicKey)("rateAuthority"),(0,t.ns64)("initializationTimestamp"),(0,t.s16)("preUpdateAverageRate"),(0,t.ns64)("lastUpdateTimestamp"),(0,t.s16)("currentRate")]),e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout.span;function a(i){const s=(0,r.getExtensionData)(r.ExtensionType.InterestBearingConfig,i.tlvData);return s!==null?e.InterestBearingMintConfigStateLayout.decode(s):null}e.getInterestBearingMintConfigState=a})(state$5);var memoTransfer={},actions$3={},instructions$5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableRequiredMemoTransfersInstruction=e.createEnableRequiredMemoTransfersInstruction=e.memoTransferInstructionData=e.MemoTransferInstruction=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;var l;(function(d){d[d.Enable=0]="Enable",d[d.Disable=1]="Disable"})(l||(e.MemoTransferInstruction=l={})),e.memoTransferInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("memoTransferInstruction")]);function b(d,m,p=[],_=r.TOKEN_2022_PROGRAM_ID){return u(l.Enable,d,m,p,_)}e.createEnableRequiredMemoTransfersInstruction=b;function f(d,m,p=[],_=r.TOKEN_2022_PROGRAM_ID){return u(l.Disable,d,m,p,_)}e.createDisableRequiredMemoTransfersInstruction=f;function u(d,m,p,_,S){if(!(0,r.programSupportsExtensions)(S))throw new a.TokenUnsupportedInstructionError;const A=(0,i.addSigners)([{pubkey:m,isSigner:!1,isWritable:!0}],p,_),E=dist$1.Buffer.alloc(e.memoTransferInstructionData.span);return e.memoTransferInstructionData.encode({instruction:s.TokenInstruction.MemoTransferExtension,memoTransferInstruction:d},E),new n.TransactionInstruction({keys:A,programId:S,data:E})}})(instructions$5);var __awaiter$B=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions$3,"__esModule",{value:!0});actions$3.disableRequiredMemoTransfers=actions$3.enableRequiredMemoTransfers=void 0;const web3_js_1$C=require$$0$1,internal_js_1$c=internal,constants_js_1$q=constants$3,instructions_js_1$3=instructions$5;function enableRequiredMemoTransfers(e,t,n,r,a=[],i,s=constants_js_1$q.TOKEN_2022_PROGRAM_ID){return __awaiter$B(this,void 0,void 0,function*(){const[l,b]=(0,internal_js_1$c.getSigners)(r,a),f=new web3_js_1$C.Transaction().add((0,instructions_js_1$3.createEnableRequiredMemoTransfersInstruction)(n,l,b,s));return yield(0,web3_js_1$C.sendAndConfirmTransaction)(e,f,[t,...b],i)})}actions$3.enableRequiredMemoTransfers=enableRequiredMemoTransfers;function disableRequiredMemoTransfers(e,t,n,r,a=[],i,s=constants_js_1$q.TOKEN_2022_PROGRAM_ID){return __awaiter$B(this,void 0,void 0,function*(){const[l,b]=(0,internal_js_1$c.getSigners)(r,a),f=new web3_js_1$C.Transaction().add((0,instructions_js_1$3.createDisableRequiredMemoTransfersInstruction)(n,l,b,s));return yield(0,web3_js_1$C.sendAndConfirmTransaction)(e,f,[t,...b],i)})}actions$3.disableRequiredMemoTransfers=disableRequiredMemoTransfers;var state$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMemoTransfer=e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout=void 0;const t=Layout$2,n=cjs,r=extensionType;e.MemoTransferLayout=(0,t.struct)([(0,n.bool)("requireIncomingTransferMemos")]),e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout.span;function a(i){const s=(0,r.getExtensionData)(r.ExtensionType.MemoTransfer,i.tlvData);return s!==null?e.MemoTransferLayout.decode(s):null}e.getMemoTransfer=a})(state$4);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$3,e),n(instructions$5,e),n(state$4,e)})(memoTransfer);var state$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMetadataPointerState=e.METADATA_POINTER_SIZE=e.MetadataPointerLayout=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=extensionType;e.MetadataPointerLayout=(0,t.struct)([(0,n.publicKey)("authority"),(0,n.publicKey)("metadataAddress")]),e.METADATA_POINTER_SIZE=e.MetadataPointerLayout.span;function i(s){const l=(0,a.getExtensionData)(a.ExtensionType.MetadataPointer,s.tlvData);if(l!==null){const{authority:b,metadataAddress:f}=e.MetadataPointerLayout.decode(l);return{authority:b.equals(r.PublicKey.default)?null:b,metadataAddress:f.equals(r.PublicKey.default)?null:f}}else return null}e.getMetadataPointerState=i})(state$3);var mintCloseAuthority={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMintCloseAuthority=e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout=void 0;const t=Layout$2,n=cjs,r=extensionType;e.MintCloseAuthorityLayout=(0,t.struct)([(0,n.publicKey)("closeAuthority")]),e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout.span;function a(i){const s=(0,r.getExtensionData)(r.ExtensionType.MintCloseAuthority,i.tlvData);return s!==null?e.MintCloseAuthorityLayout.decode(s):null}e.getMintCloseAuthority=a})(mintCloseAuthority);var nonTransferable={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNonTransferableAccount=e.getNonTransferable=e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout=void 0;const t=Layout$2,n=extensionType;e.NonTransferableLayout=(0,t.struct)([]),e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout.span,e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NonTransferableLayout.span;function r(i){const s=(0,n.getExtensionData)(n.ExtensionType.NonTransferable,i.tlvData);return s!==null?e.NonTransferableLayout.decode(s):null}e.getNonTransferable=r;function a(i){const s=(0,n.getExtensionData)(n.ExtensionType.NonTransferableAccount,i.tlvData);return s!==null?e.NonTransferableLayout.decode(s):null}e.getNonTransferableAccount=a})(nonTransferable);var permanentDelegate={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPermanentDelegate=e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout=void 0;const t=Layout$2,n=cjs,r=extensionType;e.PermanentDelegateLayout=(0,t.struct)([(0,n.publicKey)("delegate")]),e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout.span;function a(i){const s=(0,r.getExtensionData)(r.ExtensionType.PermanentDelegate,i.tlvData);return s!==null?e.PermanentDelegateLayout.decode(s):null}e.getPermanentDelegate=a})(permanentDelegate);var transferFee={},actions$2={},instructions$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHarvestWithheldTokensToMintInstructionUnchecked=e.decodeHarvestWithheldTokensToMintInstruction=e.createHarvestWithheldTokensToMintInstruction=e.harvestWithheldTokensToMintInstructionData=e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=e.decodeWithdrawWithheldTokensFromAccountsInstruction=e.createWithdrawWithheldTokensFromAccountsInstruction=e.withdrawWithheldTokensFromAccountsInstructionData=e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=e.decodeWithdrawWithheldTokensFromMintInstruction=e.createWithdrawWithheldTokensFromMintInstruction=e.withdrawWithheldTokensFromMintInstructionData=e.decodeTransferCheckedWithFeeInstructionUnchecked=e.decodeTransferCheckedWithFeeInstruction=e.createTransferCheckedWithFeeInstruction=e.transferCheckedWithFeeInstructionData=e.decodeInitializeTransferFeeConfigInstructionUnchecked=e.decodeInitializeTransferFeeConfigInstruction=e.createInitializeTransferFeeConfigInstruction=e.initializeTransferFeeConfigInstructionData=e.TransferFeeInstruction=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;var b;(function(I){I[I.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",I[I.TransferCheckedWithFee=1]="TransferCheckedWithFee",I[I.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",I[I.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",I[I.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",I[I.SetTransferFee=5]="SetTransferFee"})(b||(e.TransferFeeInstruction=b={})),e.initializeTransferFeeConfigInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("transferFeeInstruction"),(0,t.u8)("transferFeeConfigAuthorityOption"),(0,n.publicKey)("transferFeeConfigAuthority"),(0,t.u8)("withdrawWithheldAuthorityOption"),(0,n.publicKey)("withdrawWithheldAuthority"),(0,t.u16)("transferFeeBasisPoints"),(0,n.u64)("maximumFee")]);function f(I,k,$,R,O,j=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(j))throw new i.TokenUnsupportedInstructionError;const C=[{pubkey:I,isSigner:!1,isWritable:!0}],N=dist$1.Buffer.alloc(e.initializeTransferFeeConfigInstructionData.span);return e.initializeTransferFeeConfigInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:b.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:k?1:0,transferFeeConfigAuthority:k||new r.PublicKey(0),withdrawWithheldAuthorityOption:$?1:0,withdrawWithheldAuthority:$||new r.PublicKey(0),transferFeeBasisPoints:R,maximumFee:O},N),new r.TransactionInstruction({keys:C,programId:j,data:N})}e.createInitializeTransferFeeConfigInstruction=f;function u(I,k){if(!I.programId.equals(k))throw new i.TokenInvalidInstructionProgramError;if(I.data.length!==e.initializeTransferFeeConfigInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:$},data:R}=d(I);if(R.instruction!==l.TokenInstruction.TransferFeeExtension||R.transferFeeInstruction!==b.InitializeTransferFeeConfig)throw new i.TokenInvalidInstructionTypeError;if(!$)throw new i.TokenInvalidInstructionKeysError;return{programId:k,keys:{mint:$},data:R}}e.decodeInitializeTransferFeeConfigInstruction=u;function d({programId:I,keys:[k],data:$}){const{instruction:R,transferFeeInstruction:O,transferFeeConfigAuthorityOption:j,transferFeeConfigAuthority:C,withdrawWithheldAuthorityOption:N,withdrawWithheldAuthority:U,transferFeeBasisPoints:z,maximumFee:q}=e.initializeTransferFeeConfigInstructionData.decode($);return{programId:I,keys:{mint:k},data:{instruction:R,transferFeeInstruction:O,transferFeeConfigAuthority:j?C:null,withdrawWithheldAuthority:N?U:null,transferFeeBasisPoints:z,maximumFee:q}}}e.decodeInitializeTransferFeeConfigInstructionUnchecked=d,e.transferCheckedWithFeeInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("transferFeeInstruction"),(0,n.u64)("amount"),(0,t.u8)("decimals"),(0,n.u64)("fee")]);function m(I,k,$,R,O,j,C,N=[],U=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(U))throw new i.TokenUnsupportedInstructionError;const z=dist$1.Buffer.alloc(e.transferCheckedWithFeeInstructionData.span);e.transferCheckedWithFeeInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:b.TransferCheckedWithFee,amount:O,decimals:j,fee:C},z);const q=(0,s.addSigners)([{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!0}],R,N);return new r.TransactionInstruction({keys:q,programId:U,data:z})}e.createTransferCheckedWithFeeInstruction=m;function p(I,k){if(!I.programId.equals(k))throw new i.TokenInvalidInstructionProgramError;if(I.data.length!==e.transferCheckedWithFeeInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{source:$,mint:R,destination:O,authority:j,signers:C},data:N}=_(I);if(N.instruction!==l.TokenInstruction.TransferFeeExtension||N.transferFeeInstruction!==b.TransferCheckedWithFee)throw new i.TokenInvalidInstructionTypeError;if(!R)throw new i.TokenInvalidInstructionKeysError;return{programId:k,keys:{source:$,mint:R,destination:O,authority:j,signers:C||null},data:N}}e.decodeTransferCheckedWithFeeInstruction=p;function _({programId:I,keys:[k,$,R,O,...j],data:C}){const{instruction:N,transferFeeInstruction:U,amount:z,decimals:q,fee:Z}=e.transferCheckedWithFeeInstructionData.decode(C);return{programId:I,keys:{source:k,mint:$,destination:R,authority:O,signers:j},data:{instruction:N,transferFeeInstruction:U,amount:z,decimals:q,fee:Z}}}e.decodeTransferCheckedWithFeeInstructionUnchecked=_,e.withdrawWithheldTokensFromMintInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("transferFeeInstruction")]);function S(I,k,$,R=[],O=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(O))throw new i.TokenUnsupportedInstructionError;const j=dist$1.Buffer.alloc(e.withdrawWithheldTokensFromMintInstructionData.span);e.withdrawWithheldTokensFromMintInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:b.WithdrawWithheldTokensFromMint},j);const C=(0,s.addSigners)([{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0}],$,R);return new r.TransactionInstruction({keys:C,programId:O,data:j})}e.createWithdrawWithheldTokensFromMintInstruction=S;function A(I,k){if(!I.programId.equals(k))throw new i.TokenInvalidInstructionProgramError;if(I.data.length!==e.withdrawWithheldTokensFromMintInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:$,destination:R,authority:O,signers:j},data:C}=E(I);if(C.instruction!==l.TokenInstruction.TransferFeeExtension||C.transferFeeInstruction!==b.WithdrawWithheldTokensFromMint)throw new i.TokenInvalidInstructionTypeError;if(!$)throw new i.TokenInvalidInstructionKeysError;return{programId:k,keys:{mint:$,destination:R,authority:O,signers:j||null},data:C}}e.decodeWithdrawWithheldTokensFromMintInstruction=A;function E({programId:I,keys:[k,$,R,...O],data:j}){const{instruction:C,transferFeeInstruction:N}=e.withdrawWithheldTokensFromMintInstructionData.decode(j);return{programId:I,keys:{mint:k,destination:$,authority:R,signers:O},data:{instruction:C,transferFeeInstruction:N}}}e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=E,e.withdrawWithheldTokensFromAccountsInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("transferFeeInstruction"),(0,t.u8)("numTokenAccounts")]);function w(I,k,$,R,O,j=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(j))throw new i.TokenUnsupportedInstructionError;const C=dist$1.Buffer.alloc(e.withdrawWithheldTokensFromAccountsInstructionData.span);e.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:b.WithdrawWithheldTokensFromAccounts,numTokenAccounts:O.length},C);const N=(0,s.addSigners)([{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0}],$,R);for(const U of O)N.push({pubkey:U,isSigner:!1,isWritable:!0});return new r.TransactionInstruction({keys:N,programId:j,data:C})}e.createWithdrawWithheldTokensFromAccountsInstruction=w;function M(I,k){if(!I.programId.equals(k))throw new i.TokenInvalidInstructionProgramError;if(I.data.length!==e.withdrawWithheldTokensFromAccountsInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:$,destination:R,authority:O,signers:j,sources:C},data:N}=T(I);if(N.instruction!==l.TokenInstruction.TransferFeeExtension||N.transferFeeInstruction!==b.WithdrawWithheldTokensFromAccounts)throw new i.TokenInvalidInstructionTypeError;if(!$)throw new i.TokenInvalidInstructionKeysError;return{programId:k,keys:{mint:$,destination:R,authority:O,signers:j||null,sources:C||null},data:N}}e.decodeWithdrawWithheldTokensFromAccountsInstruction=M;function T({programId:I,keys:k,data:$}){const{instruction:R,transferFeeInstruction:O,numTokenAccounts:j}=e.withdrawWithheldTokensFromAccountsInstructionData.decode($),[C,N,U,z,q]=[k[0],k[1],k[2],k.slice(3,3+j),k.slice(-1*j)];return{programId:I,keys:{mint:C,destination:N,authority:U,signers:z,sources:q},data:{instruction:R,transferFeeInstruction:O,numTokenAccounts:j}}}e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=T,e.harvestWithheldTokensToMintInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("transferFeeInstruction")]);function v(I,k,$=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)($))throw new i.TokenUnsupportedInstructionError;const R=dist$1.Buffer.alloc(e.harvestWithheldTokensToMintInstructionData.span);e.harvestWithheldTokensToMintInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:b.HarvestWithheldTokensToMint},R);const O=[];O.push({pubkey:I,isSigner:!1,isWritable:!0});for(const j of k)O.push({pubkey:j,isSigner:!1,isWritable:!0});return new r.TransactionInstruction({keys:O,programId:$,data:R})}e.createHarvestWithheldTokensToMintInstruction=v;function D(I,k){if(!I.programId.equals(k))throw new i.TokenInvalidInstructionProgramError;if(I.data.length!==e.harvestWithheldTokensToMintInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:$,sources:R},data:O}=L(I);if(O.instruction!==l.TokenInstruction.TransferFeeExtension||O.transferFeeInstruction!==b.HarvestWithheldTokensToMint)throw new i.TokenInvalidInstructionTypeError;if(!$)throw new i.TokenInvalidInstructionKeysError;return{programId:k,keys:{mint:$,sources:R},data:O}}e.decodeHarvestWithheldTokensToMintInstruction=D;function L({programId:I,keys:[k,...$],data:R}){const{instruction:O,transferFeeInstruction:j}=e.harvestWithheldTokensToMintInstructionData.decode(R);return{programId:I,keys:{mint:k,sources:$},data:{instruction:O,transferFeeInstruction:j}}}e.decodeHarvestWithheldTokensToMintInstructionUnchecked=L})(instructions$4);var __awaiter$A=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions$2,"__esModule",{value:!0});actions$2.harvestWithheldTokensToMint=actions$2.withdrawWithheldTokensFromAccounts=actions$2.withdrawWithheldTokensFromMint=actions$2.transferCheckedWithFee=void 0;const web3_js_1$B=require$$0$1,internal_js_1$b=internal,constants_js_1$p=constants$3,instructions_js_1$2=instructions$4;function transferCheckedWithFee(e,t,n,r,a,i,s,l,b,f=[],u,d=constants_js_1$p.TOKEN_2022_PROGRAM_ID){return __awaiter$A(this,void 0,void 0,function*(){const[m,p]=(0,internal_js_1$b.getSigners)(i,f),_=new web3_js_1$B.Transaction().add((0,instructions_js_1$2.createTransferCheckedWithFeeInstruction)(n,r,a,m,s,l,b,f,d));return yield(0,web3_js_1$B.sendAndConfirmTransaction)(e,_,[t,...p],u)})}actions$2.transferCheckedWithFee=transferCheckedWithFee;function withdrawWithheldTokensFromMint(e,t,n,r,a,i=[],s,l=constants_js_1$p.TOKEN_2022_PROGRAM_ID){return __awaiter$A(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$b.getSigners)(a,i),u=new web3_js_1$B.Transaction().add((0,instructions_js_1$2.createWithdrawWithheldTokensFromMintInstruction)(n,r,b,f,l));return yield(0,web3_js_1$B.sendAndConfirmTransaction)(e,u,[t,...f],s)})}actions$2.withdrawWithheldTokensFromMint=withdrawWithheldTokensFromMint;function withdrawWithheldTokensFromAccounts(e,t,n,r,a,i,s,l,b=constants_js_1$p.TOKEN_2022_PROGRAM_ID){return __awaiter$A(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$b.getSigners)(a,i),d=new web3_js_1$B.Transaction().add((0,instructions_js_1$2.createWithdrawWithheldTokensFromAccountsInstruction)(n,r,f,u,s,b));return yield(0,web3_js_1$B.sendAndConfirmTransaction)(e,d,[t,...u],l)})}actions$2.withdrawWithheldTokensFromAccounts=withdrawWithheldTokensFromAccounts;function harvestWithheldTokensToMint(e,t,n,r,a,i=constants_js_1$p.TOKEN_2022_PROGRAM_ID){return __awaiter$A(this,void 0,void 0,function*(){const s=new web3_js_1$B.Transaction().add((0,instructions_js_1$2.createHarvestWithheldTokensToMintInstruction)(n,r,i));return yield(0,web3_js_1$B.sendAndConfirmTransaction)(e,s,[t],a)})}actions$2.harvestWithheldTokensToMint=harvestWithheldTokensToMint;var state$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransferFeeAmount=e.getTransferFeeConfig=e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout=e.calculateEpochFee=e.getEpochFee=e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout=e.calculateFee=e.transferFeeLayout=e.ONE_IN_BASIS_POINTS=e.MAX_FEE_BASIS_POINTS=void 0;const t=Layout$2,n=cjs,r=extensionType;e.MAX_FEE_BASIS_POINTS=1e4,e.ONE_IN_BASIS_POINTS=BigInt(e.MAX_FEE_BASIS_POINTS);function a(u){return(0,t.struct)([(0,n.u64)("epoch"),(0,n.u64)("maximumFee"),(0,t.u16)("transferFeeBasisPoints")],u)}e.transferFeeLayout=a;function i(u,d){const m=u.transferFeeBasisPoints;if(m===0||d===BigInt(0))return BigInt(0);{const _=(d*BigInt(m)+e.ONE_IN_BASIS_POINTS-BigInt(1))/e.ONE_IN_BASIS_POINTS,S=_>u.maximumFee?u.maximumFee:_;return BigInt(S)}}e.calculateFee=i,e.TransferFeeConfigLayout=(0,t.struct)([(0,n.publicKey)("transferFeeConfigAuthority"),(0,n.publicKey)("withdrawWithheldAuthority"),(0,n.u64)("withheldAmount"),a("olderTransferFee"),a("newerTransferFee")]),e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout.span;function s(u,d){return d>=u.newerTransferFee.epoch?u.newerTransferFee:u.olderTransferFee}e.getEpochFee=s;function l(u,d,m){const p=s(u,d);return i(p,m)}e.calculateEpochFee=l,e.TransferFeeAmountLayout=(0,t.struct)([(0,n.u64)("withheldAmount")]),e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout.span;function b(u){const d=(0,r.getExtensionData)(r.ExtensionType.TransferFeeConfig,u.tlvData);return d!==null?e.TransferFeeConfigLayout.decode(d):null}e.getTransferFeeConfig=b;function f(u){const d=(0,r.getExtensionData)(r.ExtensionType.TransferFeeAmount,u.tlvData);return d!==null?e.TransferFeeAmountLayout.decode(d):null}e.getTransferFeeAmount=f})(state$2);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$2,e),n(instructions$4,e),n(state$2,e)})(transferFee);var transferHook={},actions$1={},instructions$3={},transferChecked$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferCheckedInstructionUnchecked=e.decodeTransferCheckedInstruction=e.createTransferCheckedInstruction=e.transferCheckedInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.transferCheckedInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount"),(0,t.u8)("decimals")]);function b(d,m,p,_,S,A,E=[],w=a.TOKEN_PROGRAM_ID){const M=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0}],_,E),T=dist$1.Buffer.alloc(e.transferCheckedInstructionData.span);return e.transferCheckedInstructionData.encode({instruction:l.TokenInstruction.TransferChecked,amount:BigInt(S),decimals:A},T),new r.TransactionInstruction({keys:M,programId:w,data:T})}e.createTransferCheckedInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.transferCheckedInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{source:p,mint:_,destination:S,owner:A,multiSigners:E},data:w}=u(d);if(w.instruction!==l.TokenInstruction.TransferChecked)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S||!A)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{source:p,mint:_,destination:S,owner:A,multiSigners:E},data:w}}e.decodeTransferCheckedInstruction=f;function u({programId:d,keys:[m,p,_,S,...A],data:E}){return{programId:d,keys:{source:m,mint:p,destination:_,owner:S,multiSigners:A},data:e.transferCheckedInstructionData.decode(E)}}e.decodeTransferCheckedInstructionUnchecked=u})(transferChecked$2);var state$1={},seeds={},__awaiter$z=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.unpackSeeds=void 0;const errors_js_1$4=errors,DISCRIMINATOR_SPAN=1,LITERAL_LENGTH_SPAN=1,INSTRUCTION_ARG_OFFSET_SPAN=1,INSTRUCTION_ARG_LENGTH_SPAN=1,ACCOUNT_KEY_INDEX_SPAN=1,ACCOUNT_DATA_ACCOUNT_INDEX_SPAN=1,ACCOUNT_DATA_OFFSET_SPAN=1,ACCOUNT_DATA_LENGTH_SPAN=1;function unpackSeedLiteral(e){if(e.length<1)throw new errors_js_1$4.TokenTransferHookInvalidSeed;const[t,...n]=e;if(n.length<t)throw new errors_js_1$4.TokenTransferHookInvalidSeed;return{data:dist$1.Buffer.from(n.slice(0,t)),packedLength:DISCRIMINATOR_SPAN+LITERAL_LENGTH_SPAN+t}}function unpackSeedInstructionArg(e,t){if(e.length<2)throw new errors_js_1$4.TokenTransferHookInvalidSeed;const[n,r]=e;if(t.length<r+n)throw new errors_js_1$4.TokenTransferHookInvalidSeed;return{data:t.subarray(n,n+r),packedLength:DISCRIMINATOR_SPAN+INSTRUCTION_ARG_OFFSET_SPAN+INSTRUCTION_ARG_LENGTH_SPAN}}function unpackSeedAccountKey(e,t){if(e.length<1)throw new errors_js_1$4.TokenTransferHookInvalidSeed;const[n]=e;if(t.length<=n)throw new errors_js_1$4.TokenTransferHookInvalidSeed;return{data:t[n].pubkey.toBuffer(),packedLength:DISCRIMINATOR_SPAN+ACCOUNT_KEY_INDEX_SPAN}}function unpackSeedAccountData(e,t,n){return __awaiter$z(this,void 0,void 0,function*(){if(e.length<3)throw new errors_js_1$4.TokenTransferHookInvalidSeed;const[r,a,i]=e;if(t.length<=r)throw new errors_js_1$4.TokenTransferHookInvalidSeed;const s=yield n.getAccountInfo(t[r].pubkey);if(s==null)throw new errors_js_1$4.TokenTransferHookAccountDataNotFound;if(s.data.length<a+i)throw new errors_js_1$4.TokenTransferHookInvalidSeed;return{data:s.data.subarray(a,a+i),packedLength:DISCRIMINATOR_SPAN+ACCOUNT_DATA_ACCOUNT_INDEX_SPAN+ACCOUNT_DATA_OFFSET_SPAN+ACCOUNT_DATA_LENGTH_SPAN}})}function unpackFirstSeed(e,t,n,r){return __awaiter$z(this,void 0,void 0,function*(){const[a,...i]=e,s=new Uint8Array(i);switch(a){case 0:return null;case 1:return unpackSeedLiteral(s);case 2:return unpackSeedInstructionArg(s,n);case 3:return unpackSeedAccountKey(s,t);case 4:return unpackSeedAccountData(s,t,r);default:throw new errors_js_1$4.TokenTransferHookInvalidSeed}})}function unpackSeeds(e,t,n,r){return __awaiter$z(this,void 0,void 0,function*(){const a=[];let i=0;for(;i<32;){const s=yield unpackFirstSeed(e.slice(i),t,n,r);if(s==null)break;a.push(s.data),i+=s.packedLength}return a})}seeds.unpackSeeds=unpackSeeds;(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(p,_,S,A){function E(w){return w instanceof S?w:new S(function(M){M(w)})}return new(S||(S=Promise))(function(w,M){function T(L){try{D(A.next(L))}catch(I){M(I)}}function v(L){try{D(A.throw(L))}catch(I){M(I)}}function D(L){L.done?w(L.value):E(L.value).then(T,v)}D((A=A.apply(p,_||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveExtraAccountMeta=e.getExtraAccountMetas=e.ExtraAccountMetaAccountDataLayout=e.ExtraAccountMetaListLayout=e.ExtraAccountMetaLayout=e.getExtraAccountMetaAddress=e.getTransferHookAccount=e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout=e.getTransferHook=e.TRANSFER_HOOK_SIZE=e.TransferHookLayout=void 0;const n=Layout$2,r=extensionType,a=require$$0$1,i=cjs,s=errors,l=seeds;e.TransferHookLayout=(0,n.struct)([(0,i.publicKey)("authority"),(0,i.publicKey)("programId")]),e.TRANSFER_HOOK_SIZE=e.TransferHookLayout.span;function b(p){const _=(0,r.getExtensionData)(r.ExtensionType.TransferHook,p.tlvData);return _!==null?e.TransferHookLayout.decode(_):null}e.getTransferHook=b,e.TransferHookAccountLayout=(0,n.struct)([(0,i.bool)("transferring")]),e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout.span;function f(p){const _=(0,r.getExtensionData)(r.ExtensionType.TransferHookAccount,p.tlvData);return _!==null?e.TransferHookAccountLayout.decode(_):null}e.getTransferHookAccount=f;function u(p,_){const S=[dist$1.Buffer.from("extra-account-metas"),p.toBuffer()];return a.PublicKey.findProgramAddressSync(S,_)[0]}e.getExtraAccountMetaAddress=u,e.ExtraAccountMetaLayout=(0,n.struct)([(0,n.u8)("discriminator"),(0,n.blob)(32,"addressConfig"),(0,i.bool)("isSigner"),(0,i.bool)("isWritable")]),e.ExtraAccountMetaListLayout=(0,n.struct)([(0,n.u32)("count"),(0,n.seq)(e.ExtraAccountMetaLayout,(0,n.greedy)(e.ExtraAccountMetaLayout.span),"extraAccounts")]),e.ExtraAccountMetaAccountDataLayout=(0,n.struct)([(0,i.u64)("instructionDiscriminator"),(0,n.u32)("length"),e.ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function d(p){const _=e.ExtraAccountMetaAccountDataLayout.decode(p.data).extraAccountsList;return _.extraAccounts.slice(0,_.count)}e.getExtraAccountMetas=d;function m(p,_,S,A,E){return t(this,void 0,void 0,function*(){if(_.discriminator===0)return{pubkey:new a.PublicKey(_.addressConfig),isSigner:_.isSigner,isWritable:_.isWritable};let w=a.PublicKey.default;if(_.discriminator===1)w=E;else{const v=_.discriminator-128;if(S.length<=v)throw new s.TokenTransferHookAccountNotFound;w=S[v].pubkey}const M=yield(0,l.unpackSeeds)(_.addressConfig,S,A,p);return{pubkey:a.PublicKey.findProgramAddressSync(M,w)[0],isSigner:_.isSigner,isWritable:_.isWritable}})}e.resolveExtraAccountMeta=m})(state$1);(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(T,v,D,L){function I(k){return k instanceof D?k:new D(function($){$(k)})}return new(D||(D=Promise))(function(k,$){function R(C){try{j(L.next(C))}catch(N){$(N)}}function O(C){try{j(L.throw(C))}catch(N){$(N)}}function j(C){C.done?k(C.value):I(C.value).then(R,O)}j((L=L.apply(T,v||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.createTransferCheckedWithFeeAndTransferHookInstruction=e.createTransferCheckedWithTransferHookInstruction=e.addExtraAccountsToInstruction=e.createUpdateTransferHookInstruction=e.updateTransferHookInstructionData=e.createInitializeTransferHookInstruction=e.initializeTransferHookInstructionData=e.TransferHookInstruction=void 0;const n=Layout$2,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types,b=cjs,f=transferChecked$2,u=instructions$4,d=mint,m=state$1;var p;(function(T){T[T.Initialize=0]="Initialize",T[T.Update=1]="Update"})(p||(e.TransferHookInstruction=p={})),e.initializeTransferHookInstructionData=(0,n.struct)([(0,n.u8)("instruction"),(0,n.u8)("transferHookInstruction"),(0,b.publicKey)("authority"),(0,b.publicKey)("transferHookProgramId")]);function _(T,v,D,L){if(!(0,a.programSupportsExtensions)(L))throw new i.TokenUnsupportedInstructionError;const I=[{pubkey:T,isSigner:!1,isWritable:!0}],k=dist$1.Buffer.alloc(e.initializeTransferHookInstructionData.span);return e.initializeTransferHookInstructionData.encode({instruction:l.TokenInstruction.TransferHookExtension,transferHookInstruction:p.Initialize,authority:v,transferHookProgramId:D},k),new r.TransactionInstruction({keys:I,programId:L,data:k})}e.createInitializeTransferHookInstruction=_,e.updateTransferHookInstructionData=(0,n.struct)([(0,n.u8)("instruction"),(0,n.u8)("transferHookInstruction"),(0,b.publicKey)("transferHookProgramId")]);function S(T,v,D,L=[],I=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(I))throw new i.TokenUnsupportedInstructionError;const k=(0,s.addSigners)([{pubkey:T,isSigner:!1,isWritable:!0}],v,L),$=dist$1.Buffer.alloc(e.updateTransferHookInstructionData.span);return e.updateTransferHookInstructionData.encode({instruction:l.TokenInstruction.TransferHookExtension,transferHookInstruction:p.Update,transferHookProgramId:D},$),new r.TransactionInstruction({keys:k,programId:I,data:$})}e.createUpdateTransferHookInstruction=S;function A(T,v){const D=v.filter(L=>L.pubkey===T.pubkey).reduce((L,I)=>L?{isSigner:L.isSigner||I.isSigner,isWritable:L.isWritable||I.isWritable}:{isSigner:I.isSigner,isWritable:I.isWritable},void 0);if(D){const{isSigner:L,isWritable:I}=D;!L&&L!==T.isSigner&&(T.isSigner=!1),!I&&I!==T.isWritable&&(T.isWritable=!1)}return T}function E(T,v,D,L,I=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){if(!(0,a.programSupportsExtensions)(I))throw new i.TokenUnsupportedInstructionError;const k=yield(0,d.getMint)(T,D,L,I),$=(0,m.getTransferHook)(k);if($==null)return v;const R=(0,m.getExtraAccountMetaAddress)(D,$.programId),O=yield T.getAccountInfo(R,L);if(O==null)return v;const j=(0,m.getExtraAccountMetas)(O),C=v.keys;for(const N of j){const U=yield(0,m.resolveExtraAccountMeta)(T,N,C,v.data,$.programId),z=A(U,C);C.push(z)}return C.push({pubkey:$.programId,isSigner:!1,isWritable:!1}),C.push({pubkey:R,isSigner:!1,isWritable:!1}),new r.TransactionInstruction({keys:C,programId:I,data:v.data})})}e.addExtraAccountsToInstruction=E;function w(T,v,D,L,I,k,$,R=[],O,j=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const C=(0,f.createTransferCheckedInstruction)(v,D,L,I,k,$,R,j);return yield E(T,C,D,O,j)})}e.createTransferCheckedWithTransferHookInstruction=w;function M(T,v,D,L,I,k,$,R,O=[],j,C=a.TOKEN_PROGRAM_ID){return t(this,void 0,void 0,function*(){const N=(0,u.createTransferCheckedWithFeeInstruction)(v,D,L,I,k,$,R,O,C);return yield E(T,N,D,j,C)})}e.createTransferCheckedWithFeeAndTransferHookInstruction=M})(instructions$3);var __awaiter$y=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions$1,"__esModule",{value:!0});actions$1.transferCheckedWithFeeAndTransferHook=actions$1.transferCheckedWithTransferHook=actions$1.updateTransferHook=actions$1.initializeTransferHook=void 0;const web3_js_1$A=require$$0$1,internal_js_1$a=internal,constants_js_1$o=constants$3,instructions_js_1$1=instructions$3;function initializeTransferHook(e,t,n,r,a,i,s=constants_js_1$o.TOKEN_2022_PROGRAM_ID){return __awaiter$y(this,void 0,void 0,function*(){const l=new web3_js_1$A.Transaction().add((0,instructions_js_1$1.createInitializeTransferHookInstruction)(n,r,a,s));return yield(0,web3_js_1$A.sendAndConfirmTransaction)(e,l,[t],i)})}actions$1.initializeTransferHook=initializeTransferHook;function updateTransferHook(e,t,n,r,a,i=[],s,l=constants_js_1$o.TOKEN_2022_PROGRAM_ID){return __awaiter$y(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$a.getSigners)(a,i),u=new web3_js_1$A.Transaction().add((0,instructions_js_1$1.createUpdateTransferHookInstruction)(n,b,r,f,l));return yield(0,web3_js_1$A.sendAndConfirmTransaction)(e,u,[t,...f],s)})}actions$1.updateTransferHook=updateTransferHook;function transferCheckedWithTransferHook(e,t,n,r,a,i,s,l,b=[],f,u=constants_js_1$o.TOKEN_PROGRAM_ID){return __awaiter$y(this,void 0,void 0,function*(){const[d,m]=(0,internal_js_1$a.getSigners)(i,b),p=new web3_js_1$A.Transaction().add(yield(0,instructions_js_1$1.createTransferCheckedWithTransferHookInstruction)(e,n,r,a,d,s,l,m,f==null?void 0:f.commitment,u));return yield(0,web3_js_1$A.sendAndConfirmTransaction)(e,p,[t,...m],f)})}actions$1.transferCheckedWithTransferHook=transferCheckedWithTransferHook;function transferCheckedWithFeeAndTransferHook(e,t,n,r,a,i,s,l,b,f=[],u,d=constants_js_1$o.TOKEN_PROGRAM_ID){return __awaiter$y(this,void 0,void 0,function*(){const[m,p]=(0,internal_js_1$a.getSigners)(i,f),_=new web3_js_1$A.Transaction().add(yield(0,instructions_js_1$1.createTransferCheckedWithFeeAndTransferHookInstruction)(e,n,r,a,m,s,l,b,p,u==null?void 0:u.commitment,d));return yield(0,web3_js_1$A.sendAndConfirmTransaction)(e,_,[t,...p],u)})}actions$1.transferCheckedWithFeeAndTransferHook=transferCheckedWithFeeAndTransferHook;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$1,e),n(instructions$3,e),n(seeds,e),n(state$1,e)})(transferHook);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAccountLenForMint=e.getExtensionTypes=e.getExtensionData=e.getAccountLen=e.getMintLen=e.getAccountTypeOfMintType=e.isAccountExtension=e.isMintExtension=e.getTypeLen=e.LENGTH_SIZE=e.TYPE_SIZE=e.ExtensionType=void 0;const t=account,n=mint,r=multisig,a=accountType,i=cpiGuard,s=defaultAccountState,l=immutableOwner,b=state$5,f=memoTransfer,u=state$3,d=mintCloseAuthority,m=nonTransferable,p=permanentDelegate,_=transferFee,S=transferHook;var A;(function(R){R[R.Uninitialized=0]="Uninitialized",R[R.TransferFeeConfig=1]="TransferFeeConfig",R[R.TransferFeeAmount=2]="TransferFeeAmount",R[R.MintCloseAuthority=3]="MintCloseAuthority",R[R.ConfidentialTransferMint=4]="ConfidentialTransferMint",R[R.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",R[R.DefaultAccountState=6]="DefaultAccountState",R[R.ImmutableOwner=7]="ImmutableOwner",R[R.MemoTransfer=8]="MemoTransfer",R[R.NonTransferable=9]="NonTransferable",R[R.InterestBearingConfig=10]="InterestBearingConfig",R[R.CpiGuard=11]="CpiGuard",R[R.PermanentDelegate=12]="PermanentDelegate",R[R.NonTransferableAccount=13]="NonTransferableAccount",R[R.TransferHook=14]="TransferHook",R[R.TransferHookAccount=15]="TransferHookAccount",R[R.MetadataPointer=18]="MetadataPointer"})(A||(e.ExtensionType=A={})),e.TYPE_SIZE=2,e.LENGTH_SIZE=2;function E(R){switch(R){case A.Uninitialized:return 0;case A.TransferFeeConfig:return _.TRANSFER_FEE_CONFIG_SIZE;case A.TransferFeeAmount:return _.TRANSFER_FEE_AMOUNT_SIZE;case A.MintCloseAuthority:return d.MINT_CLOSE_AUTHORITY_SIZE;case A.ConfidentialTransferMint:return 97;case A.ConfidentialTransferAccount:return 286;case A.CpiGuard:return i.CPI_GUARD_SIZE;case A.DefaultAccountState:return s.DEFAULT_ACCOUNT_STATE_SIZE;case A.ImmutableOwner:return l.IMMUTABLE_OWNER_SIZE;case A.MemoTransfer:return f.MEMO_TRANSFER_SIZE;case A.MetadataPointer:return u.METADATA_POINTER_SIZE;case A.NonTransferable:return m.NON_TRANSFERABLE_SIZE;case A.InterestBearingConfig:return b.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case A.PermanentDelegate:return p.PERMANENT_DELEGATE_SIZE;case A.NonTransferableAccount:return m.NON_TRANSFERABLE_ACCOUNT_SIZE;case A.TransferHook:return S.TRANSFER_HOOK_SIZE;case A.TransferHookAccount:return S.TRANSFER_HOOK_ACCOUNT_SIZE;default:throw Error(`Unknown extension type: ${R}`)}}e.getTypeLen=E;function w(R){switch(R){case A.TransferFeeConfig:case A.MintCloseAuthority:case A.ConfidentialTransferMint:case A.DefaultAccountState:case A.NonTransferable:case A.InterestBearingConfig:case A.PermanentDelegate:case A.TransferHook:case A.MetadataPointer:return!0;case A.Uninitialized:case A.TransferFeeAmount:case A.ConfidentialTransferAccount:case A.ImmutableOwner:case A.MemoTransfer:case A.CpiGuard:case A.NonTransferableAccount:case A.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${R}`)}}e.isMintExtension=w;function M(R){switch(R){case A.TransferFeeAmount:case A.ConfidentialTransferAccount:case A.ImmutableOwner:case A.MemoTransfer:case A.CpiGuard:case A.NonTransferableAccount:case A.TransferHookAccount:return!0;case A.Uninitialized:case A.TransferFeeConfig:case A.MintCloseAuthority:case A.ConfidentialTransferMint:case A.DefaultAccountState:case A.NonTransferable:case A.InterestBearingConfig:case A.PermanentDelegate:case A.TransferHook:case A.MetadataPointer:return!1;default:throw Error(`Unknown extension type: ${R}`)}}e.isAccountExtension=M;function T(R){switch(R){case A.TransferFeeConfig:return A.TransferFeeAmount;case A.ConfidentialTransferMint:return A.ConfidentialTransferAccount;case A.NonTransferable:return A.NonTransferableAccount;case A.TransferHook:return A.TransferHookAccount;case A.TransferFeeAmount:case A.ConfidentialTransferAccount:case A.CpiGuard:case A.DefaultAccountState:case A.ImmutableOwner:case A.MemoTransfer:case A.MintCloseAuthority:case A.MetadataPointer:case A.Uninitialized:case A.InterestBearingConfig:case A.PermanentDelegate:case A.NonTransferableAccount:case A.TransferHookAccount:return A.Uninitialized}}e.getAccountTypeOfMintType=T;function v(R,O){if(R.length===0)return O;{const j=t.ACCOUNT_SIZE+a.ACCOUNT_TYPE_SIZE+R.filter((C,N)=>N===R.indexOf(C)).map(C=>E(C)+e.TYPE_SIZE+e.LENGTH_SIZE).reduce((C,N)=>C+N);return j===r.MULTISIG_SIZE?j+e.TYPE_SIZE:j}}function D(R){return v(R,n.MINT_SIZE)}e.getMintLen=D;function L(R){return v(R,t.ACCOUNT_SIZE)}e.getAccountLen=L;function I(R,O){let j=0;for(;j+e.TYPE_SIZE+e.LENGTH_SIZE<=O.length;){const C=O.readUInt16LE(j),N=O.readUInt16LE(j+e.TYPE_SIZE),U=j+e.TYPE_SIZE+e.LENGTH_SIZE;if(C==R)return O.slice(U,U+N);j=U+N}return null}e.getExtensionData=I;function k(R){const O=[];let j=0;for(;j<R.length;){const C=R.readUInt16LE(j);O.push(C);const N=R.readUInt16LE(j+e.TYPE_SIZE);j+=e.TYPE_SIZE+e.LENGTH_SIZE+N}return O}e.getExtensionTypes=k;function $(R){const j=k(R.tlvData).map(T);return L(j)}e.getAccountLenForMint=$})(extensionType);var initializeAccount={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccountInstructionUnchecked=e.decodeInitializeAccountInstruction=e.createInitializeAccountInstruction=e.initializeAccountInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=types;e.initializeAccountInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function s(f,u,d,m=r.TOKEN_PROGRAM_ID){const p=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:n.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],_=dist$1.Buffer.alloc(e.initializeAccountInstructionData.span);return e.initializeAccountInstructionData.encode({instruction:i.TokenInstruction.InitializeAccount},_),new n.TransactionInstruction({keys:p,programId:m,data:_})}e.createInitializeAccountInstruction=s;function l(f,u=r.TOKEN_PROGRAM_ID){if(!f.programId.equals(u))throw new a.TokenInvalidInstructionProgramError;if(f.data.length!==e.initializeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:d,mint:m,owner:p,rent:_},data:S}=b(f);if(S.instruction!==i.TokenInstruction.InitializeAccount)throw new a.TokenInvalidInstructionTypeError;if(!d||!m||!p||!_)throw new a.TokenInvalidInstructionKeysError;return{programId:u,keys:{account:d,mint:m,owner:p,rent:_},data:S}}e.decodeInitializeAccountInstruction=l;function b({programId:f,keys:[u,d,m,p],data:_}){return{programId:f,keys:{account:u,mint:d,owner:m,rent:p},data:e.initializeAccountInstructionData.decode(_)}}e.decodeInitializeAccountInstructionUnchecked=b})(initializeAccount);var createAssociatedTokenAccount$2={},associatedTokenAccount={};Object.defineProperty(associatedTokenAccount,"__esModule",{value:!0});associatedTokenAccount.createRecoverNestedInstruction=associatedTokenAccount.createAssociatedTokenAccountIdempotentInstruction=associatedTokenAccount.createAssociatedTokenAccountInstruction=void 0;const web3_js_1$z=require$$0$1,constants_js_1$n=constants$3;function createAssociatedTokenAccountInstruction(e,t,n,r,a=constants_js_1$n.TOKEN_PROGRAM_ID,i=constants_js_1$n.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,t,n,r,dist$1.Buffer.alloc(0),a,i)}associatedTokenAccount.createAssociatedTokenAccountInstruction=createAssociatedTokenAccountInstruction;function createAssociatedTokenAccountIdempotentInstruction(e,t,n,r,a=constants_js_1$n.TOKEN_PROGRAM_ID,i=constants_js_1$n.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,t,n,r,dist$1.Buffer.from([1]),a,i)}associatedTokenAccount.createAssociatedTokenAccountIdempotentInstruction=createAssociatedTokenAccountIdempotentInstruction;function buildAssociatedTokenAccountInstruction(e,t,n,r,a,i=constants_js_1$n.TOKEN_PROGRAM_ID,s=constants_js_1$n.ASSOCIATED_TOKEN_PROGRAM_ID){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:web3_js_1$z.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return new web3_js_1$z.TransactionInstruction({keys:l,programId:s,data:a})}function createRecoverNestedInstruction(e,t,n,r,a,i,s=constants_js_1$n.TOKEN_PROGRAM_ID,l=constants_js_1$n.ASSOCIATED_TOKEN_PROGRAM_ID){const b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1}];return new web3_js_1$z.TransactionInstruction({keys:b,programId:l,data:dist$1.Buffer.from([2])})}associatedTokenAccount.createRecoverNestedInstruction=createRecoverNestedInstruction;var __awaiter$x=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createAssociatedTokenAccount$2,"__esModule",{value:!0});createAssociatedTokenAccount$2.createAssociatedTokenAccount=void 0;const web3_js_1$y=require$$0$1,constants_js_1$m=constants$3,associatedTokenAccount_js_1$4=associatedTokenAccount,mint_js_1$6=mint;function createAssociatedTokenAccount$1(e,t,n,r,a,i=constants_js_1$m.TOKEN_PROGRAM_ID,s=constants_js_1$m.ASSOCIATED_TOKEN_PROGRAM_ID){return __awaiter$x(this,void 0,void 0,function*(){const l=(0,mint_js_1$6.getAssociatedTokenAddressSync)(n,r,!1,i,s),b=new web3_js_1$y.Transaction().add((0,associatedTokenAccount_js_1$4.createAssociatedTokenAccountInstruction)(t.publicKey,l,r,n,i,s));return yield(0,web3_js_1$y.sendAndConfirmTransaction)(e,b,[t],a),l})}createAssociatedTokenAccount$2.createAssociatedTokenAccount=createAssociatedTokenAccount$1;var __awaiter$w=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createAccount$1,"__esModule",{value:!0});createAccount$1.createAccount=void 0;const web3_js_1$x=require$$0$1,constants_js_1$l=constants$3,extensionType_js_1$1=extensionType,initializeAccount_js_1$2=initializeAccount,mint_js_1$5=mint,createAssociatedTokenAccount_js_1=createAssociatedTokenAccount$2;function createAccount(e,t,n,r,a,i,s=constants_js_1$l.TOKEN_PROGRAM_ID){return __awaiter$w(this,void 0,void 0,function*(){if(!a)return yield(0,createAssociatedTokenAccount_js_1.createAssociatedTokenAccount)(e,t,n,r,i,s);const l=yield(0,mint_js_1$5.getMint)(e,n,i==null?void 0:i.commitment,s),b=(0,extensionType_js_1$1.getAccountLenForMint)(l),f=yield e.getMinimumBalanceForRentExemption(b),u=new web3_js_1$x.Transaction().add(web3_js_1$x.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,space:b,lamports:f,programId:s}),(0,initializeAccount_js_1$2.createInitializeAccountInstruction)(a.publicKey,n,r,s));return yield(0,web3_js_1$x.sendAndConfirmTransaction)(e,u,[t,a],i),a.publicKey})}createAccount$1.createAccount=createAccount;var createAssociatedTokenAccountIdempotent$2={},__awaiter$v=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createAssociatedTokenAccountIdempotent$2,"__esModule",{value:!0});createAssociatedTokenAccountIdempotent$2.createAssociatedTokenAccountIdempotent=void 0;const web3_js_1$w=require$$0$1,constants_js_1$k=constants$3,associatedTokenAccount_js_1$3=associatedTokenAccount,mint_js_1$4=mint;function createAssociatedTokenAccountIdempotent$1(e,t,n,r,a,i=constants_js_1$k.TOKEN_PROGRAM_ID,s=constants_js_1$k.ASSOCIATED_TOKEN_PROGRAM_ID){return __awaiter$v(this,void 0,void 0,function*(){const l=(0,mint_js_1$4.getAssociatedTokenAddressSync)(n,r,!1,i,s),b=new web3_js_1$w.Transaction().add((0,associatedTokenAccount_js_1$3.createAssociatedTokenAccountIdempotentInstruction)(t.publicKey,l,r,n,i,s));return yield(0,web3_js_1$w.sendAndConfirmTransaction)(e,b,[t],a),l})}createAssociatedTokenAccountIdempotent$2.createAssociatedTokenAccountIdempotent=createAssociatedTokenAccountIdempotent$1;var createMint$2={},initializeMint2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMint2InstructionUnchecked=e.decodeInitializeMint2Instruction=e.createInitializeMint2Instruction=e.initializeMint2InstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.initializeMint2InstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("decimals"),(0,n.publicKey)("mintAuthority"),(0,t.u8)("freezeAuthorityOption"),(0,n.publicKey)("freezeAuthority")]);function l(u,d,m,p,_=a.TOKEN_PROGRAM_ID){const S=[{pubkey:u,isSigner:!1,isWritable:!0}],A=dist$1.Buffer.alloc(e.initializeMint2InstructionData.span);return e.initializeMint2InstructionData.encode({instruction:s.TokenInstruction.InitializeMint2,decimals:d,mintAuthority:m,freezeAuthorityOption:p?1:0,freezeAuthority:p||new r.PublicKey(0)},A),new r.TransactionInstruction({keys:S,programId:_,data:A})}e.createInitializeMint2Instruction=l;function b(u,d=a.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.initializeMint2InstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:m},data:p}=f(u);if(p.instruction!==s.TokenInstruction.InitializeMint2)throw new i.TokenInvalidInstructionTypeError;if(!m)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{mint:m},data:p}}e.decodeInitializeMint2Instruction=b;function f({programId:u,keys:[d],data:m}){const{instruction:p,decimals:_,mintAuthority:S,freezeAuthorityOption:A,freezeAuthority:E}=e.initializeMint2InstructionData.decode(m);return{programId:u,keys:{mint:d},data:{instruction:p,decimals:_,mintAuthority:S,freezeAuthority:A?E:null}}}e.decodeInitializeMint2InstructionUnchecked=f})(initializeMint2);var __awaiter$u=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createMint$2,"__esModule",{value:!0});createMint$2.createMint=void 0;const web3_js_1$v=require$$0$1,constants_js_1$j=constants$3,initializeMint2_js_1$1=initializeMint2,mint_js_1$3=mint;function createMint$1(e,t,n,r,a,i=web3_js_1$v.Keypair.generate(),s,l=constants_js_1$j.TOKEN_PROGRAM_ID){return __awaiter$u(this,void 0,void 0,function*(){const b=yield(0,mint_js_1$3.getMinimumBalanceForRentExemptMint)(e),f=new web3_js_1$v.Transaction().add(web3_js_1$v.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:i.publicKey,space:mint_js_1$3.MINT_SIZE,lamports:b,programId:l}),(0,initializeMint2_js_1$1.createInitializeMint2Instruction)(i.publicKey,a,n,r,l));return yield(0,web3_js_1$v.sendAndConfirmTransaction)(e,f,[t,i],s),i.publicKey})}createMint$2.createMint=createMint$1;var createMultisig$1={},initializeMultisig={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMultisigInstructionUnchecked=e.decodeInitializeMultisigInstruction=e.createInitializeMultisigInstruction=e.initializeMultisigInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=types;e.initializeMultisigInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("m")]);function s(f,u,d,m=r.TOKEN_PROGRAM_ID){const p=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:n.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const S of u)p.push({pubkey:S instanceof n.PublicKey?S:S.publicKey,isSigner:!1,isWritable:!1});const _=dist$1.Buffer.alloc(e.initializeMultisigInstructionData.span);return e.initializeMultisigInstructionData.encode({instruction:i.TokenInstruction.InitializeMultisig,m:d},_),new n.TransactionInstruction({keys:p,programId:m,data:_})}e.createInitializeMultisigInstruction=s;function l(f,u=r.TOKEN_PROGRAM_ID){if(!f.programId.equals(u))throw new a.TokenInvalidInstructionProgramError;if(f.data.length!==e.initializeMultisigInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:d,rent:m,signers:p},data:_}=b(f);if(_.instruction!==i.TokenInstruction.InitializeMultisig)throw new a.TokenInvalidInstructionTypeError;if(!d||!m||!p.length)throw new a.TokenInvalidInstructionKeysError;return{programId:u,keys:{account:d,rent:m,signers:p},data:_}}e.decodeInitializeMultisigInstruction=l;function b({programId:f,keys:[u,d,...m],data:p}){return{programId:f,keys:{account:u,rent:d,signers:m},data:e.initializeMultisigInstructionData.decode(p)}}e.decodeInitializeMultisigInstructionUnchecked=b})(initializeMultisig);var __awaiter$t=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createMultisig$1,"__esModule",{value:!0});createMultisig$1.createMultisig=void 0;const web3_js_1$u=require$$0$1,constants_js_1$i=constants$3,initializeMultisig_js_1$1=initializeMultisig,multisig_js_1=multisig;function createMultisig(e,t,n,r,a=web3_js_1$u.Keypair.generate(),i,s=constants_js_1$i.TOKEN_PROGRAM_ID){return __awaiter$t(this,void 0,void 0,function*(){const l=yield(0,multisig_js_1.getMinimumBalanceForRentExemptMultisig)(e),b=new web3_js_1$u.Transaction().add(web3_js_1$u.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,space:multisig_js_1.MULTISIG_SIZE,lamports:l,programId:s}),(0,initializeMultisig_js_1$1.createInitializeMultisigInstruction)(a.publicKey,n,r,s));return yield(0,web3_js_1$u.sendAndConfirmTransaction)(e,b,[t,a],i),a.publicKey})}createMultisig$1.createMultisig=createMultisig;var createNativeMint$2={},createNativeMint$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createCreateNativeMintInstruction=e.createNativeMintInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=types;e.createNativeMintInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function s(l,b=r.NATIVE_MINT_2022,f=r.TOKEN_2022_PROGRAM_ID){if(!(0,r.programSupportsExtensions)(f))throw new a.TokenUnsupportedInstructionError;const u=[{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:n.SystemProgram.programId,isSigner:!1,isWritable:!1}],d=dist$1.Buffer.alloc(e.createNativeMintInstructionData.span);return e.createNativeMintInstructionData.encode({instruction:i.TokenInstruction.CreateNativeMint},d),new n.TransactionInstruction({keys:u,programId:f,data:d})}e.createCreateNativeMintInstruction=s})(createNativeMint$1);var __awaiter$s=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createNativeMint$2,"__esModule",{value:!0});createNativeMint$2.createNativeMint=void 0;const web3_js_1$t=require$$0$1,constants_js_1$h=constants$3,createNativeMint_js_1=createNativeMint$1;function createNativeMint(e,t,n,r=constants_js_1$h.NATIVE_MINT_2022,a=constants_js_1$h.TOKEN_2022_PROGRAM_ID){return __awaiter$s(this,void 0,void 0,function*(){const i=new web3_js_1$t.Transaction().add((0,createNativeMint_js_1.createCreateNativeMintInstruction)(t.publicKey,r,a));yield(0,web3_js_1$t.sendAndConfirmTransaction)(e,i,[t],n)})}createNativeMint$2.createNativeMint=createNativeMint;var createWrappedNativeAccount$1={},syncNative$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSyncNativeInstructionUnchecked=e.decodeSyncNativeInstruction=e.createSyncNativeInstruction=e.syncNativeInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=types;e.syncNativeInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function s(f,u=r.TOKEN_PROGRAM_ID){const d=[{pubkey:f,isSigner:!1,isWritable:!0}],m=dist$1.Buffer.alloc(e.syncNativeInstructionData.span);return e.syncNativeInstructionData.encode({instruction:i.TokenInstruction.SyncNative},m),new n.TransactionInstruction({keys:d,programId:u,data:m})}e.createSyncNativeInstruction=s;function l(f,u=r.TOKEN_PROGRAM_ID){if(!f.programId.equals(u))throw new a.TokenInvalidInstructionProgramError;if(f.data.length!==e.syncNativeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:d},data:m}=b(f);if(m.instruction!==i.TokenInstruction.SyncNative)throw new a.TokenInvalidInstructionTypeError;if(!d)throw new a.TokenInvalidInstructionKeysError;return{programId:u,keys:{account:d},data:m}}e.decodeSyncNativeInstruction=l;function b({programId:f,keys:[u],data:d}){return{programId:f,keys:{account:u},data:e.syncNativeInstructionData.decode(d)}}e.decodeSyncNativeInstructionUnchecked=b})(syncNative$2);var __awaiter$r=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(createWrappedNativeAccount$1,"__esModule",{value:!0});createWrappedNativeAccount$1.createWrappedNativeAccount=void 0;const web3_js_1$s=require$$0$1,constants_js_1$g=constants$3,associatedTokenAccount_js_1$2=associatedTokenAccount,initializeAccount_js_1$1=initializeAccount,syncNative_js_1$2=syncNative$2,account_js_1$1=account,mint_js_1$2=mint,createAccount_js_1=createAccount$1;function createWrappedNativeAccount(e,t,n,r,a,i,s=constants_js_1$g.TOKEN_PROGRAM_ID,l=constants_js_1$g.NATIVE_MINT){return __awaiter$r(this,void 0,void 0,function*(){if(!r)return yield(0,createAccount_js_1.createAccount)(e,t,l,n,a,i,s);if(!a){const u=(0,mint_js_1$2.getAssociatedTokenAddressSync)(l,n,!1,s,constants_js_1$g.ASSOCIATED_TOKEN_PROGRAM_ID),d=new web3_js_1$s.Transaction().add((0,associatedTokenAccount_js_1$2.createAssociatedTokenAccountInstruction)(t.publicKey,u,n,l,s,constants_js_1$g.ASSOCIATED_TOKEN_PROGRAM_ID),web3_js_1$s.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:u,lamports:r}),(0,syncNative_js_1$2.createSyncNativeInstruction)(u,s));return yield(0,web3_js_1$s.sendAndConfirmTransaction)(e,d,[t],i),u}const b=yield(0,account_js_1$1.getMinimumBalanceForRentExemptAccount)(e),f=new web3_js_1$s.Transaction().add(web3_js_1$s.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,space:account_js_1$1.ACCOUNT_SIZE,lamports:b,programId:s}),web3_js_1$s.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:a.publicKey,lamports:r}),(0,initializeAccount_js_1$1.createInitializeAccountInstruction)(a.publicKey,l,n,s));return yield(0,web3_js_1$s.sendAndConfirmTransaction)(e,f,[t,a],i),a.publicKey})}createWrappedNativeAccount$1.createWrappedNativeAccount=createWrappedNativeAccount;var freezeAccount$2={},freezeAccount$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeFreezeAccountInstructionUnchecked=e.decodeFreezeAccountInstruction=e.createFreezeAccountInstruction=e.freezeAccountInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;e.freezeAccountInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function l(u,d,m,p=[],_=r.TOKEN_PROGRAM_ID){const S=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1}],m,p),A=dist$1.Buffer.alloc(e.freezeAccountInstructionData.span);return e.freezeAccountInstructionData.encode({instruction:s.TokenInstruction.FreezeAccount},A),new n.TransactionInstruction({keys:S,programId:_,data:A})}e.createFreezeAccountInstruction=l;function b(u,d=r.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new a.TokenInvalidInstructionProgramError;if(u.data.length!==e.freezeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:m,mint:p,authority:_,multiSigners:S},data:A}=f(u);if(A.instruction!==s.TokenInstruction.FreezeAccount)throw new a.TokenInvalidInstructionTypeError;if(!m||!p||!_)throw new a.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,mint:p,authority:_,multiSigners:S},data:A}}e.decodeFreezeAccountInstruction=b;function f({programId:u,keys:[d,m,p,..._],data:S}){return{programId:u,keys:{account:d,mint:m,authority:p,multiSigners:_},data:e.freezeAccountInstructionData.decode(S)}}e.decodeFreezeAccountInstructionUnchecked=f})(freezeAccount$1);var __awaiter$q=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(freezeAccount$2,"__esModule",{value:!0});freezeAccount$2.freezeAccount=void 0;const web3_js_1$r=require$$0$1,constants_js_1$f=constants$3,freezeAccount_js_1$1=freezeAccount$1,internal_js_1$9=internal;function freezeAccount(e,t,n,r,a,i=[],s,l=constants_js_1$f.TOKEN_PROGRAM_ID){return __awaiter$q(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$9.getSigners)(a,i),u=new web3_js_1$r.Transaction().add((0,freezeAccount_js_1$1.createFreezeAccountInstruction)(n,r,b,i,l));return yield(0,web3_js_1$r.sendAndConfirmTransaction)(e,u,[t,...f],s)})}freezeAccount$2.freezeAccount=freezeAccount;var getOrCreateAssociatedTokenAccount$1={},__awaiter$p=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(getOrCreateAssociatedTokenAccount$1,"__esModule",{value:!0});getOrCreateAssociatedTokenAccount$1.getOrCreateAssociatedTokenAccount=void 0;const web3_js_1$q=require$$0$1,constants_js_1$e=constants$3,errors_js_1$3=errors,associatedTokenAccount_js_1$1=associatedTokenAccount,account_js_1=account,mint_js_1$1=mint;function getOrCreateAssociatedTokenAccount(e,t,n,r,a=!1,i,s,l=constants_js_1$e.TOKEN_PROGRAM_ID,b=constants_js_1$e.ASSOCIATED_TOKEN_PROGRAM_ID){return __awaiter$p(this,void 0,void 0,function*(){const f=(0,mint_js_1$1.getAssociatedTokenAddressSync)(n,r,a,l,b);let u;try{u=yield(0,account_js_1.getAccount)(e,f,i,l)}catch(d){if(d instanceof errors_js_1$3.TokenAccountNotFoundError||d instanceof errors_js_1$3.TokenInvalidAccountOwnerError){try{const m=new web3_js_1$q.Transaction().add((0,associatedTokenAccount_js_1$1.createAssociatedTokenAccountInstruction)(t.publicKey,f,r,n,l,b));yield(0,web3_js_1$q.sendAndConfirmTransaction)(e,m,[t],s)}catch{}u=yield(0,account_js_1.getAccount)(e,f,i,l)}else throw d}if(!u.mint.equals(n))throw new errors_js_1$3.TokenInvalidMintError;if(!u.owner.equals(r))throw new errors_js_1$3.TokenInvalidOwnerError;return u})}getOrCreateAssociatedTokenAccount$1.getOrCreateAssociatedTokenAccount=getOrCreateAssociatedTokenAccount;var mintTo$2={},mintTo$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToInstructionUnchecked=e.decodeMintToInstruction=e.createMintToInstruction=e.mintToInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.mintToInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount")]);function b(d,m,p,_,S=[],A=a.TOKEN_PROGRAM_ID){const E=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}],p,S),w=dist$1.Buffer.alloc(e.mintToInstructionData.span);return e.mintToInstructionData.encode({instruction:l.TokenInstruction.MintTo,amount:BigInt(_)},w),new r.TransactionInstruction({keys:E,programId:A,data:w})}e.createMintToInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.mintToInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:p,destination:_,authority:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.MintTo)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{mint:p,destination:_,authority:S,multiSigners:A},data:E}}e.decodeMintToInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{mint:m,destination:p,authority:_,multiSigners:S},data:e.mintToInstructionData.decode(A)}}e.decodeMintToInstructionUnchecked=u})(mintTo$1);var __awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(mintTo$2,"__esModule",{value:!0});mintTo$2.mintTo=void 0;const web3_js_1$p=require$$0$1,constants_js_1$d=constants$3,mintTo_js_1$1=mintTo$1,internal_js_1$8=internal;function mintTo(e,t,n,r,a,i,s=[],l,b=constants_js_1$d.TOKEN_PROGRAM_ID){return __awaiter$o(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$8.getSigners)(a,s),d=new web3_js_1$p.Transaction().add((0,mintTo_js_1$1.createMintToInstruction)(n,r,f,i,s,b));return yield(0,web3_js_1$p.sendAndConfirmTransaction)(e,d,[t,...u],l)})}mintTo$2.mintTo=mintTo;var mintToChecked$2={},mintToChecked$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToCheckedInstructionUnchecked=e.decodeMintToCheckedInstruction=e.createMintToCheckedInstruction=e.mintToCheckedInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.mintToCheckedInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount"),(0,t.u8)("decimals")]);function b(d,m,p,_,S,A=[],E=a.TOKEN_PROGRAM_ID){const w=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}],p,A),M=dist$1.Buffer.alloc(e.mintToCheckedInstructionData.span);return e.mintToCheckedInstructionData.encode({instruction:l.TokenInstruction.MintToChecked,amount:BigInt(_),decimals:S},M),new r.TransactionInstruction({keys:w,programId:E,data:M})}e.createMintToCheckedInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.mintToCheckedInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:p,destination:_,authority:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.MintToChecked)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{mint:p,destination:_,authority:S,multiSigners:A},data:E}}e.decodeMintToCheckedInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{mint:m,destination:p,authority:_,multiSigners:S},data:e.mintToCheckedInstructionData.decode(A)}}e.decodeMintToCheckedInstructionUnchecked=u})(mintToChecked$1);var __awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(mintToChecked$2,"__esModule",{value:!0});mintToChecked$2.mintToChecked=void 0;const web3_js_1$o=require$$0$1,constants_js_1$c=constants$3,mintToChecked_js_1$1=mintToChecked$1,internal_js_1$7=internal;function mintToChecked(e,t,n,r,a,i,s,l=[],b,f=constants_js_1$c.TOKEN_PROGRAM_ID){return __awaiter$n(this,void 0,void 0,function*(){const[u,d]=(0,internal_js_1$7.getSigners)(a,l),m=new web3_js_1$o.Transaction().add((0,mintToChecked_js_1$1.createMintToCheckedInstruction)(n,r,u,i,s,l,f));return yield(0,web3_js_1$o.sendAndConfirmTransaction)(e,m,[t,...d],b)})}mintToChecked$2.mintToChecked=mintToChecked;var recoverNested$1={},__awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(recoverNested$1,"__esModule",{value:!0});recoverNested$1.recoverNested=void 0;const web3_js_1$n=require$$0$1,constants_js_1$b=constants$3,associatedTokenAccount_js_1=associatedTokenAccount,mint_js_1=mint;function recoverNested(e,t,n,r,a,i,s=constants_js_1$b.TOKEN_PROGRAM_ID,l=constants_js_1$b.ASSOCIATED_TOKEN_PROGRAM_ID){return __awaiter$m(this,void 0,void 0,function*(){const b=(0,mint_js_1.getAssociatedTokenAddressSync)(r,n.publicKey,!1,s,l),f=(0,mint_js_1.getAssociatedTokenAddressSync)(a,n.publicKey,!1,s,l),u=(0,mint_js_1.getAssociatedTokenAddressSync)(a,b,!0,s,l),d=new web3_js_1$n.Transaction().add((0,associatedTokenAccount_js_1.createRecoverNestedInstruction)(u,a,f,b,r,n.publicKey,s,l));return yield(0,web3_js_1$n.sendAndConfirmTransaction)(e,d,[t,n],i)})}recoverNested$1.recoverNested=recoverNested;var revoke$2={},revoke$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeRevokeInstructionUnchecked=e.decodeRevokeInstruction=e.createRevokeInstruction=e.revokeInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;e.revokeInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function l(u,d,m=[],p=r.TOKEN_PROGRAM_ID){const _=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0}],d,m),S=dist$1.Buffer.alloc(e.revokeInstructionData.span);return e.revokeInstructionData.encode({instruction:s.TokenInstruction.Revoke},S),new n.TransactionInstruction({keys:_,programId:p,data:S})}e.createRevokeInstruction=l;function b(u,d=r.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new a.TokenInvalidInstructionProgramError;if(u.data.length!==e.revokeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:m,owner:p,multiSigners:_},data:S}=f(u);if(S.instruction!==s.TokenInstruction.Revoke)throw new a.TokenInvalidInstructionTypeError;if(!m||!p)throw new a.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,owner:p,multiSigners:_},data:S}}e.decodeRevokeInstruction=b;function f({programId:u,keys:[d,m,...p],data:_}){return{programId:u,keys:{account:d,owner:m,multiSigners:p},data:e.revokeInstructionData.decode(_)}}e.decodeRevokeInstructionUnchecked=f})(revoke$1);var __awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(revoke$2,"__esModule",{value:!0});revoke$2.revoke=void 0;const web3_js_1$m=require$$0$1,constants_js_1$a=constants$3,revoke_js_1$1=revoke$1,internal_js_1$6=internal;function revoke(e,t,n,r,a=[],i,s=constants_js_1$a.TOKEN_PROGRAM_ID){return __awaiter$l(this,void 0,void 0,function*(){const[l,b]=(0,internal_js_1$6.getSigners)(r,a),f=new web3_js_1$m.Transaction().add((0,revoke_js_1$1.createRevokeInstruction)(n,l,a,s));return yield(0,web3_js_1$m.sendAndConfirmTransaction)(e,f,[t,...b],i)})}revoke$2.revoke=revoke;var setAuthority$2={},setAuthority$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSetAuthorityInstructionUnchecked=e.decodeSetAuthorityInstruction=e.createSetAuthorityInstruction=e.setAuthorityInstructionData=e.AuthorityType=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;var b;(function(m){m[m.MintTokens=0]="MintTokens",m[m.FreezeAccount=1]="FreezeAccount",m[m.AccountOwner=2]="AccountOwner",m[m.CloseAccount=3]="CloseAccount",m[m.TransferFeeConfig=4]="TransferFeeConfig",m[m.WithheldWithdraw=5]="WithheldWithdraw",m[m.CloseMint=6]="CloseMint",m[m.InterestRate=7]="InterestRate",m[m.PermanentDelegate=8]="PermanentDelegate",m[m.ConfidentialTransferMint=9]="ConfidentialTransferMint",m[m.TransferHookProgramId=10]="TransferHookProgramId",m[m.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",m[m.MetadataPointer=12]="MetadataPointer"})(b||(e.AuthorityType=b={})),e.setAuthorityInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("authorityType"),(0,t.u8)("newAuthorityOption"),(0,n.publicKey)("newAuthority")]);function f(m,p,_,S,A=[],E=a.TOKEN_PROGRAM_ID){const w=(0,s.addSigners)([{pubkey:m,isSigner:!1,isWritable:!0}],p,A),M=dist$1.Buffer.alloc(e.setAuthorityInstructionData.span);return e.setAuthorityInstructionData.encode({instruction:l.TokenInstruction.SetAuthority,authorityType:_,newAuthorityOption:S?1:0,newAuthority:S||new r.PublicKey(0)},M),new r.TransactionInstruction({keys:w,programId:E,data:M})}e.createSetAuthorityInstruction=f;function u(m,p=a.TOKEN_PROGRAM_ID){if(!m.programId.equals(p))throw new i.TokenInvalidInstructionProgramError;if(m.data.length!==e.setAuthorityInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:_,currentAuthority:S,multiSigners:A},data:E}=d(m);if(E.instruction!==l.TokenInstruction.SetAuthority)throw new i.TokenInvalidInstructionTypeError;if(!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:p,keys:{account:_,currentAuthority:S,multiSigners:A},data:E}}e.decodeSetAuthorityInstruction=u;function d({programId:m,keys:[p,_,...S],data:A}){const{instruction:E,authorityType:w,newAuthorityOption:M,newAuthority:T}=e.setAuthorityInstructionData.decode(A);return{programId:m,keys:{account:p,currentAuthority:_,multiSigners:S},data:{instruction:E,authorityType:w,newAuthority:M?T:null}}}e.decodeSetAuthorityInstructionUnchecked=d})(setAuthority$1);var __awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(setAuthority$2,"__esModule",{value:!0});setAuthority$2.setAuthority=void 0;const web3_js_1$l=require$$0$1,constants_js_1$9=constants$3,setAuthority_js_1$1=setAuthority$1,internal_js_1$5=internal;function setAuthority(e,t,n,r,a,i,s=[],l,b=constants_js_1$9.TOKEN_PROGRAM_ID){return __awaiter$k(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$5.getSigners)(r,s),d=new web3_js_1$l.Transaction().add((0,setAuthority_js_1$1.createSetAuthorityInstruction)(n,f,a,i,s,b));return yield(0,web3_js_1$l.sendAndConfirmTransaction)(e,d,[t,...u],l)})}setAuthority$2.setAuthority=setAuthority;var syncNative$1={},__awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(syncNative$1,"__esModule",{value:!0});syncNative$1.syncNative=void 0;const web3_js_1$k=require$$0$1,constants_js_1$8=constants$3,syncNative_js_1$1=syncNative$2;function syncNative(e,t,n,r,a=constants_js_1$8.TOKEN_PROGRAM_ID){return __awaiter$j(this,void 0,void 0,function*(){const i=new web3_js_1$k.Transaction().add((0,syncNative_js_1$1.createSyncNativeInstruction)(n,a));return yield(0,web3_js_1$k.sendAndConfirmTransaction)(e,i,[t],r)})}syncNative$1.syncNative=syncNative;var thawAccount$2={},thawAccount$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeThawAccountInstructionUnchecked=e.decodeThawAccountInstruction=e.createThawAccountInstruction=e.thawAccountInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=internal$1,s=types;e.thawAccountInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function l(u,d,m,p=[],_=r.TOKEN_PROGRAM_ID){const S=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1}],m,p),A=dist$1.Buffer.alloc(e.thawAccountInstructionData.span);return e.thawAccountInstructionData.encode({instruction:s.TokenInstruction.ThawAccount},A),new n.TransactionInstruction({keys:S,programId:_,data:A})}e.createThawAccountInstruction=l;function b(u,d=r.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new a.TokenInvalidInstructionProgramError;if(u.data.length!==e.thawAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:m,mint:p,authority:_,multiSigners:S},data:A}=f(u);if(A.instruction!==s.TokenInstruction.ThawAccount)throw new a.TokenInvalidInstructionTypeError;if(!m||!p||!_)throw new a.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,mint:p,authority:_,multiSigners:S},data:A}}e.decodeThawAccountInstruction=b;function f({programId:u,keys:[d,m,p,..._],data:S}){return{programId:u,keys:{account:d,mint:m,authority:p,multiSigners:_},data:e.thawAccountInstructionData.decode(S)}}e.decodeThawAccountInstructionUnchecked=f})(thawAccount$1);var __awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(thawAccount$2,"__esModule",{value:!0});thawAccount$2.thawAccount=void 0;const web3_js_1$j=require$$0$1,constants_js_1$7=constants$3,thawAccount_js_1$1=thawAccount$1,internal_js_1$4=internal;function thawAccount(e,t,n,r,a,i=[],s,l=constants_js_1$7.TOKEN_PROGRAM_ID){return __awaiter$i(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$4.getSigners)(a,i),u=new web3_js_1$j.Transaction().add((0,thawAccount_js_1$1.createThawAccountInstruction)(n,r,b,i,l));return yield(0,web3_js_1$j.sendAndConfirmTransaction)(e,u,[t,...f],s)})}thawAccount$2.thawAccount=thawAccount;var transfer$2={},transfer$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferInstructionUnchecked=e.decodeTransferInstruction=e.createTransferInstruction=e.transferInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=internal$1,l=types;e.transferInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.u64)("amount")]);function b(d,m,p,_,S=[],A=a.TOKEN_PROGRAM_ID){const E=(0,s.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}],p,S),w=dist$1.Buffer.alloc(e.transferInstructionData.span);return e.transferInstructionData.encode({instruction:l.TokenInstruction.Transfer,amount:BigInt(_)},w),new r.TransactionInstruction({keys:E,programId:A,data:w})}e.createTransferInstruction=b;function f(d,m=a.TOKEN_PROGRAM_ID){if(!d.programId.equals(m))throw new i.TokenInvalidInstructionProgramError;if(d.data.length!==e.transferInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{source:p,destination:_,owner:S,multiSigners:A},data:E}=u(d);if(E.instruction!==l.TokenInstruction.Transfer)throw new i.TokenInvalidInstructionTypeError;if(!p||!_||!S)throw new i.TokenInvalidInstructionKeysError;return{programId:m,keys:{source:p,destination:_,owner:S,multiSigners:A},data:E}}e.decodeTransferInstruction=f;function u({programId:d,keys:[m,p,_,...S],data:A}){return{programId:d,keys:{source:m,destination:p,owner:_,multiSigners:S},data:e.transferInstructionData.decode(A)}}e.decodeTransferInstructionUnchecked=u})(transfer$1);var __awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(transfer$2,"__esModule",{value:!0});transfer$2.transfer=void 0;const web3_js_1$i=require$$0$1,constants_js_1$6=constants$3,transfer_js_1$1=transfer$1,internal_js_1$3=internal;function transfer(e,t,n,r,a,i,s=[],l,b=constants_js_1$6.TOKEN_PROGRAM_ID){return __awaiter$h(this,void 0,void 0,function*(){const[f,u]=(0,internal_js_1$3.getSigners)(a,s),d=new web3_js_1$i.Transaction().add((0,transfer_js_1$1.createTransferInstruction)(n,r,f,i,s,b));return yield(0,web3_js_1$i.sendAndConfirmTransaction)(e,d,[t,...u],l)})}transfer$2.transfer=transfer;var transferChecked$1={},__awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(transferChecked$1,"__esModule",{value:!0});transferChecked$1.transferChecked=void 0;const web3_js_1$h=require$$0$1,constants_js_1$5=constants$3,transferChecked_js_1$1=transferChecked$2,internal_js_1$2=internal;function transferChecked(e,t,n,r,a,i,s,l,b=[],f,u=constants_js_1$5.TOKEN_PROGRAM_ID){return __awaiter$g(this,void 0,void 0,function*(){const[d,m]=(0,internal_js_1$2.getSigners)(i,b),p=new web3_js_1$h.Transaction().add((0,transferChecked_js_1$1.createTransferCheckedInstruction)(n,r,a,d,s,l,b,u));return yield(0,web3_js_1$h.sendAndConfirmTransaction)(e,p,[t,...m],f)})}transferChecked$1.transferChecked=transferChecked;var uiAmountToAmount$2={},uiAmountToAmount$1={};Object.defineProperty(uiAmountToAmount$1,"__esModule",{value:!0});uiAmountToAmount$1.decodeUiAmountToAmountInstructionUnchecked=uiAmountToAmount$1.decodeUiAmountToAmountInstruction=uiAmountToAmount$1.createUiAmountToAmountInstruction=void 0;const buffer_layout_1$2=Layout$2,web3_js_1$g=require$$0$1,constants_js_1$4=constants$3,errors_js_1$2=errors,types_js_1$2=types;function createUiAmountToAmountInstruction(e,t,n=constants_js_1$4.TOKEN_PROGRAM_ID){const r=[{pubkey:e,isSigner:!1,isWritable:!1}],a=dist$1.Buffer.from(t,"utf8"),i=(0,buffer_layout_1$2.struct)([(0,buffer_layout_1$2.u8)("instruction"),(0,buffer_layout_1$2.blob)(a.length,"amount")]),s=dist$1.Buffer.alloc(i.span);return i.encode({instruction:types_js_1$2.TokenInstruction.UiAmountToAmount,amount:a},s),new web3_js_1$g.TransactionInstruction({keys:r,programId:n,data:s})}uiAmountToAmount$1.createUiAmountToAmountInstruction=createUiAmountToAmountInstruction;function decodeUiAmountToAmountInstruction(e,t=constants_js_1$4.TOKEN_PROGRAM_ID){if(!e.programId.equals(t))throw new errors_js_1$2.TokenInvalidInstructionProgramError;const n=(0,buffer_layout_1$2.struct)([(0,buffer_layout_1$2.u8)("instruction"),(0,buffer_layout_1$2.blob)(e.data.length-1,"amount")]);if(e.data.length!==n.span)throw new errors_js_1$2.TokenInvalidInstructionDataError;const{keys:{mint:r},data:a}=decodeUiAmountToAmountInstructionUnchecked(e);if(a.instruction!==types_js_1$2.TokenInstruction.UiAmountToAmount)throw new errors_js_1$2.TokenInvalidInstructionTypeError;if(!r)throw new errors_js_1$2.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:a}}uiAmountToAmount$1.decodeUiAmountToAmountInstruction=decodeUiAmountToAmountInstruction;function decodeUiAmountToAmountInstructionUnchecked({programId:e,keys:[t],data:n}){const r=(0,buffer_layout_1$2.struct)([(0,buffer_layout_1$2.u8)("instruction"),(0,buffer_layout_1$2.blob)(n.length-1,"amount")]);return{programId:e,keys:{mint:t},data:r.decode(n)}}uiAmountToAmount$1.decodeUiAmountToAmountInstructionUnchecked=decodeUiAmountToAmountInstructionUnchecked;var __awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(uiAmountToAmount$2,"__esModule",{value:!0});uiAmountToAmount$2.uiAmountToAmount=void 0;const buffer_layout_utils_1=cjs,web3_js_1$f=require$$0$1,constants_js_1$3=constants$3,uiAmountToAmount_js_1$1=uiAmountToAmount$1;function uiAmountToAmount(e,t,n,r,a=constants_js_1$3.TOKEN_PROGRAM_ID){return __awaiter$f(this,void 0,void 0,function*(){const i=new web3_js_1$f.Transaction().add((0,uiAmountToAmount_js_1$1.createUiAmountToAmountInstruction)(n,r,a)),{returnData:s,err:l}=(yield e.simulateTransaction(i,[t],!1)).value;if(s){const b=dist$1.Buffer.from(s.data[0],s.data[1]);return(0,buffer_layout_utils_1.u64)().decode(b)}return l})}uiAmountToAmount$2.uiAmountToAmount=uiAmountToAmount;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(amountToUiAmount$2,e),n(approve$2,e),n(approveChecked$2,e),n(burn$2,e),n(burnChecked$2,e),n(closeAccount$2,e),n(createAccount$1,e),n(createAssociatedTokenAccount$2,e),n(createAssociatedTokenAccountIdempotent$2,e),n(createMint$2,e),n(createMultisig$1,e),n(createNativeMint$2,e),n(createWrappedNativeAccount$1,e),n(freezeAccount$2,e),n(getOrCreateAssociatedTokenAccount$1,e),n(mintTo$2,e),n(mintToChecked$2,e),n(recoverNested$1,e),n(revoke$2,e),n(setAuthority$2,e),n(syncNative$1,e),n(thawAccount$2,e),n(transfer$2,e),n(transferChecked$1,e),n(uiAmountToAmount$2,e)})(actions$6);var extensions={},interestBearingMint={},actions={},initializeMint={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintInstructionUnchecked=e.decodeInitializeMintInstruction=e.createInitializeMintInstruction=e.initializeMintInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.initializeMintInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("decimals"),(0,n.publicKey)("mintAuthority"),(0,t.u8)("freezeAuthorityOption"),(0,n.publicKey)("freezeAuthority")]);function l(u,d,m,p,_=a.TOKEN_PROGRAM_ID){const S=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],A=dist$1.Buffer.alloc(e.initializeMintInstructionData.span);return e.initializeMintInstructionData.encode({instruction:s.TokenInstruction.InitializeMint,decimals:d,mintAuthority:m,freezeAuthorityOption:p?1:0,freezeAuthority:p||new r.PublicKey(0)},A),new r.TransactionInstruction({keys:S,programId:_,data:A})}e.createInitializeMintInstruction=l;function b(u,d=a.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.initializeMintInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:m,rent:p},data:_}=f(u);if(_.instruction!==s.TokenInstruction.InitializeMint)throw new i.TokenInvalidInstructionTypeError;if(!m||!p)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{mint:m,rent:p},data:_}}e.decodeInitializeMintInstruction=b;function f({programId:u,keys:[d,m],data:p}){const{instruction:_,decimals:S,mintAuthority:A,freezeAuthorityOption:E,freezeAuthority:w}=e.initializeMintInstructionData.decode(p);return{programId:u,keys:{mint:d,rent:m},data:{instruction:_,decimals:S,mintAuthority:A,freezeAuthority:E?w:null}}}e.decodeInitializeMintInstructionUnchecked=f})(initializeMint);var instructions$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateRateInterestBearingMintInstruction=e.createInitializeInterestBearingMintInstruction=e.interestBearingMintUpdateRateInstructionData=e.interestBearingMintInitializeInstructionData=e.InterestBearingMintInstruction=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=internal$1,s=types;var l;(function(u){u[u.Initialize=0]="Initialize",u[u.UpdateRate=1]="UpdateRate"})(l||(e.InterestBearingMintInstruction=l={})),e.interestBearingMintInitializeInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("interestBearingMintInstruction"),(0,n.publicKey)("rateAuthority"),(0,t.s16)("rate")]),e.interestBearingMintUpdateRateInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("interestBearingMintInstruction"),(0,t.s16)("rate")]);function b(u,d,m,p=a.TOKEN_2022_PROGRAM_ID){const _=[{pubkey:u,isSigner:!1,isWritable:!0}],S=dist$1.Buffer.alloc(e.interestBearingMintInitializeInstructionData.span);return e.interestBearingMintInitializeInstructionData.encode({instruction:s.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:l.Initialize,rateAuthority:d,rate:m},S),new r.TransactionInstruction({keys:_,programId:p,data:S})}e.createInitializeInterestBearingMintInstruction=b;function f(u,d,m,p=[],_=a.TOKEN_2022_PROGRAM_ID){const S=(0,i.addSigners)([{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!p.length,isWritable:!1}],d,p),A=dist$1.Buffer.alloc(e.interestBearingMintUpdateRateInstructionData.span);return e.interestBearingMintUpdateRateInstructionData.encode({instruction:s.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:l.UpdateRate,rate:m},A),new r.TransactionInstruction({keys:S,programId:_,data:A})}e.createUpdateRateInterestBearingMintInstruction=f})(instructions$2);var __awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(actions,"__esModule",{value:!0});actions.updateRateInterestBearingMint=actions.createInterestBearingMint=void 0;const web3_js_1$e=require$$0$1,internal_js_1$1=internal,constants_js_1$2=constants$3,initializeMint_js_1$1=initializeMint,extensionType_js_1=extensionType,instructions_js_1=instructions$2;function createInterestBearingMint(e,t,n,r,a,i,s,l=web3_js_1$e.Keypair.generate(),b,f=constants_js_1$2.TOKEN_2022_PROGRAM_ID){return __awaiter$e(this,void 0,void 0,function*(){const u=(0,extensionType_js_1.getMintLen)([extensionType_js_1.ExtensionType.InterestBearingConfig]),d=yield e.getMinimumBalanceForRentExemption(u),m=new web3_js_1$e.Transaction().add(web3_js_1$e.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:l.publicKey,space:u,lamports:d,programId:f}),(0,instructions_js_1.createInitializeInterestBearingMintInstruction)(l.publicKey,a,i,f),(0,initializeMint_js_1$1.createInitializeMintInstruction)(l.publicKey,s,n,r,f));return yield(0,web3_js_1$e.sendAndConfirmTransaction)(e,m,[t,l],b),l.publicKey})}actions.createInterestBearingMint=createInterestBearingMint;function updateRateInterestBearingMint(e,t,n,r,a,i=[],s,l=constants_js_1$2.TOKEN_2022_PROGRAM_ID){return __awaiter$e(this,void 0,void 0,function*(){const[b,f]=(0,internal_js_1$1.getSigners)(r,i),u=new web3_js_1$e.Transaction().add((0,instructions_js_1.createUpdateRateInterestBearingMintInstruction)(n,b,a,f,l));return yield(0,web3_js_1$e.sendAndConfirmTransaction)(e,u,[t,r,...f],s)})}actions.updateRateInterestBearingMint=updateRateInterestBearingMint;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions,e),n(instructions$2,e),n(state$5,e)})(interestBearingMint);var metadataPointer={},instructions$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateMetadataPointerInstruction=e.updateMetadataPointerData=e.createInitializeMetadataPointerInstruction=e.initializeMetadataPointerData=e.MetadataPointerInstruction=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types,l=internal$1;var b;(function(d){d[d.Initialize=0]="Initialize",d[d.Update=1]="Update"})(b||(e.MetadataPointerInstruction=b={})),e.initializeMetadataPointerData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("metadataPointerInstruction"),(0,n.publicKey)("authority"),(0,n.publicKey)("metadataAddress")]);function f(d,m,p,_){if(!(0,a.programSupportsExtensions)(_))throw new i.TokenUnsupportedInstructionError;const S=[{pubkey:d,isSigner:!1,isWritable:!0}],A=dist$1.Buffer.alloc(e.initializeMetadataPointerData.span);return e.initializeMetadataPointerData.encode({instruction:s.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:b.Initialize,authority:m??r.PublicKey.default,metadataAddress:p??r.PublicKey.default},A),new r.TransactionInstruction({keys:S,programId:_,data:A})}e.createInitializeMetadataPointerInstruction=f,e.updateMetadataPointerData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("metadataPointerInstruction"),(0,n.publicKey)("metadataAddress")]);function u(d,m,p,_=[],S=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(S))throw new i.TokenUnsupportedInstructionError;const A=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0}],m,_),E=dist$1.Buffer.alloc(e.updateMetadataPointerData.span);return e.updateMetadataPointerData.encode({instruction:s.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:b.Update,metadataAddress:p??r.PublicKey.default},E),new r.TransactionInstruction({keys:A,programId:S,data:E})}e.createUpdateMetadataPointerInstruction=u})(instructions$1);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(instructions$1,e),n(state$3,e)})(metadataPointer);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(accountType,e),n(cpiGuard,e),n(defaultAccountState,e),n(extensionType,e),n(immutableOwner,e),n(interestBearingMint,e),n(memoTransfer,e),n(metadataPointer,e),n(mintCloseAuthority,e),n(nonTransferable,e),n(transferFee,e),n(permanentDelegate,e),n(transferHook,e)})(extensions);var instructions={},decode={},initializeAccount2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount2InstructionUnchecked=e.decodeInitializeAccount2Instruction=e.createInitializeAccount2Instruction=e.initializeAccount2InstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.initializeAccount2InstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.publicKey)("owner")]);function l(u,d,m,p=a.TOKEN_PROGRAM_ID){const _=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],S=dist$1.Buffer.alloc(e.initializeAccount2InstructionData.span);return e.initializeAccount2InstructionData.encode({instruction:s.TokenInstruction.InitializeAccount2,owner:m},S),new r.TransactionInstruction({keys:_,programId:p,data:S})}e.createInitializeAccount2Instruction=l;function b(u,d=a.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.initializeAccount2InstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:m,mint:p,rent:_},data:S}=f(u);if(S.instruction!==s.TokenInstruction.InitializeAccount2)throw new i.TokenInvalidInstructionTypeError;if(!m||!p||!_)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,mint:p,rent:_},data:S}}e.decodeInitializeAccount2Instruction=b;function f({programId:u,keys:[d,m,p],data:_}){return{programId:u,keys:{account:d,mint:m,rent:p},data:e.initializeAccount2InstructionData.decode(_)}}e.decodeInitializeAccount2InstructionUnchecked=f})(initializeAccount2);var initializeAccount3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount3InstructionUnchecked=e.decodeInitializeAccount3Instruction=e.createInitializeAccount3Instruction=e.initializeAccount3InstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.initializeAccount3InstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.publicKey)("owner")]);function l(u,d,m,p=a.TOKEN_PROGRAM_ID){const _=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1}],S=dist$1.Buffer.alloc(e.initializeAccount3InstructionData.span);return e.initializeAccount3InstructionData.encode({instruction:s.TokenInstruction.InitializeAccount3,owner:m},S),new r.TransactionInstruction({keys:_,programId:p,data:S})}e.createInitializeAccount3Instruction=l;function b(u,d=a.TOKEN_PROGRAM_ID){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.initializeAccount3InstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{account:m,mint:p},data:_}=f(u);if(_.instruction!==s.TokenInstruction.InitializeAccount3)throw new i.TokenInvalidInstructionTypeError;if(!m||!p)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:m,mint:p},data:_}}e.decodeInitializeAccount3Instruction=b;function f({programId:u,keys:[d,m],data:p}){return{programId:u,keys:{account:d,mint:m},data:e.initializeAccount3InstructionData.decode(p)}}e.decodeInitializeAccount3InstructionUnchecked=f})(initializeAccount3);Object.defineProperty(decode,"__esModule",{value:!0});decode.isUiamountToAmountInstruction=decode.isAmountToUiAmountInstruction=decode.isInitializeMint2Instruction=decode.isInitializeAccount3Instruction=decode.isSyncNativeInstruction=decode.isInitializeAccount2Instruction=decode.isBurnCheckedInstruction=decode.isMintToCheckedInstruction=decode.isApproveCheckedInstruction=decode.isTransferCheckedInstruction=decode.isThawAccountInstruction=decode.isFreezeAccountInstruction=decode.isCloseAccountInstruction=decode.isBurnInstruction=decode.isMintToInstruction=decode.isSetAuthorityInstruction=decode.isRevokeInstruction=decode.isApproveInstruction=decode.isTransferInstruction=decode.isInitializeMultisigInstruction=decode.isInitializeAccountInstruction=decode.isInitializeMintInstruction=decode.decodeInstruction=void 0;const buffer_layout_1$1=Layout$2,constants_js_1$1=constants$3,errors_js_1$1=errors,amountToUiAmount_js_1=amountToUiAmount$1,approve_js_1=approve$1,approveChecked_js_1=approveChecked$1,burn_js_1=burn$1,burnChecked_js_1=burnChecked$1,closeAccount_js_1=closeAccount$1,freezeAccount_js_1=freezeAccount$1,initializeAccount_js_1=initializeAccount,initializeAccount2_js_1=initializeAccount2,initializeAccount3_js_1=initializeAccount3,initializeMint_js_1=initializeMint,initializeMint2_js_1=initializeMint2,initializeMultisig_js_1=initializeMultisig,mintTo_js_1=mintTo$1,mintToChecked_js_1=mintToChecked$1,revoke_js_1=revoke$1,setAuthority_js_1=setAuthority$1,syncNative_js_1=syncNative$2,thawAccount_js_1=thawAccount$1,transfer_js_1=transfer$1,transferChecked_js_1=transferChecked$2,types_js_1$1=types,uiAmountToAmount_js_1=uiAmountToAmount$1;function decodeInstruction(e,t=constants_js_1$1.TOKEN_PROGRAM_ID){if(!e.data.length)throw new errors_js_1$1.TokenInvalidInstructionDataError;const n=(0,buffer_layout_1$1.u8)().decode(e.data);if(n===types_js_1$1.TokenInstruction.InitializeMint)return(0,initializeMint_js_1.decodeInitializeMintInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.InitializeAccount)return(0,initializeAccount_js_1.decodeInitializeAccountInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.InitializeMultisig)return(0,initializeMultisig_js_1.decodeInitializeMultisigInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.Transfer)return(0,transfer_js_1.decodeTransferInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.Approve)return(0,approve_js_1.decodeApproveInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.Revoke)return(0,revoke_js_1.decodeRevokeInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.SetAuthority)return(0,setAuthority_js_1.decodeSetAuthorityInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.MintTo)return(0,mintTo_js_1.decodeMintToInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.Burn)return(0,burn_js_1.decodeBurnInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.CloseAccount)return(0,closeAccount_js_1.decodeCloseAccountInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.FreezeAccount)return(0,freezeAccount_js_1.decodeFreezeAccountInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.ThawAccount)return(0,thawAccount_js_1.decodeThawAccountInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.TransferChecked)return(0,transferChecked_js_1.decodeTransferCheckedInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.ApproveChecked)return(0,approveChecked_js_1.decodeApproveCheckedInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.MintToChecked)return(0,mintToChecked_js_1.decodeMintToCheckedInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.BurnChecked)return(0,burnChecked_js_1.decodeBurnCheckedInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.InitializeAccount2)return(0,initializeAccount2_js_1.decodeInitializeAccount2Instruction)(e,t);if(n===types_js_1$1.TokenInstruction.SyncNative)return(0,syncNative_js_1.decodeSyncNativeInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.InitializeAccount3)return(0,initializeAccount3_js_1.decodeInitializeAccount3Instruction)(e,t);if(n===types_js_1$1.TokenInstruction.InitializeMint2)return(0,initializeMint2_js_1.decodeInitializeMint2Instruction)(e,t);if(n===types_js_1$1.TokenInstruction.AmountToUiAmount)return(0,amountToUiAmount_js_1.decodeAmountToUiAmountInstruction)(e,t);if(n===types_js_1$1.TokenInstruction.UiAmountToAmount)return(0,uiAmountToAmount_js_1.decodeUiAmountToAmountInstruction)(e,t);throw n===types_js_1$1.TokenInstruction.InitializeMultisig2?new errors_js_1$1.TokenInvalidInstructionTypeError:new errors_js_1$1.TokenInvalidInstructionTypeError}decode.decodeInstruction=decodeInstruction;function isInitializeMintInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeMint}decode.isInitializeMintInstruction=isInitializeMintInstruction;function isInitializeAccountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeAccount}decode.isInitializeAccountInstruction=isInitializeAccountInstruction;function isInitializeMultisigInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeMultisig}decode.isInitializeMultisigInstruction=isInitializeMultisigInstruction;function isTransferInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.Transfer}decode.isTransferInstruction=isTransferInstruction;function isApproveInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.Approve}decode.isApproveInstruction=isApproveInstruction;function isRevokeInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.Revoke}decode.isRevokeInstruction=isRevokeInstruction;function isSetAuthorityInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.SetAuthority}decode.isSetAuthorityInstruction=isSetAuthorityInstruction;function isMintToInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.MintTo}decode.isMintToInstruction=isMintToInstruction;function isBurnInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.Burn}decode.isBurnInstruction=isBurnInstruction;function isCloseAccountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.CloseAccount}decode.isCloseAccountInstruction=isCloseAccountInstruction;function isFreezeAccountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.FreezeAccount}decode.isFreezeAccountInstruction=isFreezeAccountInstruction;function isThawAccountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.ThawAccount}decode.isThawAccountInstruction=isThawAccountInstruction;function isTransferCheckedInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.TransferChecked}decode.isTransferCheckedInstruction=isTransferCheckedInstruction;function isApproveCheckedInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.ApproveChecked}decode.isApproveCheckedInstruction=isApproveCheckedInstruction;function isMintToCheckedInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.MintToChecked}decode.isMintToCheckedInstruction=isMintToCheckedInstruction;function isBurnCheckedInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.BurnChecked}decode.isBurnCheckedInstruction=isBurnCheckedInstruction;function isInitializeAccount2Instruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeAccount2}decode.isInitializeAccount2Instruction=isInitializeAccount2Instruction;function isSyncNativeInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.SyncNative}decode.isSyncNativeInstruction=isSyncNativeInstruction;function isInitializeAccount3Instruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeAccount3}decode.isInitializeAccount3Instruction=isInitializeAccount3Instruction;function isInitializeMint2Instruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.InitializeMint2}decode.isInitializeMint2Instruction=isInitializeMint2Instruction;function isAmountToUiAmountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.AmountToUiAmount}decode.isAmountToUiAmountInstruction=isAmountToUiAmountInstruction;function isUiamountToAmountInstruction(e){return e.data.instruction===types_js_1$1.TokenInstruction.UiAmountToAmount}decode.isUiamountToAmountInstruction=isUiamountToAmountInstruction;var initializeMultisig2={};Object.defineProperty(initializeMultisig2,"__esModule",{value:!0});var initializeImmutableOwner={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeImmutableOwnerInstructionUnchecked=e.decodeInitializeImmutableOwnerInstruction=e.createInitializeImmutableOwnerInstruction=e.initializeImmutableOwnerInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=errors,a=types;e.initializeImmutableOwnerInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function i(b,f){const u=[{pubkey:b,isSigner:!1,isWritable:!0}],d=dist$1.Buffer.alloc(e.initializeImmutableOwnerInstructionData.span);return e.initializeImmutableOwnerInstructionData.encode({instruction:a.TokenInstruction.InitializeImmutableOwner},d),new n.TransactionInstruction({keys:u,programId:f,data:d})}e.createInitializeImmutableOwnerInstruction=i;function s(b,f){if(!b.programId.equals(f))throw new r.TokenInvalidInstructionProgramError;if(b.data.length!==e.initializeImmutableOwnerInstructionData.span)throw new r.TokenInvalidInstructionDataError;const{keys:{account:u},data:d}=l(b);if(d.instruction!==a.TokenInstruction.InitializeImmutableOwner)throw new r.TokenInvalidInstructionTypeError;if(!u)throw new r.TokenInvalidInstructionKeysError;return{programId:f,keys:{account:u},data:d}}e.decodeInitializeImmutableOwnerInstruction=s;function l({programId:b,keys:[f],data:u}){const{instruction:d}=e.initializeImmutableOwnerInstructionData.decode(u);return{programId:b,keys:{account:f},data:{instruction:d}}}e.decodeInitializeImmutableOwnerInstructionUnchecked=l})(initializeImmutableOwner);var initializeMintCloseAuthority={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintCloseAuthorityInstructionUnchecked=e.decodeInitializeMintCloseAuthorityInstruction=e.createInitializeMintCloseAuthorityInstruction=e.initializeMintCloseAuthorityInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=constants$3,i=errors,s=types;e.initializeMintCloseAuthorityInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,t.u8)("closeAuthorityOption"),(0,n.publicKey)("closeAuthority")]);function l(u,d,m){if(!(0,a.programSupportsExtensions)(m))throw new i.TokenUnsupportedInstructionError;const p=[{pubkey:u,isSigner:!1,isWritable:!0}],_=dist$1.Buffer.alloc(e.initializeMintCloseAuthorityInstructionData.span);return e.initializeMintCloseAuthorityInstructionData.encode({instruction:s.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:d?1:0,closeAuthority:d||new r.PublicKey(0)},_),new r.TransactionInstruction({keys:p,programId:m,data:_})}e.createInitializeMintCloseAuthorityInstruction=l;function b(u,d){if(!u.programId.equals(d))throw new i.TokenInvalidInstructionProgramError;if(u.data.length!==e.initializeMintCloseAuthorityInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:m},data:p}=f(u);if(p.instruction!==s.TokenInstruction.InitializeMintCloseAuthority)throw new i.TokenInvalidInstructionTypeError;if(!m)throw new i.TokenInvalidInstructionKeysError;return{programId:d,keys:{mint:m},data:p}}e.decodeInitializeMintCloseAuthorityInstruction=b;function f({programId:u,keys:[d],data:m}){const{instruction:p,closeAuthorityOption:_,closeAuthority:S}=e.initializeMintCloseAuthorityInstructionData.decode(m);return{programId:u,keys:{mint:d},data:{instruction:p,closeAuthority:_?S:null}}}e.decodeInitializeMintCloseAuthorityInstructionUnchecked=f})(initializeMintCloseAuthority);var reallocate={};Object.defineProperty(reallocate,"__esModule",{value:!0});reallocate.createReallocateInstruction=void 0;const buffer_layout_1=Layout$2,web3_js_1$d=require$$0$1,constants_js_1=constants$3,errors_js_1=errors,internal_js_1=internal$1,types_js_1=types;function createReallocateInstruction(e,t,n,r,a=[],i=constants_js_1.TOKEN_2022_PROGRAM_ID){if(!(0,constants_js_1.programSupportsExtensions)(i))throw new errors_js_1.TokenUnsupportedInstructionError;const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:web3_js_1$d.SystemProgram.programId,isSigner:!1,isWritable:!1}],l=(0,internal_js_1.addSigners)(s,r,a),b=(0,buffer_layout_1.struct)([(0,buffer_layout_1.u8)("instruction"),(0,buffer_layout_1.seq)((0,buffer_layout_1.u16)(),n.length,"extensionTypes")]),f=dist$1.Buffer.alloc(b.span);return b.encode({instruction:types_js_1.TokenInstruction.Reallocate,extensionTypes:n},f),new web3_js_1$d.TransactionInstruction({keys:l,programId:i,data:f})}reallocate.createReallocateInstruction=createReallocateInstruction;var initializeNonTransferableMint={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createInitializeNonTransferableMintInstruction=e.initializeNonTransferableMintInstructionData=void 0;const t=Layout$2,n=require$$0$1,r=constants$3,a=errors,i=types;e.initializeNonTransferableMintInstructionData=(0,t.struct)([(0,t.u8)("instruction")]);function s(l,b){if(!(0,r.programSupportsExtensions)(b))throw new a.TokenUnsupportedInstructionError;const f=[{pubkey:l,isSigner:!1,isWritable:!0}],u=dist$1.Buffer.alloc(e.initializeNonTransferableMintInstructionData.span);return e.initializeNonTransferableMintInstructionData.encode({instruction:i.TokenInstruction.InitializeNonTransferableMint},u),new n.TransactionInstruction({keys:f,programId:b,data:u})}e.createInitializeNonTransferableMintInstruction=s})(initializeNonTransferableMint);var initializePermanentDelegate={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializePermanentDelegateInstructionUnchecked=e.decodeInitializePermanentDelegateInstruction=e.createInitializePermanentDelegateInstruction=e.initializePermanentDelegateInstructionData=void 0;const t=Layout$2,n=cjs,r=require$$0$1,a=require$$0$1,i=constants$3,s=errors,l=types;e.initializePermanentDelegateInstructionData=(0,t.struct)([(0,t.u8)("instruction"),(0,n.publicKey)("delegate")]);function b(d,m,p){if(!(0,i.programSupportsExtensions)(p))throw new s.TokenUnsupportedInstructionError;const _=[{pubkey:d,isSigner:!1,isWritable:!0}],S=dist$1.Buffer.alloc(e.initializePermanentDelegateInstructionData.span);return e.initializePermanentDelegateInstructionData.encode({instruction:l.TokenInstruction.InitializePermanentDelegate,delegate:m||new r.PublicKey(0)},S),new a.TransactionInstruction({keys:_,programId:p,data:S})}e.createInitializePermanentDelegateInstruction=b;function f(d,m){if(!d.programId.equals(m))throw new s.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializePermanentDelegateInstructionData.span)throw new s.TokenInvalidInstructionDataError;const{keys:{mint:p},data:_}=u(d);if(_.instruction!==l.TokenInstruction.InitializePermanentDelegate)throw new s.TokenInvalidInstructionTypeError;if(!p)throw new s.TokenInvalidInstructionKeysError;return{programId:m,keys:{mint:p},data:_}}e.decodeInitializePermanentDelegateInstruction=f;function u({programId:d,keys:[m],data:p}){const{instruction:_,delegate:S}=e.initializePermanentDelegateInstructionData.decode(p);return{programId:d,keys:{mint:m},data:{instruction:_,delegate:S}}}e.decodeInitializePermanentDelegateInstructionUnchecked=u})(initializePermanentDelegate);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(associatedTokenAccount,e),n(decode,e),n(types,e),n(initializeMint,e),n(initializeAccount,e),n(initializeMultisig,e),n(transfer$1,e),n(approve$1,e),n(revoke$1,e),n(setAuthority$1,e),n(mintTo$1,e),n(burn$1,e),n(closeAccount$1,e),n(freezeAccount$1,e),n(thawAccount$1,e),n(transferChecked$2,e),n(approveChecked$1,e),n(mintToChecked$1,e),n(burnChecked$1,e),n(initializeAccount2,e),n(syncNative$2,e),n(initializeAccount3,e),n(initializeMultisig2,e),n(initializeMint2,e),n(initializeImmutableOwner,e),n(amountToUiAmount$1,e),n(uiAmountToAmount$1,e),n(initializeMintCloseAuthority,e),n(reallocate,e),n(createNativeMint$1,e),n(initializeNonTransferableMint,e),n(initializePermanentDelegate,e)})(instructions);var state={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(account,e),n(mint,e),n(multisig,e)})(state);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(actions$6,e),n(constants$3,e),n(errors,e),n(extensions,e),n(instructions,e),n(state,e)})(cjs$1);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(token,"__esModule",{value:!0});token.createAssociatedTokenAccountIdempotent=token.createAssociatedTokenAccount=token.transferToTokenAccount=token.setAccountAuthority=token.setFreezeAuthority=token.setMintAuthority=token.mintToTokenAccount=token.createTokenAccount=token.createMint=token.getParsedTokenAccountsByOwner=void 0;const spl_token_1$5=cjs$1,web3_js_1$c=require$$0$1,_1=src$5,getParsedTokenAccountsByOwner=(e,t,n=spl_token_1$5.TOKEN_PROGRAM_ID)=>__awaiter$d(void 0,void 0,void 0,function*(){return(yield e.getTokenAccountsByOwner(t,{programId:n})).value.map(r=>(0,spl_token_1$5.unpackAccount)(r.pubkey,r.account,n))});token.getParsedTokenAccountsByOwner=getParsedTokenAccountsByOwner;function createMint(e,t,n,r){return a=>__awaiter$d(this,void 0,void 0,function*(){return[{instruction:web3_js_1$c.SystemProgram.createAccount({fromPubkey:a.publicKey(),lamports:(0,_1.calculateMinimumRent)(spl_token_1$5.MINT_SIZE),newAccountPubkey:e.publicKey(),programId:spl_token_1$5.TOKEN_PROGRAM_ID,space:spl_token_1$5.MINT_SIZE}),signers:[e,a]},{instruction:(0,spl_token_1$5.createInitializeMintInstruction)(e.publicKey(),t,n,r),signers:[]}]})}token.createMint=createMint;function createTokenAccount(e,t,n){return r=>__awaiter$d(this,void 0,void 0,function*(){return[{instruction:web3_js_1$c.SystemProgram.createAccount({fromPubkey:r.publicKey(),lamports:(0,_1.calculateMinimumRent)(spl_token_1$5.ACCOUNT_SIZE),newAccountPubkey:e.publicKey(),programId:spl_token_1$5.TOKEN_PROGRAM_ID,space:spl_token_1$5.ACCOUNT_SIZE}),signers:[e,r]},{instruction:(0,spl_token_1$5.createInitializeAccountInstruction)(e.publicKey(),n,t),signers:[]}]})}token.createTokenAccount=createTokenAccount;function mintToTokenAccount(e,t,n,r){return()=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createMintToInstruction)(t,n,e.publicKey(),r,[]),signers:[e]}})}token.mintToTokenAccount=mintToTokenAccount;function setMintAuthority(e,t,n){return()=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createSetAuthorityInstruction)(e,t.publicKey(),spl_token_1$5.AuthorityType.MintTokens,n),signers:[t]}})}token.setMintAuthority=setMintAuthority;function setFreezeAuthority(e,t,n){return()=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createSetAuthorityInstruction)(e,t.publicKey(),spl_token_1$5.AuthorityType.FreezeAccount,n),signers:[t]}})}token.setFreezeAuthority=setFreezeAuthority;function setAccountAuthority(e,t,n){return()=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createSetAuthorityInstruction)(e,t.publicKey(),spl_token_1$5.AuthorityType.AccountOwner,n),signers:[t]}})}token.setAccountAuthority=setAccountAuthority;function transferToTokenAccount(e,t,n,r){return()=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createTransferInstruction)(t,n,e.publicKey(),r,[]),signers:[e]}})}token.transferToTokenAccount=transferToTokenAccount;function createAssociatedTokenAccount(e,t,n=!0,r=spl_token_1$5.TOKEN_PROGRAM_ID,a=spl_token_1$5.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,spl_token_1$5.getAssociatedTokenAddressSync)(e,t,n,r,a);return{instructions:s=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createAssociatedTokenAccountInstruction)(s.publicKey(),i,t,e,r,a),signers:[s]}}),address:i}}token.createAssociatedTokenAccount=createAssociatedTokenAccount;function createAssociatedTokenAccountIdempotent(e,t,n=!0,r=spl_token_1$5.TOKEN_PROGRAM_ID,a=spl_token_1$5.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,spl_token_1$5.getAssociatedTokenAddressSync)(e,t,n,r,a);return{instructions:s=>__awaiter$d(this,void 0,void 0,function*(){return{instruction:(0,spl_token_1$5.createAssociatedTokenAccountIdempotentInstruction)(s.publicKey(),i,t,e,r,a),signers:[s]}}),address:i}}token.createAssociatedTokenAccountIdempotent=createAssociatedTokenAccountIdempotent;var transactions={},sizing={};const defaultErrorConfig={withStackTrace:!1},createNeverThrowError=(e,t,n=defaultErrorConfig)=>{const r=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},a=n.withStackTrace?new Error().stack:void 0;return{data:r,message:e,stack:a}};function __awaiter$c(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})}function __values(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(m){r[m]&&(a[m]=function(p){return new Promise(function(_,S){i.push([m,p,_,S])>1||l(m,p)})})}function l(m,p){try{b(r[m](p))}catch(_){d(i[0][3],_)}}function b(m){m.value instanceof __await?Promise.resolve(m.value.v).then(f,u):d(i[0][2],m)}function f(m){l("next",m)}function u(m){l("throw",m)}function d(m,p){m(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function __asyncDelegator(e){var t,n;return t={},r("next"),r("throw",function(a){throw a}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(a,i){t[a]=e[a]?function(s){return(n=!n)?{value:__await(e[a](s)),done:a==="return"}:i?i(s):s}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(l,b){s=e[i](s),a(l,b,s.done,s.value)})}}function a(i,s,l,b){Promise.resolve(b).then(function(f){i({value:f,done:l})},s)}}class ResultAsync{constructor(t){this._promise=t}static fromSafePromise(t){const n=t.then(r=>new Ok(r));return new ResultAsync(n)}static fromPromise(t,n){const r=t.then(a=>new Ok(a)).catch(a=>new Err(n(a)));return new ResultAsync(r)}static combine(t){return combineResultAsyncList(t)}static combineWithAllErrors(t){return combineResultAsyncListWithAllErrors(t)}map(t){return new ResultAsync(this._promise.then(n=>__awaiter$c(this,void 0,void 0,function*(){return n.isErr()?new Err(n.error):new Ok(yield t(n.value))})))}mapErr(t){return new ResultAsync(this._promise.then(n=>__awaiter$c(this,void 0,void 0,function*(){return n.isOk()?new Ok(n.value):new Err(yield t(n.error))})))}andThen(t){return new ResultAsync(this._promise.then(n=>{if(n.isErr())return new Err(n.error);const r=t(n.value);return r instanceof ResultAsync?r._promise:r}))}orElse(t){return new ResultAsync(this._promise.then(n=>__awaiter$c(this,void 0,void 0,function*(){return n.isErr()?t(n.error):new Ok(n.value)})))}match(t,n){return this._promise.then(r=>r.match(t,n))}unwrapOr(t){return this._promise.then(n=>n.unwrapOr(t))}safeUnwrap(){return __asyncGenerator(this,arguments,function*(){return yield __await(yield __await(yield*__asyncDelegator(__asyncValues(yield __await(this._promise.then(n=>n.safeUnwrap()))))))})}then(t,n){return this._promise.then(t,n)}}const okAsync=e=>new ResultAsync(Promise.resolve(new Ok(e))),errAsync=e=>new ResultAsync(Promise.resolve(new Err(e))),fromPromise=ResultAsync.fromPromise,fromSafePromise=ResultAsync.fromSafePromise,appendValueToEndOfList=e=>t=>[...t,e],combineResultList=e=>e.reduce((t,n)=>t.isOk()?n.isErr()?err(n.error):t.map(appendValueToEndOfList(n.value)):t,ok([])),combineResultAsyncList=e=>ResultAsync.fromSafePromise(Promise.all(e)).andThen(combineResultList),combineResultListWithAllErrors=e=>e.reduce((t,n)=>n.isErr()?t.isErr()?err([...t.error,n.error]):err([n.error]):t.isErr()?t:ok([...t.value,n.value]),ok([])),combineResultAsyncListWithAllErrors=e=>ResultAsync.fromSafePromise(Promise.all(e)).andThen(combineResultListWithAllErrors);var Result;(function(e){function t(a,i){return(...s)=>{try{const l=a(...s);return ok(l)}catch(l){return err(i?i(l):l)}}}e.fromThrowable=t;function n(a){return combineResultList(a)}e.combine=n;function r(a){return combineResultListWithAllErrors(a)}e.combineWithAllErrors=r})(Result||(Result={}));const ok=e=>new Ok(e),err=e=>new Err(e);function safeTry(e){const t=e().next();return t instanceof Promise?t.then(n=>n.value):t.value}class Ok{constructor(t){this.value=t}isOk(){return!0}isErr(){return!this.isOk()}map(t){return ok(t(this.value))}mapErr(t){return ok(this.value)}andThen(t){return t(this.value)}orElse(t){return ok(this.value)}asyncAndThen(t){return t(this.value)}asyncMap(t){return ResultAsync.fromSafePromise(t(this.value))}unwrapOr(t){return this.value}match(t,n){return t(this.value)}safeUnwrap(){const t=this.value;return function*(){return t}()}_unsafeUnwrap(t){return this.value}_unsafeUnwrapErr(t){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,t)}}class Err{constructor(t){this.error=t}isOk(){return!1}isErr(){return!this.isOk()}map(t){return err(this.error)}mapErr(t){return err(t(this.error))}andThen(t){return err(this.error)}orElse(t){return t(this.error)}asyncAndThen(t){return errAsync(this.error)}asyncMap(t){return errAsync(this.error)}unwrapOr(t){return t}match(t,n){return n(this.error)}safeUnwrap(){const t=this.error;return function*(){throw yield err(t),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(t){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,t)}_unsafeUnwrapErr(t){return this.error}}const fromThrowable=Result.fromThrowable;var index_es=Object.freeze(Object.defineProperty({__proto__:null,Err,Ok,get Result(){return Result},ResultAsync,err,errAsync,fromPromise,fromSafePromise,fromThrowable,ok,okAsync,safeTry},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(index_es),transactionHandling={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(transactionHandling,"__esModule",{value:!0});transactionHandling.prettyTransaction=transactionHandling.buildSendAndCheck=transactionHandling.sendTransaction=transactionHandling.sendAndConfirmTransaction=transactionHandling.buildAndSignTransactionsFromIxWithSigners=transactionHandling.signTransactionReturns=transactionHandling.buildTransactionsFromIxWithSigners=transactionHandling.formatExplorerLink=transactionHandling.formatExplorerMessageLink=transactionHandling.buildAndSignTransactions=transactionHandling.buildAndSignTransaction=void 0;const web3_js_1$b=require$$0$1,assert_1=__importDefault(assert$2.exports),neverthrow_1=require$$1,util_1=util;function buildAndSignTransaction(e,t,n){return __awaiter$b(this,void 0,void 0,function*(){const r=(yield buildAndSignTransactions([{ixs:e,connectionOrRbh:n}],t))[0];if(r===void 0)throw new Error("Transaction was not built correctly");return r})}transactionHandling.buildAndSignTransaction=buildAndSignTransaction;function buildAndSignTransactions(e,t){return __awaiter$b(this,void 0,void 0,function*(){return yield buildAndSignTransactionsFromIxWithSigners(yield Promise.all(e.map(({ixs:n,connectionOrRbh:r})=>__awaiter$b(this,void 0,void 0,function*(){return{ixs:(0,util_1.normalizeArray)(yield Promise.all((0,util_1.normalizeArray)(n).map(a=>a(t)))).flat(),connectionOrRbh:r}}))),t)})}transactionHandling.buildAndSignTransactions=buildAndSignTransactions;function formatExplorerMessageLink(e,t){const n=encodeURIComponent(t.rpcEndpoint),r=e.serializeMessage();return`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(r.toString("base64"))}&cluster=custom&customUrl=${n}`}transactionHandling.formatExplorerMessageLink=formatExplorerMessageLink;function formatExplorerLink(e,t){const n=encodeURIComponent(t.rpcEndpoint);return`https://explorer.solana.com/tx/${e}?cluster=custom&customUrl=${n}`}transactionHandling.formatExplorerLink=formatExplorerLink;function buildTransactionsFromIxWithSigners(e,t){return __awaiter$b(this,void 0,void 0,function*(){const n=new Map;if("signer"in t){const a=t.signer.publicKey().toBase58(),i={signer:t.signer,transactions:new Set};for(let s=0;s<e.length;s++)i.transactions.add(s);n.set(a,i)}const r="signer"in t?t.signer.publicKey():t.key;return{tx:yield Promise.all(e.map(({ixs:a,connectionOrRbh:i},s)=>__awaiter$b(this,void 0,void 0,function*(){const l=(0,util_1.normalizeArray)(a),b=new web3_js_1$b.Transaction,f=l.map(p=>p.instruction);b.add(...f);for(const p of l.flatMap(_=>_.signers)){const _=p.publicKey().toBase58(),S=n.get(_);S===void 0?n.set(_,{signer:p,transactions:new Set([s])}):S.transactions.add(s)}let u,d;"connection"in i?(u=yield i.connection.getLatestBlockhash(i.commitment),d=i.commitment||i.connection.commitment||"processed"):(u=i.rbh,d=i.commitment),b.recentBlockhash=u.blockhash,b.feePayer=r,b.lastValidBlockHeight=u.lastValidBlockHeight;const m=b.signatures.filter(p=>p.signature===null).map(p=>({key:p.publicKey,indexes:b.instructions.map((_,S)=>({instructionProgram:_.programId,instructionIndex:S,keyIndexes:_.keys.map((A,E)=>A.isSigner&&A.pubkey.equals(p.publicKey)?E:null).filter(A=>A!==null)})).filter(_=>_.keyIndexes.length>0)}));if(m.length>0)throw new Error("Transaction not fully signed: "+JSON.stringify(m,null,2));return{transaction:b,rbh:u,commitment:d}}))),signers:n}})}transactionHandling.buildTransactionsFromIxWithSigners=buildTransactionsFromIxWithSigners;function signTransactionReturns(e,t){return __awaiter$b(this,void 0,void 0,function*(){const n=({signer:r,transactions:a})=>__awaiter$b(this,void 0,void 0,function*(){const i=e.map((l,b)=>({tx:l,index:b})).filter(({index:l})=>a.has(l)),s=yield r.signAll(i.map(({tx:l})=>l.transaction));(0,assert_1.default)(s.length===i.length);for(let l=0;l<i.length;l++)e[i[l].index].transaction=s[l]});for(const r of t.values())r.signer.requiresAsync()&&(yield n(r));for(const r of t.values())r.signer.requiresAsync()||(yield n(r));return e})}transactionHandling.signTransactionReturns=signTransactionReturns;function buildAndSignTransactionsFromIxWithSigners(e,t){return __awaiter$b(this,void 0,void 0,function*(){const{tx:n,signers:r}=yield buildTransactionsFromIxWithSigners(e,{signer:t});return signTransactionReturns(n,r)})}transactionHandling.buildAndSignTransactionsFromIxWithSigners=buildAndSignTransactionsFromIxWithSigners;function sendAndConfirmTransaction(e,t,n,r){return __awaiter$b(this,void 0,void 0,function*(){const a=yield t.sendRawTransaction(e.transaction.serialize(r),n);return{signature:a,signatureResult:(yield t.confirmTransaction(Object.assign(Object.assign({},e.rbh),{signature:a}),e.commitment)).value}})}transactionHandling.sendAndConfirmTransaction=sendAndConfirmTransaction;function sendTransaction(e,t,n){return __awaiter$b(this,void 0,void 0,function*(){const r=e.transaction.serialize(n==null?void 0:n.serializeConfig),a=(n==null?void 0:n.commitment)||"confirmed",i=yield t.sendRawTransaction(r,n==null?void 0:n.sendOptions),s=yield t.confirmTransaction(Object.assign({signature:i},e.rbh),a);return s.value.err!==null?{context:s.context,value:(0,neverthrow_1.err)(s.value.err)}:{context:s.context,value:(0,neverthrow_1.ok)(i)}})}transactionHandling.sendTransaction=sendTransaction;function buildSendAndCheck(e,t,n,r){var a,i,s;return __awaiter$b(this,void 0,void 0,function*(){e=(0,util_1.normalizeArray)(e);const l=(r==null?void 0:r.commitment)||"confirmed";let b=yield buildAndSignTransaction(e,t,{connection:n,commitment:l});r!=null&&r.postTransactionHandler&&(b=(a=r.postTransactionHandler(b))!==null&&a!==void 0?a:b);const{signature:f,signatureResult:u}=yield sendAndConfirmTransaction(b,n,Object.assign({skipPreflight:!1},r==null?void 0:r.sendOptions),r==null?void 0:r.serializeConfig);if(u.err!==null){if(!(r!=null&&r.suppressLogging)){console.error("Transaction signature: ",f);const d=yield n.getTransaction(f,{commitment:l,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(i=d==null?void 0:d.meta)===null||i===void 0?void 0:i.logMessages),console.error(`Explorer link: ${formatExplorerLink(f,n)}`)}throw new Error("Transaction error: "+JSON.stringify(u.err,null,2))}else if(r!=null&&r.suppressLogging!=null&&!r.suppressLogging){console.info("Transaction signature: ",f);const d=yield n.getTransaction(f,{commitment:l,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(s=d==null?void 0:d.meta)===null||s===void 0?void 0:s.logMessages)}return f})}transactionHandling.buildSendAndCheck=buildSendAndCheck;function prettyTransaction(e){var t;return{signatures:e.signatures.map(n=>({publicKey:n.publicKey.toBase58(),signature:n.signature!==null})),instructions:e.instructions.map(n=>({keys:n.keys.map(prettyAccountMeta),programId:n.programId.toBase58()})),feePayer:(t=e.feePayer)===null||t===void 0?void 0:t.toBase58(),recentBlockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight}}transactionHandling.prettyTransaction=prettyTransaction;function prettyAccountMeta(e){return Object.assign(Object.assign({},e),{pubkey:e.pubkey.toBase58()})}(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,p,_,S){function A(E){return E instanceof _?E:new _(function(w){w(E)})}return new(_||(_=Promise))(function(E,w){function M(D){try{v(S.next(D))}catch(L){w(L)}}function T(D){try{v(S.throw(D))}catch(L){w(L)}}function v(D){D.done?E(D.value):A(D.value).then(M,T)}v((S=S.apply(m,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.buildDynamicTransactions=e.buildDynamicTransactionsNoSigning=e.getTransactionSize=e.MAX_TRANSACTION_SIZE=void 0;const n=require$$0$1,r=require$$1,a=util,i=transactionHandling;e.MAX_TRANSACTION_SIZE=1232;function s(m,p){const _=new Set;_.add(p.toBase58()),m.forEach(({instruction:E})=>E.keys.forEach(w=>{w.isSigner&&_.add(w.pubkey.toBase58())}));const S=new Set;S.add(p.toBase58());let A=0;return m.forEach(({instruction:E})=>{S.add(E.programId.toBase58()),E.keys.forEach(w=>S.add(w.pubkey.toBase58())),A+=1+d(E.keys.length)+E.keys.length+d(E.data.length)+E.data.length}),d(_.size)+_.size*64+3+d(S.size)+S.size*32+32+d(m.length)+A}e.getTransactionSize=s;const l=(m,p,_)=>[...m.slice(0,p),_,...m.slice(p)],b=m=>m.map(p=>Object.assign(Object.assign({},p),{instruction:new n.TransactionInstruction({keys:p.instruction.keys.map(_=>Object.assign({},_)),programId:p.instruction.programId,data:p.instruction.data?dist$1.Buffer.from(p.instruction.data):void 0})}));function f(m,p,_=[],S=[]){return t(this,void 0,void 0,function*(){const A=(0,a.normalizeArray)(yield Promise.all((0,a.normalizeArray)(m).map(v=>v(p)))).flat(),E=(0,a.normalizeArray)(yield Promise.all((0,a.normalizeArray)(_).map(v=>v(p)))).flat(),w=(0,a.normalizeArray)(yield Promise.all((0,a.normalizeArray)(S).map(v=>v(p)))).flat(),M=[];let T=[...E,...w];for(const v of A){const D=l(T,T.length-w.length,v);if(s(D,p.publicKey())>e.MAX_TRANSACTION_SIZE){if(M.push(b(T)),T=[...E,v,...w],s(T,p.publicKey())>e.MAX_TRANSACTION_SIZE)return(0,r.err)(`Instruction too large to fit in transaction: ${v.instruction.programId.toBase58()}`)}else T=D}return T.length>E.length+w.length&&M.push(b(T)),(0,r.ok)(M)})}e.buildDynamicTransactionsNoSigning=f;function u(m,p,_,S=[],A=[]){return t(this,void 0,void 0,function*(){const E=yield f(m,p,S,A);return E.isErr()?(0,r.err)(E.error):(0,r.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)(E.value.map(w=>({ixs:w,connectionOrRbh:_})),p))})}e.buildDynamicTransactions=u;function d(m){return m>127?2:1}})(sizing);var transactionSender={};Object.defineProperty(transactionSender,"__esModule",{value:!0});(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(sizing,e),n(transactionHandling,e),n(transactionSender,e)})(transactions);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(account$1,e),n(anchorTypes,e),n(asyncSigner,e),n(dataSource,e),n(enums,e),n(errors$1,e),n(listenProgam,e),n(rpc,e),n(runForAll$1,e),n(systemProgram,e),n(token,e),n(transactions,e),n(util,e)})(src$5);var craftingInstance={},src$3={},common={};Object.defineProperty(common,"__esModule",{value:!0});var constants$2={},craftableItem={},__decorate$e=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$e=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},CraftableItem_1;Object.defineProperty(craftableItem,"__esModule",{value:!0});craftableItem.CraftableItem=craftableItem.craftableItemDataEquals=void 0;const spl_token_1$4=cjs$1,web3_js_1$a=require$$0$1,data_source_1$f=src$5,lodash_1$1=lodash.exports;function craftableItemDataEquals(e,t){return e.version===t.version&&e.bump===t.bump&&(0,lodash_1$1.isEqual)(e.namespace,t.namespace)&&e.domain.equals(t.domain)&&e.mint.equals(t.mint)}craftableItem.craftableItemDataEquals=craftableItemDataEquals;let CraftableItem=CraftableItem_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static findAddress(t,n,r){return web3_js_1$a.PublicKey.findProgramAddressSync([dist$1.Buffer.from("CraftableItem"),n.toBuffer(),r.toBuffer()],t.programId)}static registerCraftableItem(t,n,r,a,i,s){return l=>__awaiter$a(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerCraftableItem(s).accountsStrict({key:n.publicKey(),profile:r,funder:l.publicKey(),craftableItem:this.findAddress(t,a,i)[0],domain:a,mint:i,systemProgram:web3_js_1$a.SystemProgram.programId}).instruction(),signers:[n,l]}]})}static fundCraftableItemBank(t,n,r,a,i){const s=(0,spl_token_1$4.getAssociatedTokenAddressSync)(n,t,!0);return(0,data_source_1$f.transferToTokenAccount)(r,a,s,i)}static drainCraftableItemBank(t,n,r,a,i,s,l,b,f){return u=>__awaiter$a(this,void 0,void 0,function*(){return[{instruction:yield t.methods.drainCraftableItemBank(f).accountsStrict({key:r.publicKey(),profile:a,fundsTo:i==="funder"?u.publicKey():i,craftableItem:n,domain:s,tokenFrom:l,tokenTo:b,tokenProgram:spl_token_1$4.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(t,n){return(0,data_source_1$f.decodeAccount)(t,n,CraftableItem_1)}};CraftableItem.ACCOUNT_NAME="craftableItem";CraftableItem.MIN_DATA_SIZE=8+1+32+32+32+1;CraftableItem=CraftableItem_1=__decorate$e([(0,data_source_1$f.staticImplements)(),__metadata$e("design:paramtypes",[Object,web3_js_1$a.PublicKey])],CraftableItem);craftableItem.CraftableItem=CraftableItem;var craftingFacility={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(u,d,m,p){var _=arguments.length,S=_<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,m):p,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(u,d,m,p);else for(var E=u.length-1;E>=0;E--)(A=u[E])&&(S=(_<3?A(S):_>3?A(d,m,S):A(d,m))||S);return _>3&&S&&Object.defineProperty(d,m,S),S},n=commonjsGlobal&&commonjsGlobal.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,d,m,p){function _(S){return S instanceof m?S:new m(function(A){A(S)})}return new(m||(m=Promise))(function(S,A){function E(T){try{M(p.next(T))}catch(v){A(v)}}function w(T){try{M(p.throw(T))}catch(v){A(v)}}function M(T){T.done?S(T.value):_(T.value).then(E,w)}M((p=p.apply(u,d||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.CraftingFacility=e.craftingFacilityDataEquals=e.CRAFTING_FACILITY_MIN_DATA_SIZE=e.CraftingFacilityLocationType=void 0;const i=require$$0$1,s=src$5;var l;(function(u){u[u.Starbase=0]="Starbase"})(l=e.CraftingFacilityLocationType||(e.CraftingFacilityLocationType={})),e.CRAFTING_FACILITY_MIN_DATA_SIZE=8+1+32+32+1+4+4+4+4;function b(u,d){return u.version===d.version&&u.locationType===d.locationType&&u.maxConcurrentProcesses===d.maxConcurrentProcesses&&u.numConcurrentProcesses===d.numConcurrentProcesses&&u.efficiency===d.efficiency&&u.numRecipeCategories===d.numRecipeCategories&&u.domain.equals(d.domain)&&u.location.equals(d.location)}e.craftingFacilityDataEquals=b;let f=a=class{constructor(d,m,p){this._data=d,this._key=m,this._recipeCategories=p}get data(){return this._data}get key(){return this._key}get recipeCategories(){return this._recipeCategories||[]}static registerCraftingFacility(d,m,p,_,S,A,E){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerCraftingFacility(Object.assign(Object.assign({},E),{locationType:(0,s.getAnchorEnum)(l,E.locationType)})).accountsStrict({key:p.publicKey(),profile:_,funder:w.publicKey(),craftingFacility:m.publicKey(),domain:S,location:A,systemProgram:i.SystemProgram.programId}).instruction(),signers:[p,w,m]}]})}static updateCraftingFacility(d,m,p,_,S,A){const E=Object.assign(Object.assign({},A),{efficiency:A.efficiency==null?null:A.efficiency,maxConcurrentProcesses:A.maxConcurrentProcesses==null?null:A.maxConcurrentProcesses});return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateCraftingFacility(E).accountsStrict({key:p.publicKey(),profile:_,craftingFacility:m,domain:S}).instruction(),signers:[p]}]})}static addCraftingFacilityRecipeCategory(d,m,p,_,S,A,E){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addCraftingFacilityRecipeCategory(E).accountsStrict({key:p.publicKey(),profile:_,funder:w.publicKey(),craftingFacility:m,recipeCategory:A,domain:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[p,w]}]})}static removeCraftingFacilityRecipeCategory(d,m,p,_,S,A,E){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeCraftingFacilityRecipeCategory(E).accountsStrict({key:p.publicKey(),profile:_,funder:w.publicKey(),craftingFacility:m,recipeCategory:A,domain:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[p,w]}]})}static deregisterCraftingFacility(d,m,p,_,S,A,E){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.deregisterCraftingFacility(E).accountsStrict({key:p.publicKey(),profile:_,fundsTo:S==="funder"?w.publicKey():S,craftingFacility:m,domain:A}).instruction(),signers:[p]}]})}static decodeData(d,m){return(0,s.decodeAccountWithRemaining)(d,m,a,(p,_)=>Array(_.numRecipeCategories).fill(0).map((S,A)=>m.coder.types.decode("WrappedRecipeCategory",p.subarray(32*A).subarray(0,32)).id))}};f.ACCOUNT_NAME="craftingFacility",f.MIN_DATA_SIZE=e.CRAFTING_FACILITY_MIN_DATA_SIZE,f=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey,Array])],f),e.CraftingFacility=f})(craftingFacility);var craftingProcess={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(u,d,m,p){var _=arguments.length,S=_<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,m):p,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(u,d,m,p);else for(var E=u.length-1;E>=0;E--)(A=u[E])&&(S=(_<3?A(S):_>3?A(d,m,S):A(d,m))||S);return _>3&&S&&Object.defineProperty(d,m,S),S},n=commonjsGlobal&&commonjsGlobal.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,d,m,p){function _(S){return S instanceof m?S:new m(function(A){A(S)})}return new(m||(m=Promise))(function(S,A){function E(T){try{M(p.next(T))}catch(v){A(v)}}function w(T){try{M(p.throw(T))}catch(v){A(v)}}function M(T){T.done?S(T.value):_(T.value).then(E,w)}M((p=p.apply(u,d||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.CraftingProcess=e.craftingProcessDataEquals=e.CraftingProcessStatus=void 0;const i=cjs$1,s=require$$0$1,l=src$5;(function(u){u[u.Initialized=0]="Initialized",u[u.Started=1]="Started"})(e.CraftingProcessStatus||(e.CraftingProcessStatus={}));function b(u,d){return u.version===d.version&&u.craftingId.eq(d.craftingId)&&u.authority.equals(d.authority)&&u.recipe.equals(d.recipe)&&u.craftingFacility.equals(d.craftingFacility)&&(0,l.arrayDeepEquals)(u.inputsChecksum,d.inputsChecksum,(m,p)=>m===p)&&(0,l.arrayDeepEquals)(u.outputsChecksum,d.outputsChecksum,(m,p)=>m===p)&&u.quantity.eq(d.quantity)&&u.status===d.status&&u.startTime.eq(d.startTime)&&u.endTime.eq(d.endTime)&&u.denyPermissionlessClaiming===d.denyPermissionlessClaiming&&u.bump===d.bump}e.craftingProcessDataEquals=b;let f=a=class{constructor(d,m){this._data=d,this._key=m}get data(){return this._data}get key(){return this._key}static getCargoPodSeeds(){return s.Keypair.generate().publicKey.toBuffer()}static findAddress(d,m,p,_){return s.PublicKey.findProgramAddressSync([dist$1.Buffer.from("CraftingProcess"),m.toBuffer(),p.toBuffer(),_.toArrayLike(dist$1.Buffer,"le",8)],d.programId)}static createCraftingProcess(d,m,p,_,S,A){const E=this.findAddress(d,_,S,A.craftingId)[0];return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.createCraftingProcess(A).accountsStrict({location:m.publicKey(),authority:p.publicKey(),funder:w.publicKey(),craftingProcess:E,recipe:S,craftingFacility:_,systemProgram:s.SystemProgram.programId}).instruction(),signers:[m,p,w]}]})}static addRecipeIngredient(d,m,p,_,S,A,E,w,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addRecipeIngredient(M).accountsStrict({location:m.publicKey(),authority:p.publicKey(),craftingProcess:_,recipe:S,craftingFacility:A,tokenFrom:E,tokenTo:w,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m,p]}]})}static legitimizeRecipeIngredient(d,m,p,_,S,A,E,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.legitimizeRecipeIngredient(w).accountsStrict({location:m.publicKey(),authority:p.publicKey(),craftingProcess:_,recipe:S,craftingFacility:A,tokenTo:E,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m,p]}]})}static removeRecipeIngredient(d,m,p,_,S,A,E,w,M,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeRecipeIngredient(T).accountsStrict({location:m.publicKey(),authority:p.publicKey(),craftingProcess:_,recipe:S,craftingFacility:A,tokenFrom:E,tokenTo:w,mint:M,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m,p]}]})}static startCraftingProcess(d,m,p,_,S,A,E,w,M){const T=[m],v=[];return E&&w&&M&&(T.map(D=>D.publicKey().toBase58()).includes(E.publicKey().toBase58())||T.push(E),v.push({pubkey:E.publicKey(),isSigner:!0,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.startCraftingProcess(A??null).accountsStrict({location:m.publicKey(),craftingProcess:p,recipe:_,craftingFacility:S}).remainingAccounts(v).instruction(),signers:T}]})}static cancelCraftingProcess(d,m,p,_,S,A){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.cancelCraftingProcess().accountsStrict({location:m.publicKey(),authority:p.publicKey(),fundsTo:_==="funder"?E.publicKey():_,craftingProcess:S,craftingFacility:A}).instruction(),signers:[m,p]}]})}static burnConsumableIngredient(d,m,p,_,S,A){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.burnConsumableIngredient(A).accountsStrict({craftingProcess:m,recipe:p,tokenFrom:_,mint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimNonConsumableIngredient(d,m,p,_,S,A,E,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.claimNonConsumableIngredient(w).accountsStrict({authority:p,craftingProcess:m,recipe:_,tokenFrom:S,tokenTo:A,mint:E,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimRecipeOutput(d,m,p,_,S,A,E,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.claimRecipeOutput(w).accountsStrict({authority:p,craftingProcess:m,recipe:_,tokenFrom:S,tokenTo:A,craftableItem:E,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(d,m,p,_,S,A){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.closeCraftingProcess().accountsStrict({authority:m.publicKey(),fundsTo:p==="funder"?E.publicKey():p,craftingProcess:_,recipe:S,craftingFacility:A}).instruction(),signers:[m]}]})}static decodeData(d,m){return(0,l.decodeAccount)(d,m,a)}};f.ACCOUNT_NAME="craftingProcess",f.MIN_DATA_SIZE=8+1+8+32+32+32+32+16+16+8+1+8+8+1,f=a=t([(0,l.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey])],f),e.CraftingProcess=f})(craftingProcess);var domain={},__decorate$d=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$d=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},CraftingDomain_1;Object.defineProperty(domain,"__esModule",{value:!0});domain.CraftingDomain=domain.craftingDomainDataEquals=void 0;const web3_js_1$9=require$$0$1,data_source_1$e=src$5,lodash_1=lodash.exports;function craftingDomainDataEquals(e,t){return e.version===t.version&&e.profile.equals(t.profile)&&(0,lodash_1.isEqual)(e.namespace,t.namespace)}domain.craftingDomainDataEquals=craftingDomainDataEquals;let CraftingDomain=CraftingDomain_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static decodeData(t,n){return(0,data_source_1$e.decodeAccount)(t,n,CraftingDomain_1)}static initializeDomain(t,n,r,a,i){return s=>__awaiter$9(this,void 0,void 0,function*(){return[{instruction:yield t.methods.initializeDomain(i).accountsStrict({signer:r.publicKey(),domain:n.publicKey(),funder:s.publicKey(),profile:a,systemProgram:web3_js_1$9.SystemProgram.programId}).instruction(),signers:[r,n,s]}]})}static updateDomain(t,n,r,a,i,s){return()=>__awaiter$9(this,void 0,void 0,function*(){return[{instruction:yield t.methods.updateDomain(s).accountsStrict({key:r.publicKey(),domain:n,profile:a,newProfile:i}).instruction(),signers:[r]}]})}};CraftingDomain.ACCOUNT_NAME="domain";CraftingDomain.MIN_DATA_SIZE=8+1+32+32+32;CraftingDomain=CraftingDomain_1=__decorate$d([(0,data_source_1$e.staticImplements)(),__metadata$d("design:paramtypes",[Object,web3_js_1$9.PublicKey])],CraftingDomain);domain.CraftingDomain=CraftingDomain;var crafting={};Object.defineProperty(crafting,"__esModule",{value:!0});crafting.IDL=void 0;crafting.IDL={version:"0.1.0",name:"crafting",instructions:[{name:"addConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Mint Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The [`RecipeCategory`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"addNonConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addOutputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The Craftable Item that the output represents"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"AddRecipeIngredientInput"}}]},{name:"burnConsumableIngredient",accounts:[{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the consumable recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"BurnConsumableIngredientInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"claimNonConsumableIngredient",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account to receive the non-consumable ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimNonConsumableIngredientInput"}}]},{name:"claimRecipeOutput",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by `craftable_item`."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable_item (this is also the mint authority)"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimRecipeOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The owner/authority for the new crafting_process account"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"CreateCraftingProcessInput"}}]},{name:"deregisterCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to de-register"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainCraftableItemBank",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [omain account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The craftable item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"initializeDomain",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the crafting program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"domain",isMut:!0,isSigner:!0,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"namespace",type:{array:["u8",32]}}]},{name:"legitimizeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"LegitimizeRecipeIngredientInput"}}]},{name:"registerCraftableItem",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the Craftable Item to be registered"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item to be registered"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftableItemInput"}}]},{name:"registerCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingFacility",isMut:!0,isSigner:!0,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"location",isMut:!1,isSigner:!1,docs:["The Location address"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftingFacilityInput"}}]},{name:"registerRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!0,docs:["The [Recipe] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeInput"}}]},{name:"registerRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!0,isSigner:!0,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeCategoryInput"}}]},{name:"removeConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The recipe category to remove."]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCraftingFacilityRecipeCategoryInput"}}]},{name:"removeNonConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeOutputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account that receives the recipe ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [`Token`] program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredientInput"}}]},{name:"startCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"recipeDurationOverride",type:{option:"u64"}}]},{name:"updateCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateCraftingFacilityInput"}}]},{name:"updateDomain",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"newProfile",isMut:!1,isSigner:!1,docs:["The new crafting permissions profile"]},{name:"domain",isMut:!0,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"updateRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateRecipeInput"}}]},{name:"updateRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"recipeCategoryOld",isMut:!0,isSigner:!1,docs:["The old [RecipeCategory] account"]},{name:"recipeCategoryNew",isMut:!0,isSigner:!1,docs:["The new [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]}],accounts:[{name:"craftableItem",docs:["This PDA represents a token registered as an item that can be crafted"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"mint",docs:["the mint representing the items crafted"],type:"publicKey"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"craftingFacility",docs:["This PDA represents a mine item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"numConcurrentProcesses",docs:["the current number of concurrent crafting processes"],type:"u32"},{name:"efficiency",docs:["the efficiency rate for this crafting_facility (as basis points)"],type:"u32"},{name:"numRecipeCategories",docs:["number of recipe categories"],type:"u32"}]}},{name:"craftingProcess",docs:["This account represents crafting in progress"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"craftingId",docs:["the crafting id"],type:"u64"},{name:"authority",docs:["the owner/authority of this crafting process"],type:"publicKey"},{name:"recipe",docs:["the recipe"],type:"publicKey"},{name:"craftingFacility",docs:["the crafting facility"],type:"publicKey"},{name:"inputsChecksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}},{name:"outputsChecksum",docs:["used to check if expected outputs have been claimed"],type:{array:["u8",16]}},{name:"quantity",docs:["Quantity of outputs to craft"],type:"u64"},{name:"status",docs:["The status of this crafting process"],type:"u8"},{name:"startTime",docs:["the start timestamp"],type:"i64"},{name:"endTime",docs:["the end timestamp"],type:"i64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"domain",docs:['This account allows for a crafting "domain" which allows an admin to set up',"craftable items, recipes and crafting facilities tied to a domain that the control"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The [`Profile`] that handles the crafting program permissions"],type:"publicKey"},{name:"namespace",docs:["the namespace"],type:{array:["u8",32]}}]}},{name:"recipe",docs:["The definition of a recipe."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"category",docs:["The Recipe Category"],type:"publicKey"},{name:"duration",docs:["The time required to craft this Recipe."],type:"i64"},{name:"minDuration",docs:["The minimum time required to craft this Recipe."],type:"i64"},{name:"namespace",docs:["The name of this recipe."],type:{array:["u8",32]}},{name:"consumablesCount",docs:["The number of consumable inputs in this recipe."],type:"u8"},{name:"nonConsumablesCount",docs:["The number of non-consumable inputs in this recipe."],type:"u8"},{name:"outputsCount",docs:["The number of outputs from this recipe."],type:"u8"},{name:"totalCount",docs:["The number of all inputs and outputs in this recipe."],type:"u16"},{name:"status",docs:["The status of the recipe"],type:"u8"},{name:"feeAmount",docs:["The amount to charge when this recipe is used"],type:"u64"},{name:"feeRecipient",docs:["The token account that receives the `fee_amount`.  If [`None`] the recipe requires no fees when used."],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"recipeCategory",docs:["A Crafting Recipe Category account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"recipeCount",docs:["The number of recipes in this category."],type:"u32"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}}]}}],types:[{name:"AddRecipeIngredientInput",docs:["Struct for data input to add an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"BurnConsumableIngredientInput",docs:["Struct for data input to burn a consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the consumable recipe ingredient"],type:"u16"}]}},{name:"ClaimNonConsumableIngredientInput",docs:["Struct for data input to claim a non-consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"ClaimRecipeOutputInput",docs:["Struct for data input to claim an output"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"CreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"bool"}]}},{name:"KeyIndexInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"LegitimizeRecipeIngredientInput",docs:["Struct for data input to legitimize an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `CraftingFacility` might be found"],type:{kind:"enum",variants:[{name:"Starbase"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"ProcessStatus",docs:["The `CraftingProcess` `status`"],type:{kind:"enum",variants:[{name:"Initialized"},{name:"Started"}]}},{name:"RecipeIngredients",docs:["A copy of the [`RecipeInputsOutputs`] struct --> to be used as inputs into the program, avoiding using Borsch Serialization with Zero Copy serialization"],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RecipeInputsOutputs",docs:["The [`RecipeInputsOutputs`] struct."],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"}]}},{name:"RecipeStatus",docs:["Represents the `Recipe` status"],type:{kind:"enum",variants:[{name:"Initializing"},{name:"Active"},{name:"Deactivated"}]}},{name:"RegisterCraftableItemInput",docs:["used as input struct when registering a `CraftableItem`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `CraftableItem` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterCraftingFacilityInput",docs:["Struct for data input to Register a `CraftingFacility`"],type:{kind:"struct",fields:[{name:"locationType",docs:["`CraftingFacility` location type"],type:{defined:"LocationType"}},{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:"u32"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeCategoryInput",docs:["Struct for data input for `RegisterRecipeCategory`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `RecipeCategory` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeInput",docs:["used as input struct when registering a Recipe"],type:{kind:"struct",fields:[{name:"duration",docs:["the recipe duration (seconds)"],type:"i64"},{name:"minDuration",docs:["the recipe minimum duration (seconds)"],type:"i64"},{name:"namespace",docs:["the recipe namespace"],type:{array:["u8",32]}},{name:"feeAmount",docs:["the recipe fee amount"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveCraftingFacilityRecipeCategoryInput",docs:["Struct for data input for removing a [`CraftingFacility`] `RecipeCategory`"],type:{kind:"struct",fields:[{name:"recipeCategoryIndex",docs:["the index of the `RecipeCategory` in the [`CraftingFacility`]"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveRecipeIngredientInput",docs:["Struct for data input to remove an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw/remove"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"RemoveRecipeIngredients",docs:["used as input struct when removing recipe ingredients"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"UpdateCraftingFacilityInput",docs:["Struct for data input to Update `CraftingFacility`"],type:{kind:"struct",fields:[{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:{option:"u32"}},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"UpdateRecipeInput",docs:["Struct for data input to Update `Recipe`"],type:{kind:"struct",fields:[{name:"duration",docs:["`Recipe` duration"],type:{option:"i64"}},{name:"minDuration",docs:["`Recipe` minimum duration"],type:{option:"i64"}},{name:"feeAmount",docs:["`Recipe` fee amount"],type:{option:"u64"}},{name:"status",docs:["`Recipe` status"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"WrappedRecipeCategory",docs:["Wrapped recipe category","We are wrapping this around Pubkey so that we can use Anchor's coder to decode it"],type:{kind:"struct",fields:[{name:"id",docs:["The recipe category public key"],type:"publicKey"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectAuthority",msg:"The authority is incorrect."},{code:6002,name:"NumericOverflow",msg:"Numeric overflow"},{code:6003,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6004,name:"AdminNotMintAuthority",msg:"Admin wallet is not the mint authority of the entered token."},{code:6005,name:"IncorrectMintAddress",msg:"Incorrect mint address entered."},{code:6006,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6007,name:"IncorrectLocation",msg:"The location is incorrect."},{code:6008,name:"IncorrectDomain",msg:"The domain is incorrect."},{code:6009,name:"IncorrectRecipe",msg:"The recipe is incorrect."},{code:6010,name:"IncorrectRecipeCategory",msg:"The recipe category is incorrect."},{code:6011,name:"IncorrectCraftingFacility",msg:"The crafting facility is incorrect."},{code:6012,name:"OverCraftingFacilityCapacity",msg:"The crafting facility capacity has been exceeded."},{code:6013,name:"InsufficientAmount",msg:"The amount is insufficient."},{code:6014,name:"AmountRequired",msg:"An amount greater than 0 must be provided."},{code:6015,name:"AmountTooMuch",msg:"The amount is more than what is required."},{code:6016,name:"InputAlreadySupplied",msg:"The input has already been supplied."},{code:6017,name:"InputNotSupplied",msg:"The input has NOT been supplied."},{code:6018,name:"OutputAlreadyClaimed",msg:"The output has already been claimed."},{code:6019,name:"CraftingProcessAlreadyStarted",msg:"The crafting process has already started."},{code:6020,name:"CraftingProcessNotStarted",msg:"The crafting process has not started."},{code:6021,name:"CraftingProcessNotCompleted",msg:"The crafting process has not completed."},{code:6022,name:"IngredientNotAnInput",msg:"The ingredient is not an input."},{code:6023,name:"IngredientNotAConsumableInput",msg:"The ingredient is not a consumable input."},{code:6024,name:"IngredientNotANonConsumableInput",msg:"The ingredient is not a non-consumable input."},{code:6025,name:"IngredientNotAnOutput",msg:"The ingredient is not an output."},{code:6026,name:"IncorrectInputsChecksum",msg:"The inputs checksum is incorrect."},{code:6027,name:"IncorrectOutputsChecksum",msg:"The outputs checksum is incorrect."},{code:6028,name:"RecipeCountNotZero",msg:"The recipe count is not zero."},{code:6029,name:"RecipeCategoryCountNotZero",msg:"The recipe category count is not zero."},{code:6030,name:"ConcurrentProcessCountNotZero",msg:"The concurrent process count is not zero."},{code:6031,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds."},{code:6032,name:"InvalidDuration",msg:"Duration is invalid."},{code:6033,name:"MissingRequiredSignature",msg:"Missing required signature."},{code:6034,name:"AddressMismatchATA",msg:"ATA address does not match"},{code:6035,name:"CannotUpdateDeactivatedRecipe",msg:"Cannot Update Deactivated Recipe"},{code:6036,name:"InvalidRecipeStatus",msg:"Invalid Recipe Status"},{code:6037,name:"EfficiencyIsZero",msg:"Crafting Facility Efficiency Is Zero"},{code:6038,name:"AddressMismatch",msg:"Address Mismatch"}]};var recipe={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,S,A,E){E===void 0&&(E=A);var w=Object.getOwnPropertyDescriptor(S,A);(!w||("get"in w?!S.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return S[A]}}),Object.defineProperty(_,E,w)}:function(_,S,A,E){E===void 0&&(E=A),_[E]=S[A]}),n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),r=commonjsGlobal&&commonjsGlobal.__decorate||function(_,S,A,E){var w=arguments.length,M=w<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,A):E,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,S,A,E);else for(var v=_.length-1;v>=0;v--)(T=_[v])&&(M=(w<3?T(M):w>3?T(S,A,M):T(S,A))||M);return w>3&&M&&Object.defineProperty(S,A,M),M},a=commonjsGlobal&&commonjsGlobal.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var A in _)A!=="default"&&Object.prototype.hasOwnProperty.call(_,A)&&t(S,_,A);return n(S,_),S},i=commonjsGlobal&&commonjsGlobal.__metadata||function(_,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,S)},s=commonjsGlobal&&commonjsGlobal.__awaiter||function(_,S,A,E){function w(M){return M instanceof A?M:new A(function(T){T(M)})}return new(A||(A=Promise))(function(M,T){function v(I){try{L(E.next(I))}catch(k){T(k)}}function D(I){try{L(E.throw(I))}catch(k){T(k)}}function L(I){I.done?M(I.value):w(I.value).then(v,D)}L((E=E.apply(_,S||[])).next())})},l;Object.defineProperty(e,"__esModule",{value:!0}),e.Recipe=e.recipeDataEquals=e.RECIPE_MIN_DATA_SIZE=e.RecipeStatus=void 0;const b=a(require$$0),f=require$$0$1,u=src$5,d=lodash.exports;(function(_){_[_.Initializing=1]="Initializing",_[_.Active=2]="Active",_[_.Deactivated=3]="Deactivated"})(e.RecipeStatus||(e.RecipeStatus={})),e.RECIPE_MIN_DATA_SIZE=8+1+32+32+8+8+32+1+1+1+1+8+32+2;function m(_,S){return _.version===S.version&&_.domain.equals(S.domain)&&_.category.equals(S.category)&&_.duration.eq(S.duration)&&_.minDuration.eq(S.minDuration)&&(0,d.isEqual)(_.namespace,S.namespace)&&_.consumablesCount===S.consumablesCount&&_.nonConsumablesCount===S.nonConsumablesCount&&_.outputsCount===S.outputsCount&&_.totalCount===S.totalCount&&_.feeAmount.eq(S.feeAmount)&&_.feeRecipient.key.equals(S.feeRecipient.key)&&_.status===S.status}e.recipeDataEquals=m;let p=l=class{constructor(S,A,E){this._data=S,this._key=A,this._ingredientInputsOutputs=E}get data(){return this._data}get key(){return this._key}get ingredientInputsOutputs(){return this._ingredientInputsOutputs}static registerRecipe(S,A,E,w,M,T,v,D){if(v.feeAmount&&v.feeAmount.gt(new b.BN(0))&&!D||D&&(!v.feeAmount||v.feeAmount.lte(new b.BN(0))))throw"feeRecipient must be set if feeAmount is set";const L=D&&v.feeAmount&&v.feeAmount.gt(new b.BN(0))?[{pubkey:D,isSigner:!1,isWritable:!1}]:[];return I=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.registerRecipe(Object.assign(Object.assign({},v),{feeAmount:v.feeAmount&&v.feeAmount.gt(new b.BN(0))?v.feeAmount:null})).accountsStrict({key:E.publicKey(),profile:w,funder:I.publicKey(),recipe:A.publicKey(),recipeCategory:T,domain:M,systemProgram:f.SystemProgram.programId}).remainingAccounts(L).instruction(),signers:[E,I,A]}]})}static addConsumableInputToRecipe(S,A,E,w,M,T,v){return D=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.addConsumableInputToRecipe(v).accountsStrict({key:E.publicKey(),profile:w,funder:D.publicKey(),recipe:A,domain:M,mint:T,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,D]}]})}static addNonConsumableInputToRecipe(S,A,E,w,M,T,v){return D=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.addNonConsumableInputToRecipe(v).accountsStrict({key:E.publicKey(),profile:w,funder:D.publicKey(),recipe:A,domain:M,mint:T,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,D]}]})}static addOutputToRecipe(S,A,E,w,M,T,v){return D=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.addOutputToRecipe(v).accountsStrict({key:E.publicKey(),profile:w,funder:D.publicKey(),recipe:A,domain:M,craftableItem:T,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,D]}]})}static removeConsumableInputFromRecipe(S,A,E,w,M,T){return v=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.removeConsumableInputFromRecipe(T).accountsStrict({key:E.publicKey(),profile:w,funder:v.publicKey(),recipe:A,domain:M,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,v]}]})}static removeNonConsumableInputFromRecipe(S,A,E,w,M,T){return v=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.removeNonConsumableInputFromRecipe(T).accountsStrict({key:E.publicKey(),profile:w,funder:v.publicKey(),recipe:A,domain:M,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,v]}]})}static removeOutputFromRecipe(S,A,E,w,M,T){return v=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.removeOutputFromRecipe(T).accountsStrict({key:E.publicKey(),profile:w,funder:v.publicKey(),recipe:A,domain:M,systemProgram:f.SystemProgram.programId}).instruction(),signers:[E,v]}]})}static updateRecipeCategory(S,A,E,w,M,T,v,D){return()=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.updateRecipeCategory(D).accountsStrict({key:E.publicKey(),profile:w,recipe:A,recipeCategoryOld:T,recipeCategoryNew:v,domain:M}).instruction(),signers:[E]}]})}static updateRecipe(S,A,E,w,M,T,v){if(T.feeAmount&&T.feeAmount.gt(new b.BN(0))&&!v||v&&(!T.feeAmount||T.feeAmount.lte(new b.BN(0))))throw"feeRecipient must be set if feeAmount is set";const D=v&&T.feeAmount&&T.feeAmount.gt(new b.BN(0))?[{pubkey:v,isSigner:!1,isWritable:!1}]:[];return()=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.updateRecipe({keyIndex:T.keyIndex,duration:T.duration==null?null:T.duration,minDuration:T.minDuration==null?null:T.minDuration,status:T.status==null?null:T.status,feeAmount:T.feeAmount==null?null:T.feeAmount}).accountsStrict({key:E.publicKey(),profile:w,recipe:A,domain:M}).remainingAccounts(D).instruction(),signers:[E]}]})}static deregisterRecipe(S,A,E,w,M,T,v,D){return L=>s(this,void 0,void 0,function*(){return[{instruction:yield S.methods.deregisterRecipe(D).accountsStrict({key:E.publicKey(),profile:w,fundsTo:M==="funder"?L.publicKey():M,recipe:A,recipeCategory:v,domain:T}).instruction(),signers:[E]}]})}static decodeData(S,A){return(0,u.decodeAccountWithRemaining)(S,A,l,(w,M)=>Array(M.totalCount).fill(0).map((T,v)=>A.coder.types.decode("RecipeInputsOutputs",w.subarray(v*40).subarray(0,40))))}};p.ACCOUNT_NAME="recipe",p.MIN_DATA_SIZE=e.RECIPE_MIN_DATA_SIZE,p=l=r([(0,u.staticImplements)(),i("design:paramtypes",[Object,f.PublicKey,Array])],p),e.Recipe=p})(recipe);var recipeCategory={},__decorate$c=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$c=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},RecipeCategory_1;Object.defineProperty(recipeCategory,"__esModule",{value:!0});recipeCategory.RecipeCategory=recipeCategory.recipeCategoryDataEquals=void 0;const web3_js_1$8=require$$0$1,data_source_1$d=src$5;function recipeCategoryDataEquals(e,t){return e.version===t.version&&e.domain.equals(t.domain)&&e.recipeCount===t.recipeCount&&(0,data_source_1$d.arrayDeepEquals)(e.namespace,t.namespace,(n,r)=>n===r)}recipeCategory.recipeCategoryDataEquals=recipeCategoryDataEquals;let RecipeCategory=RecipeCategory_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static registerRecipeCategory(t,n,r,a,i,s){return l=>__awaiter$8(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerRecipeCategory(s).accountsStrict({key:r.publicKey(),profile:a,funder:l.publicKey(),recipeCategory:n.publicKey(),domain:i,systemProgram:web3_js_1$8.SystemProgram.programId}).instruction(),signers:[r,l,n]}]})}static deregisterRecipeCategory(t,n,r,a,i,s,l){return b=>__awaiter$8(this,void 0,void 0,function*(){return[{instruction:yield t.methods.deregisterRecipeCategory(l).accountsStrict({key:r.publicKey(),profile:a,fundsTo:i==="funder"?b.publicKey():i,recipeCategory:n,domain:s,systemProgram:web3_js_1$8.SystemProgram.programId}).instruction(),signers:[r]}]})}static decodeData(t,n){return(0,data_source_1$d.decodeAccount)(t,n,RecipeCategory_1)}};RecipeCategory.ACCOUNT_NAME="recipeCategory";RecipeCategory.MIN_DATA_SIZE=8+1+32+4+32;RecipeCategory=RecipeCategory_1=__decorate$c([(0,data_source_1$d.staticImplements)(),__metadata$c("design:paramtypes",[Object,web3_js_1$8.PublicKey])],RecipeCategory);recipeCategory.RecipeCategory=RecipeCategory;(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(_,S,A,E){var w=arguments.length,M=w<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,A):E,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,S,A,E);else for(var v=_.length-1;v>=0;v--)(T=_[v])&&(M=(w<3?T(M):w>3?T(S,A,M):T(S,A))||M);return w>3&&M&&Object.defineProperty(S,A,M),M},n=commonjsGlobal&&commonjsGlobal.__metadata||function(_,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,S)};Object.defineProperty(e,"__esModule",{value:!0}),e.CraftingProgram=e.craftingErrorMap=e.CRAFTING_IDL=void 0;const r=require$$0,a=src$5,i=craftableItem,s=craftingFacility,l=craftingProcess,b=domain,f=crafting,u=recipe,d=recipeCategory;var m=crafting;Object.defineProperty(e,"CRAFTING_IDL",{enumerable:!0,get:function(){return m.IDL}}),e.craftingErrorMap=(0,a.generateErrorMap)(f.IDL);let p=class extends a.ListenProgram{constructor(S){super(S,{craftableItem:i.CraftableItem,craftingFacility:s.CraftingFacility,craftingProcess:l.CraftingProcess,domain:b.CraftingDomain,recipe:u.Recipe,recipeCategory:d.RecipeCategory})}static buildProgram(S,A,E){return new r.Program(f.IDL,S,A,E)}};p=t([(0,a.staticImplements)(),n("design:paramtypes",[Object])],p),e.CraftingProgram=p})(constants$2);var permissions$3={},__decorate$b=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$b=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},CraftingPermissions_1;Object.defineProperty(permissions$3,"__esModule",{value:!0});permissions$3.CraftingPermissions=void 0;const anchor_1$2=require$$0,data_source_1$c=src$5;let CraftingPermissions=CraftingPermissions_1=class{constructor(t,n,r,a,i){this.manageDomain=t,this.manageCraftableItem=n,this.manageCraftingFacility=r,this.manageRecipeCategory=a,this.manageRecipe=i,this.block=CraftingPermissions_1.BLOCK}getPermissions(){const t=(0,data_source_1$c.fixedSizeArray)(8,0);return t[0]=(this.manageDomain?1<<0:0)|(this.manageCraftableItem?1<<1:0)|(this.manageCraftingFacility?1<<2:0)|(this.manageRecipeCategory?1<<3:0)|(this.manageRecipe?1<<4:0),t}static empty(){return new CraftingPermissions_1(!1,!1,!1,!1,!1)}static all(){return new CraftingPermissions_1(!0,!0,!0,!0,!0)}static domainPermissions(){return new CraftingPermissions_1(!0,!1,!1,!1,!1)}static craftableItemPermissions(){return new CraftingPermissions_1(!1,!0,!1,!1,!1)}static craftingFacilityPermissions(){return new CraftingPermissions_1(!1,!1,!0,!1,!1)}static recipeCategoryPermissions(){return new CraftingPermissions_1(!1,!1,!1,!0,!1)}static recipePermissions(){return new CraftingPermissions_1(!1,!1,!1,!1,!0)}static fromPermissions(t){return new CraftingPermissions_1((t[0]&1<<0)!==0,(t[0]&1<<1)!==0,(t[0]&1<<2)!==0,(t[0]&1<<3)!==0,(t[0]&1<<4)!==0)}and(t){return new CraftingPermissions_1(this.manageDomain&&t.manageDomain,this.manageCraftableItem&&t.manageCraftableItem,this.manageCraftingFacility&&t.manageCraftingFacility,this.manageRecipeCategory&&t.manageRecipeCategory,this.manageRecipe&&t.manageRecipe)}or(t){return new CraftingPermissions_1(this.manageDomain||t.manageDomain,this.manageCraftableItem||t.manageCraftableItem,this.manageCraftingFacility||t.manageCraftingFacility,this.manageRecipeCategory||t.manageRecipeCategory,this.manageRecipe||t.manageRecipe)}eq(t){return this.manageDomain===t.manageDomain&&this.manageCraftableItem===t.manageCraftableItem&&this.manageCraftingFacility===t.manageCraftingFacility&&this.manageRecipeCategory===t.manageRecipeCategory&&this.manageRecipe===t.manageRecipe}contains(t){return this.and(t).eq(t)}};CraftingPermissions.BLOCK=new anchor_1$2.BN(11);CraftingPermissions=CraftingPermissions_1=__decorate$b([(0,data_source_1$c.staticImplements)(),__metadata$b("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean])],CraftingPermissions);permissions$3.CraftingPermissions=CraftingPermissions;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(common,e),n(constants$2,e),n(craftableItem,e),n(craftingFacility,e),n(craftingProcess,e),n(domain,e),n(permissions$3,e),n(recipe,e),n(recipeCategory,e)})(src$3);var __decorate$a=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$a=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},CraftingInstance_1;Object.defineProperty(craftingInstance,"__esModule",{value:!0});craftingInstance.CraftingInstance=craftingInstance.craftingInstanceDataEquals=void 0;const anchor_1$1=require$$0,spl_token_1$3=cjs$1,web3_js_1$7=require$$0$1,crafting_1=src$3,data_source_1$b=src$5;function craftingInstanceDataEquals(e,t){return e.version===t.version&&e.seqId===t.seqId&&e.numCrew.eq(t.numCrew)&&e.starbasePlayer.equals(t.starbasePlayer)&&e.craftingProcess.equals(t.craftingProcess)&&e.bump===t.bump}craftingInstance.craftingInstanceDataEquals=craftingInstanceDataEquals;let CraftingInstance=CraftingInstance_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static calculateCraftingDuration(t,n,r){if(r.isZero())throw new Error("Invalid value for numCrew");const a=n.div(r),i=n.mod(r);return a.add(anchor_1$1.BN.min(i,new anchor_1$1.BN(1))).mul(t)}static findAddress(t,n,r){return web3_js_1$7.PublicKey.findProgramAddressSync([dist$1.Buffer.from("CraftingInstance"),n.toBuffer(),r.toBuffer()],t.programId)}static createCraftingProcess(t,n,r,a,i,s,l,b,f,u,d,m,p){const _=crafting_1.CraftingProcess.findAddress(n,u,d,p.craftingId)[0];return S=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.createCraftingProcess(p).accountsStrict({funder:S.publicKey(),starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:s},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:b,key:r.publicKey(),profile:a,profileFaction:i},gameState:f},craftingInstance:this.findAddress(t,s,_)[0],craftingProcess:_,craftingFacility:u,craftingRecipe:d,craftingDomain:m,craftingProgram:n.programId,systemProgram:web3_js_1$7.SystemProgram.programId}).instruction(),signers:[r,S]}]})}static depositCraftingIngredient(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S,A,E,w,M,T){return()=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.depositCraftingIngredient(T).accountsStrict({starbaseAndStarbasePlayer:{starbase:b,starbasePlayer:l},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:w,key:a.publicKey(),profile:i,profileFaction:s},gameState:M},craftingInstance:f,craftingProcess:u,craftingFacility:d,craftingRecipe:m,cargoPodFrom:p,cargoType:_,cargoStatsDefinition:S,tokenFrom:A,tokenTo:E,craftingProgram:r.programId,cargoProgram:n.programId,tokenProgram:spl_token_1$3.TOKEN_PROGRAM_ID}).instruction(),signers:[a]}]})}static withdrawCraftingIngredient(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S,A,E,w,M,T,v){return()=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.withdrawCraftingIngredient(v).accountsStrict({starbaseAndStarbasePlayer:{starbase:b,starbasePlayer:l},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:M,key:a.publicKey(),profile:i,profileFaction:s},gameState:T},craftingInstance:f,craftingProcess:u,craftingFacility:d,craftingRecipe:m,cargoPodTo:p,cargoType:_,cargoStatsDefinition:S,tokenFrom:A,tokenTo:E,tokenMint:w,craftingProgram:r.programId,cargoProgram:n.programId,tokenProgram:spl_token_1$3.TOKEN_PROGRAM_ID}).instruction(),signers:[a]}]})}static startCraftingProcess(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S,A,E){const w=[r],M=[];return S&&A&&E&&(w.map(T=>T.publicKey().toBase58()).includes(S.publicKey().toBase58())||w.push(S),M.push({pubkey:S.publicKey(),isSigner:!0,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:spl_token_1$3.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.startCraftingProcess(_).accountsStrict({starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:s},craftingInstance:b,craftingProcess:f,craftingRecipe:d,craftingFacility:u,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:m,key:r.publicKey(),profile:a,profileFaction:i},gameState:p},craftingProgram:n.programId}).remainingAccounts(M).instruction(),signers:w}]})}static cancelCraftingProcess(t,n,r,a,i,s,l,b,f,u,d,m,p,_){return S=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.cancelCraftingProcess(_).accountsStrict({fundsTo:s==="funder"?S.publicKey():s,starbaseAndStarbasePlayer:{starbase:b,starbasePlayer:l},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:m,key:r.publicKey(),profile:a,profileFaction:i},gameState:p},craftingInstance:f,craftingProcess:u,craftingFacility:d,craftingProgram:n.programId}).instruction(),signers:[r]}]})}static claimCraftingNonConsumables(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S){return()=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.claimCraftingNonConsumables(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:a},craftingInstance:s,craftingProcess:l,craftingRecipe:b,cargoPodTo:f,cargoType:u,cargoStatsDefinition:d,tokenFrom:m,tokenTo:p,tokenMint:_,craftingProgram:r.programId,cargoProgram:n.programId,tokenProgram:spl_token_1$3.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimCraftingOutputs(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S){return()=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.claimCraftingOutputs(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:a},craftingInstance:s,craftingProcess:l,craftingRecipe:b,craftableItem:f,cargoPodTo:u,cargoType:d,cargoStatsDefinition:m,tokenFrom:p,tokenTo:_,craftingProgram:r.programId,cargoProgram:n.programId,tokenProgram:spl_token_1$3.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S){return A=>__awaiter$7(this,void 0,void 0,function*(){return[{instruction:yield t.methods.closeCraftingProcess(S).accountsStrict({fundsTo:s==="funder"?A.publicKey():s,starbaseAndStarbasePlayer:{starbase:b,starbasePlayer:l},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:p,key:r.publicKey(),profile:a,profileFaction:i},gameState:_},craftingInstance:f,craftingProcess:u,craftingRecipe:m,craftingFacility:d,craftingProgram:n.programId}).instruction(),signers:[r]}]})}static decodeData(t,n){return(0,data_source_1$b.decodeAccount)(t,n,CraftingInstance_1)}};CraftingInstance.ACCOUNT_NAME="craftingInstance";CraftingInstance.MIN_DATA_SIZE=8+1+2+8+32+32+1;CraftingInstance=CraftingInstance_1=__decorate$a([(0,data_source_1$b.staticImplements)(),__metadata$a("design:paramtypes",[Object,web3_js_1$7.PublicKey])],CraftingInstance);craftingInstance.CraftingInstance=CraftingInstance;var disbandedFleet={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,u,d,m){function p(_){return _ instanceof d?_:new d(function(S){S(_)})}return new(d||(d=Promise))(function(_,S){function A(M){try{w(m.next(M))}catch(T){S(T)}}function E(M){try{w(m.throw(M))}catch(T){S(T)}}function w(M){M.done?_(M.value):p(M.value).then(A,E)}w((m=m.apply(f,u||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.DisbandedFleet=e.SHIP_COUNTS_SIZE=e.disbandedFleetDataEquals=void 0;const i=require$$0$1,s=src$5;function l(f,u){return f.version===u.version&&f.bump===u.bump&&f.gameId.equals(u.gameId)&&f.ownerProfile.equals(u.ownerProfile)&&f.fleetShips.equals(u.fleetShips)&&f.starbase.equals(u.starbase)&&(0,s.arrayDeepEquals)(f.fleetLabel,u.fleetLabel,(d,m)=>d===m)}e.disbandedFleetDataEquals=l,e.SHIP_COUNTS_SIZE=9*2;let b=a=class{constructor(u,d){this._data=u,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(u,d,m,p){return i.PublicKey.findProgramAddressSync([dist$1.Buffer.from("DisbandedFleet"),d.toBuffer(),m.toBuffer(),dist$1.Buffer.from(p)],u.programId)}static disbandedFleetToEscrow(u,d,m,p,_,S,A,E,w,M,T,v){return D=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.disbandedFleetToEscrow(v).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:d.publicKey(),profile:m,profileFaction:p,gameId:M},gameState:T},funder:D.publicKey(),disbandedFleet:_,fleetShips:S,ship:A,starbaseAndStarbasePlayer:{starbase:w,starbasePlayer:E},systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,D]}]})}static closeDisbandedFleet(u,d,m,p,_,S,A){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.closeDisbandedFleet(A).accountsStrict({key:d.publicKey(),playerProfile:m,fundsTo:p==="funder"?E.publicKey():p,disbandedFleet:_,fleetShips:S}).instruction(),signers:[d]}]})}static decodeData(u,d){return(0,s.decodeAccount)(u,d,a)}};b.ACCOUNT_NAME="disbandedFleet",b.MIN_DATA_SIZE=8+1+32+32+32+32+e.SHIP_COUNTS_SIZE+1,b=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey])],b),e.DisbandedFleet=b})(disbandedFleet);var fleet={},src$2={},cargoPod={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(d,m,p,_){var S=arguments.length,A=S<3?m:_===null?_=Object.getOwnPropertyDescriptor(m,p):_,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(d,m,p,_);else for(var w=d.length-1;w>=0;w--)(E=d[w])&&(A=(S<3?E(A):S>3?E(m,p,A):E(m,p))||A);return S>3&&A&&Object.defineProperty(m,p,A),A},n=commonjsGlobal&&commonjsGlobal.__metadata||function(d,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,m)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(d,m,p,_){function S(A){return A instanceof p?A:new p(function(E){E(A)})}return new(p||(p=Promise))(function(A,E){function w(v){try{T(_.next(v))}catch(D){E(D)}}function M(v){try{T(_.throw(v))}catch(D){E(D)}}function T(v){v.done?A(v.value):S(v.value).then(w,M)}T((_=_.apply(d,m||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.CargoPod=e.CARGO_POD_OFFSET=e.cargoPodDataEquals=void 0;const i=require$$0,s=cjs$1,l=require$$0$1,b=src$5;function f(d,m){return d.version===m.version&&d.podBump===m.podBump&&d.openTokenAccounts===m.openTokenAccounts&&(0,b.arrayDeepEquals)(d.podSeeds,m.podSeeds,(p,_)=>p===_)&&d.statsDefinition.equals(m.statsDefinition)&&d.authority.equals(m.authority)&&d.seqId===m.seqId&&d.unupdatedTokenAccounts===m.unupdatedTokenAccounts}e.cargoPodDataEquals=f,e.CARGO_POD_OFFSET=8+1+32+32+1+32+1+2+1;let u=a=class{constructor(m,p,_){this._data=m,this._key=p,this._stats=_}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(m,p){return l.PublicKey.findProgramAddressSync([dist$1.Buffer.from("cargo_pod"),p],m.programId)}static initCargoPod(m,p,_,S){const A=this.findAddress(m,S);return E=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.initCargoPod(Array.from(S)).accountsStrict({authority:p.publicKey(),funder:E.publicKey(),cargoPod:A[0],statsDefinition:_,systemProgram:l.SystemProgram.programId}).instruction(),signers:[p,E]}]})}static addCargo(m,p,_,S,A,E,w,M,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.addCargo(T).accountsStrict({authority:p.publicKey(),signerOriginAccount:_.publicKey(),cargoPod:S,cargoType:A,statsDefinition:E,originTokenAccount:w,cargoTokenAccount:M,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[p,_]}]})}static legitimizeCargo(m,p,_,S,A,E,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.legitimizeCargo(w).accountsStrict({authority:p.publicKey(),cargoPod:_,cargoType:S,statsDefinition:A,cargoTokenAccount:E,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[p]}]})}static removeCargo(m,p,_,S,A,E,w,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.removeCargo(M).accountsStrict({authority:p.publicKey(),cargoPod:_,cargoType:S,statsDefinition:A,cargoTokenAccount:E,destinationTokenAccount:w,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[p]}]})}static consumeCargo(m,p,_,S,A,E,w,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.consumeCargo(M).accountsStrict({authority:p.publicKey(),cargoPod:_,cargoType:S,statsDefinition:A,cargoTokenAccount:E,tokenMint:w,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[p]}]})}static transferCargo(m,p,_,S,A,E,w,M,T,v){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.transferCargo(v).accountsStrict({originPodAuthority:p.publicKey(),destinationPodAuthority:_.publicKey(),originCargoPod:S,destinationCargoPod:A,cargoType:E,statsDefinition:w,originTokenAccount:M,destinationTokenAccount:T,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[p,_]}]})}static transferAuthority(m,p,_,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.transferAuthority().accountsStrict({originPodAuthority:p.publicKey(),newPodAuthority:_.publicKey(),cargoPod:S}).instruction(),signers:[p,_]}]})}static mintTo(m,p,_,S,A,E,w,M,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.mintTo(p).accountsStrict({authority:_.publicKey(),mintAuthority:S.publicKey(),statsDefinition:A,cargoPod:E,cargoType:w,cargoTokenAccount:M.publicKey(),tokenMint:S.publicKey(),tokenProgram:T}).instruction(),signers:[_,S]}]})}static updateCargoPod(m,p,_){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.updateCargoPod().accountsStrict({cargoPod:p,statsDefinition:_}).instruction(),signers:[]}]})}static updatePodTokenAccount(m,p,_,S,A,E){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.updatePodTokenAccount().accountsStrict({statsDefinition:p,cargoPod:_,oldCargoType:S,cargoType:A,cargoTokenAccount:E,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeTokenAccount(m){const{program:p,authority:_,cargoPod:S,tokenAccountToClose:A,cargoType:E,mint:w}=m;return M=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.closeTokenAccount().accountsStrict({funder:M.publicKey(),authority:_.publicKey(),cargoPod:S,cargoType:E,cargoTokenAccount:A.publicKey(),mint:w.publicKey(),tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[_]}]})}static closeCargoPod(m,p,_){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.closeCargoPod().accountsStrict({funder:S.publicKey(),authority:p.publicKey(),cargoPod:_,systemProgram:l.SystemProgram.programId}).instruction(),signers:[p]}]})}static updateTokenAccountForInvalidType(m,p,_,S,A,E){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.updateTokenAccountForInvalidType().accountsStrict({statsDefinition:p,cargoPod:_,oldCargoType:S,cargoTokenAccount:A,tokenMint:E,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static decodeData(m,p){return(0,b.decodeAccountWithRemaining)(m,p,a,_=>Array((m.accountInfo.data.length-e.CARGO_POD_OFFSET)/8).fill(0).map((S,A)=>new i.BN(_.subarray(8*A).subarray(0,8),10,"le")))}};u.ACCOUNT_NAME="cargoPod",u.MIN_DATA_SIZE=e.CARGO_POD_OFFSET,u=a=t([(0,b.staticImplements)(),n("design:paramtypes",[Object,l.PublicKey,Array])],u),e.CargoPod=u})(cargoPod);var cargoType={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(u,d,m,p){var _=arguments.length,S=_<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,m):p,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(u,d,m,p);else for(var E=u.length-1;E>=0;E--)(A=u[E])&&(S=(_<3?A(S):_>3?A(d,m,S):A(d,m))||S);return _>3&&S&&Object.defineProperty(d,m,S),S},n=commonjsGlobal&&commonjsGlobal.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,d,m,p){function _(S){return S instanceof m?S:new m(function(A){A(S)})}return new(m||(m=Promise))(function(S,A){function E(T){try{M(p.next(T))}catch(v){A(v)}}function w(T){try{M(p.throw(T))}catch(v){A(v)}}function M(T){T.done?S(T.value):_(T.value).then(E,w)}M((p=p.apply(u,d||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.CargoType=e.CARGO_TYPE_OFFSET=e.cargoTypeDataEquals=void 0;const i=require$$0,s=require$$0$1,l=src$5;function b(u,d){return u.version===d.version&&u.bump===d.bump&&u.statsCount===d.statsCount&&u.statsDefinition.equals(d.statsDefinition)&&u.mint.equals(d.mint)&&u.seqId===d.seqId}e.cargoTypeDataEquals=b,e.CARGO_TYPE_OFFSET=8+1+32+32+1+2+2;let f=a=class{constructor(d,m,p){this._data=d,this._key=m,this._stats=p}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(d,m,p,_){const S=new ArrayBuffer(2),A=new DataView(S);A.setUint16(0,_,!0);const E=new Uint8Array(A.buffer);return s.PublicKey.findProgramAddressSync([dist$1.Buffer.from("cargo_type"),E,m.toBuffer(),p.toBuffer()],d.programId)}static initCargoType({program:d,managerKey:m,profile:p,statsDefinition:_,mint:S,input:A,statsDefinitionSeqId:E}){const w=this.findAddress(d,_,S,E);return M=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoType(A).accountsStrict({funder:M.publicKey(),cargoType:w[0],statsDefinition:_,mint:S,systemProgram:s.SystemProgram.programId,key:m.publicKey(),profile:p}).instruction(),signers:[m,M]}]})}static initCargoTypeFromOldCargoType({program:d,managerKey:m,profile:p,statsDefinition:_,oldCargoType:S,mint:A,input:E}){const[w]=this.findAddress(d,_,A.publicKey(),S.data.seqId+1);return M=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeFromOldCargoType(E).accountsStrict({key:m.publicKey(),profile:p,funder:M.publicKey(),statsDefinition:_,oldCargoType:S.key,cargoType:w,systemProgram:s.SystemProgram.programId}).instruction(),signers:[m]}]})}static initCargoTypeForNextSeqId({program:d,managerKey:m,profile:p,statsDefinition:_,typeMint:S,input:A}){const[E]=this.findAddress(d,_.key,S,_.data.seqId+1);return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeForNextSeqId(A).accountsStrict({key:m.publicKey(),profile:p,funder:w.publicKey(),mint:S,statsDefinition:_.key,cargoType:E,systemProgram:s.SystemProgram.programId}).instruction(),signers:[m]}]})}static decodeData(d,m){return(0,l.decodeAccountWithRemaining)(d,m,a,p=>Array((d.accountInfo.data.length-e.CARGO_TYPE_OFFSET)/8).fill(0).map((_,S)=>new i.BN(p.subarray(8*S).subarray(0,8),10,"le")))}};f.ACCOUNT_NAME="cargoType",f.MIN_DATA_SIZE=e.CARGO_TYPE_OFFSET,f=a=t([(0,l.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey,Array])],f),e.CargoType=f})(cargoType);var constants$1={},cargo={};Object.defineProperty(cargo,"__esModule",{value:!0});cargo.IDL=void 0;cargo.IDL={version:"0.1.0",name:"cargo",docs:["The `cargo` program"],instructions:[{name:"addCargo",docs:["Adds cargo to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"signerOriginAccount",isMut:!1,isSigner:!0,docs:["Signer for Cargo Token Transfer"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"closeCargoPod",docs:["Closes the [`CargoPod`](state::CargoPod) if it has no open token accounts.","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the pod account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system Program"]}],args:[]},{name:"closeTokenAccount",docs:["Closes and burns any excess tokens in a given token account within a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for [CargoPod] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account","If the token account belongs to a registered Cargo Type then this account must be a valid Cargo Type","However, to allow closing token account that are not valid Cargo this is an unchecked account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]}],args:[]},{name:"consumeCargo",docs:["Consumes cargo from a [`CargoPod`](state::CargoPod), burning the amount.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"initCargoPod",docs:["Inits a new [`CargoPod`](state::CargoPod) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition) and authority."],accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new cargo pod"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the new cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"podSeeds",type:{array:["u8",32]}}]},{name:"initCargoType",docs:["Inits a new [`CargoType`](state::CargoType) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition)."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeForNextSeqId",docs:["Creates a new cargo type for the next `seq_id`."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeFromOldCargoType",docs:["Creates a new cargo type for the next `seq_id` from a given cargo type."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The old Cargo Type Account"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeFromOldCargoTypeInput"}}]},{name:"initDefinition",docs:["Inits a [`CargoStatsDefinition`](state::CargoStatsDefinition) account."],accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](player_profile::state::Profile).","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new definition"]},{name:"statsDefinition",isMut:!0,isSigner:!0,docs:["The new definition"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitDefinitionInput"}}]},{name:"legitimizeCargo",docs:["Legitimizes cargo in a [`CargoPod`](state::CargoPod) that was added outside of [`add_cargo`] or other cargo ix.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"mintTo",docs:["Mints tokens directly to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the [`CargoPod`] Account"]},{name:"mintAuthority",isMut:!1,isSigner:!0,docs:["The mint Authority"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [`CargoPod`] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The [`CargoType`] Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"mintAmount",type:"u64"}]},{name:"removeCargo",docs:["Removes cargo from a [`CargoPod`](state::CargoPod) to a given token account.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"transferAuthority",docs:["Transfers authority of a [`CargoPod`](state::CargoPod) to a new authority.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"newPodAuthority",isMut:!1,isSigner:!0,docs:["New authority for the cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]}],args:[]},{name:"transferCargo",docs:["Transfers cargo between [`CargoPod`](state::CargoPod)s.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the origin cargo pod"]},{name:"destinationPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the destination cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"originCargoPod",isMut:!0,isSigner:!1,docs:["The Origin [CargoPod] Account"]},{name:"destinationCargoPod",isMut:!0,isSigner:!1,docs:["The Destination [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"updateCargoPod",docs:["Updates a [`CargoPod`](state::CargoPod) account to have the newest sequence id from the [`CargoDefinition`](state::CargoStatsDefinition).","This is the first step to update a [`CargoPod`](state::CargoPod) to a new [`CargoStatsDefinition`](state::CargoStatsDefinition).","Permissionless function."],accounts:[{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to update"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]}],args:[]},{name:"updateDefinition",docs:["Updates a [`CargoStatsDefinition`](state::CargoStatsDefinition) account.","Will advance the `seq_id` unless `rollback` is set to true."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](player_profile::state::Profile).","Is going to act as the authority for the new definition."]},{name:"statsDefinition",isMut:!0,isSigner:!1,docs:["The [CargoStatsDefinition]"]}],args:[{name:"input",type:{defined:"UpdateDefinitionInput"}}]},{name:"updatePodTokenAccount",docs:["Updates a [`CargoPod`](state::CargoPod)'s token account to have the same sequence id as the [`CargoPod`](state::CargoPod).","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The updated Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"updateTokenAccountForInvalidType",docs:["Removes a pod's token account if it no longer has a cargo type by burning all the invalid cargo.","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]}],accounts:[{name:"cargoPod",docs:["A pod that can store any number of resources and tracks stats given a definition."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition of tracked stats."],type:"publicKey"},{name:"authority",docs:["The authority for this pod."],type:"publicKey"},{name:"openTokenAccounts",docs:["The number of open token accounts in this pod."],type:"u8"},{name:"podSeeds",docs:["The seeds of the signer for this pod."],type:{array:["u8",32]}},{name:"podBump",docs:["The bump of the signer for this pod."],type:"u8"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"},{name:"unupdatedTokenAccounts",docs:["The number of unupdated token accounts in this pod. If this is greater than zero means the pod is frozen and only can withdraw cargo but not deposit."],type:"u8"}]}},{name:"cargoStatsDefinition",docs:["A definition of cargo stats.","Remaining data is the stats."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authority",docs:["The authority for this definition."],type:"publicKey"},{name:"defaultCargoType",docs:["The default cargo type. System program (all 0s) if none."],type:"publicKey"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}},{name:"cargoType",docs:["The stats for a given cargo type (token mint)."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition this follows"],type:"publicKey"},{name:"mint",docs:["The mint the cargo type is for"],type:"publicKey"},{name:"bump",docs:["The bump for this account"],type:"u8"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}}],types:[{name:"InitCargoTypeFromOldCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"newValues",docs:["vector with values for all stats tracked by the definition"],type:{option:{vec:"u64"}}}]}},{name:"InitCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"values",docs:["vector with values for all stats tracked by the definition"],type:{vec:"u64"}}]}},{name:"InitDefinitionInput",docs:["Struct for data input for [`InitDefinition`]"],type:{kind:"struct",fields:[{name:"cargoStats",docs:["the count of stats the definition has"],type:"u16"}]}},{name:"UpdateDefinitionInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"rollback",docs:["flag that if present means we need to decrease the definition seq_id"],type:{option:"bool"}}]}}],errors:[{code:6e3,name:"StatOutOfBounds",msg:"A given stat was out of bounds"},{code:6001,name:"TooManyStats",msg:"There are too many stats"},{code:6002,name:"InvalidRentFunder",msg:"Rent funder was not owned by the system program or this program"},{code:6003,name:"TooFewStats",msg:"Popped a stat when there are no stats left"},{code:6004,name:"MissingSystemProgram",msg:"System program is missing when needed"},{code:6005,name:"InvalidCargoStat",msg:"Cargo stat data was invalid"},{code:6006,name:"InvalidCargoStatSize",msg:"Cargo stat size data was invalid"},{code:6007,name:"InvalidCargoType",msg:"Cargo type is invalid"},{code:6008,name:"WrongNumberOfDefinitions",msg:"Wrong number of definitions provided to init a cargo type"},{code:6009,name:"InvalidValueForStat",msg:"Invalid value provided for stat"},{code:6010,name:"NumericOverflow",msg:"Math overflow"},{code:6011,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6012,name:"StatsDefinitionMismatch",msg:"Stats definition mismatch"},{code:6013,name:"MintMismatch",msg:"Mint mismatch"},{code:6014,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6015,name:"InvalidDelegation",msg:"Delegated amount is invalid"},{code:6016,name:"FrozenPod",msg:"The pod is frozen"},{code:6017,name:"UnupdatedCargoPodAccount",msg:"Unupdated CargoPod Account"},{code:6018,name:"InvalidSeqId",msg:"Invalid seq_id"},{code:6019,name:"UnupdatedTokenAccount",msg:"Unupdated token account"},{code:6020,name:"OpenTokenAccounts",msg:"Cargo Pod has token accounts open"},{code:6021,name:"NonZeroDelegation",msg:"Non Zero Delegated Amount"},{code:6022,name:"InvalidPreviousType",msg:"Invalid previous cargo_type account"},{code:6023,name:"InsufficientCargoAmount",msg:"Insufficient cargo amount"},{code:6024,name:"InsufficientTokenAmount",msg:"Insufficient token amount"},{code:6025,name:"PodTokenAccountAlreadyUpdated",msg:"Pod Token Account Already Updated"}]};var statsDefinition={},__decorate$9=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$9=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},CargoStatsDefinition_1;Object.defineProperty(statsDefinition,"__esModule",{value:!0});statsDefinition.CargoStatsDefinition=statsDefinition.cargoStatsDefinitionAccountDataEquals=void 0;const web3_js_1$6=require$$0$1,data_source_1$a=src$5;function cargoStatsDefinitionAccountDataEquals(e,t){return e.version===t.version&&e.authority.equals(t.authority)&&e.defaultCargoType.equals(t.defaultCargoType)&&e.statsCount===t.statsCount&&e.seqId===t.seqId}statsDefinition.cargoStatsDefinitionAccountDataEquals=cargoStatsDefinitionAccountDataEquals;let CargoStatsDefinition=CargoStatsDefinition_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static initDefinition({program:t,profile:n,statsDefinition:r,input:a}){return i=>__awaiter$6(this,void 0,void 0,function*(){return[{instruction:yield t.methods.initDefinition(a).accountsStrict({profile:n,funder:i.publicKey(),statsDefinition:r.publicKey(),systemProgram:web3_js_1$6.SystemProgram.programId}).instruction(),signers:[i,r]}]})}static updateDefinition({program:t,managerKey:n,profile:r,statsDefinition:a,input:i}){return()=>__awaiter$6(this,void 0,void 0,function*(){return[{instruction:yield t.methods.updateDefinition(i).accountsStrict({statsDefinition:a,key:n.publicKey(),profile:r}).instruction(),signers:[n]}]})}static decodeData(t,n){return(0,data_source_1$a.decodeAccount)(t,n,CargoStatsDefinition_1)}};CargoStatsDefinition.ACCOUNT_NAME="cargoStatsDefinition";CargoStatsDefinition.MIN_DATA_SIZE=8+1+32+32+2+2;CargoStatsDefinition=CargoStatsDefinition_1=__decorate$9([(0,data_source_1$a.staticImplements)(),__metadata$9("design:paramtypes",[Object,web3_js_1$6.PublicKey])],CargoStatsDefinition);statsDefinition.CargoStatsDefinition=CargoStatsDefinition;(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(d,m,p,_){var S=arguments.length,A=S<3?m:_===null?_=Object.getOwnPropertyDescriptor(m,p):_,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(d,m,p,_);else for(var w=d.length-1;w>=0;w--)(E=d[w])&&(A=(S<3?E(A):S>3?E(m,p,A):E(m,p))||A);return S>3&&A&&Object.defineProperty(m,p,A),A},n=commonjsGlobal&&commonjsGlobal.__metadata||function(d,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.CargoProgram=e.cargoErrorMap=e.CARGO_IDL=void 0;const r=require$$0,a=src$5,i=cargoPod,s=cargoType,l=cargo,b=statsDefinition;var f=cargo;Object.defineProperty(e,"CARGO_IDL",{enumerable:!0,get:function(){return f.IDL}}),e.cargoErrorMap=(0,a.generateErrorMap)(l.IDL);let u=class extends a.ListenProgram{constructor(m){super(m,{cargoPod:i.CargoPod,cargoType:s.CargoType,cargoStatsDefinition:b.CargoStatsDefinition})}static buildProgram(m,p,_){return new r.Program(l.IDL,m,p,_)}};u=t([(0,a.staticImplements)(),n("design:paramtypes",[Object])],u),e.CargoProgram=u})(constants$1);var permissions$2={},__decorate$8=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$8=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},CargoPermissions_1;Object.defineProperty(permissions$2,"__esModule",{value:!0});permissions$2.CargoPermissions=void 0;const data_source_1$9=src$5;let CargoPermissions=CargoPermissions_1=class{constructor(t,n){this.manageDefinition=t,this.manageCargoType=n}getPermissions(){const t=(0,data_source_1$9.fixedSizeArray)(8,0);return t[0]=(this.manageDefinition?1<<0:0)|(this.manageCargoType?1<<1:0),t}static empty(){return new CargoPermissions_1(!1,!1)}static all(){return new CargoPermissions_1(!0,!0)}static definitionPermissions(){return new CargoPermissions_1(!0,!1)}static cargoTypePermissions(){return new CargoPermissions_1(!1,!0)}static fromPermissions(t){return new CargoPermissions_1((t[0]&1<<0)!==0,(t[0]&1<<1)!==0)}and(t){return new CargoPermissions_1(this.manageDefinition&&t.manageDefinition,this.manageCargoType&&t.manageCargoType)}or(t){return new CargoPermissions_1(this.manageDefinition||t.manageDefinition,this.manageCargoType||t.manageCargoType)}eq(t){return this.manageDefinition===t.manageDefinition&&this.manageCargoType===t.manageCargoType}contains(t){return this.and(t).eq(t)}};CargoPermissions=CargoPermissions_1=__decorate$8([(0,data_source_1$9.staticImplements)(),__metadata$8("design:paramtypes",[Boolean,Boolean])],CargoPermissions);permissions$2.CargoPermissions=CargoPermissions;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(cargoPod,e),n(cargoType,e),n(constants$1,e),n(permissions$2,e),n(statsDefinition,e)})(src$2);var fleetShips={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(b,f,u,d){var m=arguments.length,p=m<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(b,f,u,d);else for(var S=b.length-1;S>=0;S--)(_=b[S])&&(p=(m<3?_(p):m>3?_(f,u,p):_(f,u))||p);return m>3&&p&&Object.defineProperty(f,u,p),p},n=commonjsGlobal&&commonjsGlobal.__metadata||function(b,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(b,f)},r;Object.defineProperty(e,"__esModule",{value:!0}),e.FleetShips=e.fleetShipsEquals=e.FLEET_SHIPS_MIN_DATA_SIZE=void 0;const a=require$$0$1,i=src$5;e.FLEET_SHIPS_MIN_DATA_SIZE=8+1+1+32+4;function s(b,f){return b.version===f.version&&b.bump===f.bump&&b.fleet.equals(f.fleet)&&b.fleetShipsInfoCount==f.fleetShipsInfoCount}e.fleetShipsEquals=s;let l=r=class{constructor(f,u,d){this._data=f,this._key=u,this._fleetShips=d}get data(){return this._data}get key(){return this._key}get fleetShips(){return this._fleetShips||[]}static findAddress(f,u){return a.PublicKey.findProgramAddressSync([dist$1.Buffer.from("FleetShips"),u.toBuffer()],f.programId)}static decodeData(f,u){return(0,i.decodeAccountWithRemaining)(f,u,r,(m,p)=>Array(p.fleetShipsInfoCount).fill(0).map((_,S)=>u.coder.types.decode("FleetShipsInfo",m.subarray(48*S).subarray(0,48))))}};l.ACCOUNT_NAME="fleetShips",l.MIN_DATA_SIZE=e.FLEET_SHIPS_MIN_DATA_SIZE,l=r=t([(0,i.staticImplements)(),n("design:paramtypes",[Object,a.PublicKey,Array])],l),e.FleetShips=l})(fleetShips);var mineItem={},__decorate$7=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$7=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},MineItem_1;Object.defineProperty(mineItem,"__esModule",{value:!0});mineItem.MineItem=mineItem.mineItemDataEquals=void 0;const spl_token_1$2=cjs$1,web3_js_1$5=require$$0$1,data_source_1$8=src$5;function mineItemDataEquals(e,t){return e.version===t.version&&e.gameId.equals(t.gameId)&&e.mint.equals(t.mint)&&(0,data_source_1$8.arrayDeepEquals)(e.name,t.name,(n,r)=>n===r)&&e.numResourceAccounts.eq(t.numResourceAccounts)&&e.resourceHardness===t.resourceHardness&&e.mineItemUpdateId.eq(t.mineItemUpdateId)&&e.bump===t.bump}mineItem.mineItemDataEquals=mineItemDataEquals;let MineItem=MineItem_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static findAddress(t,n,r){return web3_js_1$5.PublicKey.findProgramAddressSync([dist$1.Buffer.from("MineItem"),n.toBuffer(),r.toBuffer()],t.programId)}static registerMineItem(t,n,r,a,i,s){const l=MineItem_1.findAddress(t,i,a);return{mineItemKey:l,instructions:b=>__awaiter$5(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerMineItem(s).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:i},funder:b.publicKey(),mineItem:l[0],mint:a,systemProgram:web3_js_1$5.SystemProgram.programId}).instruction(),signers:[n,b]}]})}}static fundMineItemBank(t,n,r,a,i){const s=(0,spl_token_1$2.getAssociatedTokenAddressSync)(n,t,!0);return(0,data_source_1$8.transferToTokenAccount)(r,a,s,i)}static updateMineItem(t,n,r,a,i,s){const l=Object.assign(Object.assign({},s),{name:s.name==null?null:s.name,resourceHardness:s.resourceHardness==null?null:s.resourceHardness});return()=>__awaiter$5(this,void 0,void 0,function*(){return[{instruction:yield t.methods.updateMineItem(l).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:i},mineItem:a}).instruction(),signers:[n]}]})}static drainMineItemBank(t,n,r,a,i,s,l,b,f){return u=>__awaiter$5(this,void 0,void 0,function*(){return[{instruction:yield t.methods.drainMineItemBank(f).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:s},fundsTo:a==="funder"?u.publicKey():a,mineItem:i,tokenFrom:l,tokenTo:b,tokenProgram:spl_token_1$2.TOKEN_PROGRAM_ID}).instruction(),signers:[n]}]})}static deregisterMineItem(t,n,r,a,i,s,l){return b=>__awaiter$5(this,void 0,void 0,function*(){return[{instruction:yield t.methods.deregisterMineItem(l).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:s},fundsTo:a==="funder"?b.publicKey():a,mineItem:i}).instruction(),signers:[n]}]})}static decodeData(t,n){return(0,data_source_1$8.decodeAccount)(t,n,MineItem_1)}};MineItem.ACCOUNT_NAME="mineItem";MineItem.MIN_DATA_SIZE=8+1+32+32+64+8+2+8+1;MineItem.RESOURCE_HARDNESS_DECIMALS=100;MineItem=MineItem_1=__decorate$7([(0,data_source_1$8.staticImplements)(),__metadata$7("design:paramtypes",[Object,web3_js_1$5.PublicKey])],MineItem);mineItem.MineItem=MineItem;var resource={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,u,d,m){function p(_){return _ instanceof d?_:new d(function(S){S(_)})}return new(d||(d=Promise))(function(_,S){function A(M){try{w(m.next(M))}catch(T){S(T)}}function E(M){try{w(m.throw(M))}catch(T){S(T)}}function w(M){M.done?_(M.value):p(M.value).then(A,E)}w((m=m.apply(f,u||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=e.resourceDataEquals=e.LocationType=void 0;const i=require$$0$1,s=src$5;(function(f){f[f.Planet=1]="Planet"})(e.LocationType||(e.LocationType={}));function l(f,u){return f.version===u.version&&f.gameId.equals(u.gameId)&&f.location.equals(u.location)&&f.mineItem.equals(u.mineItem)&&f.locationType===u.locationType&&f.numMiners.eq(u.numMiners)&&f.amountMined.eq(u.amountMined)&&f.systemRichness===u.systemRichness&&f.mineItemUpdateId.eq(u.mineItemUpdateId)&&f.resourceUpdateId.eq(u.resourceUpdateId)&&f.bump===u.bump}e.resourceDataEquals=l;let b=a=class{constructor(u,d){this._data=u,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(u,d,m){return i.PublicKey.findProgramAddressSync([dist$1.Buffer.from("Resource"),d.toBuffer(),m.toBuffer()],u.programId)}static registerResource(u,d,m,p,_,S,A){const E=a.findAddress(u,_,p);return{resourceKey:E,instructions:w=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.registerResource(A).accountsStrict({gameAndProfile:{key:d.publicKey(),profile:m,gameId:S},funder:w.publicKey(),resource:E[0],location:p,mineItem:_,systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,w]}]})}}static updateResource(u,d,m,p,_,S,A){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.updateResource(Object.assign(Object.assign({},A),{systemRichness:A.systemRichness==null?null:A.systemRichness})).accountsStrict({gameAndProfile:{key:d.publicKey(),profile:m,gameId:S},mineItem:_,resource:p}).instruction(),signers:[d]}]})}static syncResource(u,d,m){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.syncResource().accountsStrict({mineItem:m,resource:d}).instruction(),signers:[]}]})}static deregisterResource(u,d,m,p,_,S,A,E,w){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.deregisterResource(w).accountsStrict({gameAndProfile:{key:d.publicKey(),profile:m,gameId:E},fundsTo:p==="funder"?M.publicKey():p,resource:_,mineItem:S,location:A}).instruction(),signers:[d]}]})}static decodeData(u,d){return(0,s.decodeAccount)(u,d,a)}};b.ACCOUNT_NAME="resource",b.MIN_DATA_SIZE=8+1+32+32+32+1+8+8+2+8+8+1,b.SYSTEM_RICHNESS_DECIMALS=100,b=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey])],b),e.Resource=b})(resource);var sector={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(_,S,A,E){var w=arguments.length,M=w<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,A):E,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,S,A,E);else for(var v=_.length-1;v>=0;v--)(T=_[v])&&(M=(w<3?T(M):w>3?T(S,A,M):T(S,A))||M);return w>3&&M&&Object.defineProperty(S,A,M),M},n=commonjsGlobal&&commonjsGlobal.__metadata||function(_,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,S)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(_,S,A,E){function w(M){return M instanceof A?M:new A(function(T){T(M)})}return new(A||(A=Promise))(function(M,T){function v(I){try{L(E.next(I))}catch(k){T(k)}}function D(I){try{L(E.throw(I))}catch(k){T(k)}}function L(I){I.done?M(I.value):w(I.value).then(v,D)}L((E=E.apply(_,S||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Sector=e.connectionFlagsFromByte=e.connectionFlagsToByte=e.connectionFlagsEquals=e.SECTOR_CONNECTION_MIN_DATA_SIZE=e.sectorConnectionEquals=e.sectorDataEquals=e.calculateDistance=void 0;const i=require$$0$1,s=src$5,l=(_,S)=>Math.sqrt(S[0].sub(_[0]).sqr().add(S[1].sub(_[1]).sqr()).toNumber());e.calculateDistance=l;function b(_,S){return _.version===S.version&&_.gameId.equals(S.gameId)&&(0,s.arrayDeepEquals)(_.coordinates,S.coordinates,(A,E)=>A.eq(E))&&_.discoverer.equals(S.discoverer)&&(0,s.arrayDeepEquals)(_.name,S.name,(A,E)=>A===E)&&_.numStars===S.numStars&&_.numPlanets===S.numPlanets&&_.numMoons===S.numMoons&&_.numAsteroidBelts===S.numAsteroidBelts&&_.numConnections===S.numConnections&&_.bump===S.bump}e.sectorDataEquals=b;function f(_,S){return _.connectionSector.equals(S.connectionSector)&&_.subCoordinates[0].eq(S.subCoordinates[0])&&_.subCoordinates[1].eq(S.subCoordinates[1])&&_.flags===S.flags}e.sectorConnectionEquals=f,e.SECTOR_CONNECTION_MIN_DATA_SIZE=32+8*2+1;function u(_,S){return _.isJumpPoint===S.isJumpPoint}e.connectionFlagsEquals=u;function d(_){return _.isJumpPoint?1<<0:0}e.connectionFlagsToByte=d;function m(_){return{isJumpPoint:(_&1<<0)>0}}e.connectionFlagsFromByte=m;let p=a=class{constructor(S,A,E){this._data=S,this._key=A,this._connections=E}get data(){return this._data}get key(){return this._key}get connections(){return this._connections}static findAddress(S,A,E){return i.PublicKey.findProgramAddressSync([dist$1.Buffer.from("Sector"),A.toBuffer(),E[0].toTwos(64).toArrayLike(dist$1.Buffer,"le",8),E[1].toTwos(64).toArrayLike(dist$1.Buffer,"le",8)],S.programId)}static decodeData(S,A){return(0,s.decodeAccountWithRemaining)(S,A,a,(E,w)=>Array(w.numConnections).fill(0).map((M,T)=>A.coder.types.decode("SectorConnection",E.subarray(e.SECTOR_CONNECTION_MIN_DATA_SIZE*T).subarray(0,e.SECTOR_CONNECTION_MIN_DATA_SIZE))))}static registerSector(S,A,E,w,M,T,v,D){const L=a.findAddress(S,M,T);return{sectorKey:L,instructions:I=>r(this,void 0,void 0,function*(){return[{instruction:yield S.methods.registerSector(T,(0,s.stringToByteArray)(v,64),D).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:E,gameId:M},funder:I.publicKey(),discoverer:w,sector:L[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[A,I]}]})}}static addConnection(S,A,E,w,M,T,v,D,L,I,k){return $=>r(this,void 0,void 0,function*(){return[{instruction:yield S.methods.addConnection(v,d(D),L,d(I),k).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:E,gameId:T},funder:$.publicKey(),sector1:w,sector2:M,systemProgram:i.SystemProgram.programId}).instruction(),signers:[A,$]}]})}static removeConnection(S,A,E,w,M,T,v,D){const L=M.connections.findIndex(k=>k.connectionSector.equals(T.key)),I=T.connections.findIndex(k=>k.connectionSector.equals(M.key));if(L===-1||I===-1)throw new Error("Connection not found");return k=>r(this,void 0,void 0,function*(){return[{instruction:yield S.methods.removeConnection(L,I,v).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:E,gameId:D},fundsTo:w==="funder"?k.publicKey():w,sector1:M.key,sector2:T.key,systemProgram:i.SystemProgram.programId}).instruction(),signers:[A]}]})}};p.ACCOUNT_NAME="sector",p.MIN_DATA_SIZE=8+1+32+8*2+32+64+2+2+2+2+2+1,p=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey,Array])],p),e.Sector=p})(sector);var ship={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(T,v,D,L){var I=arguments.length,k=I<3?v:L===null?L=Object.getOwnPropertyDescriptor(v,D):L,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,v,D,L);else for(var R=T.length-1;R>=0;R--)($=T[R])&&(k=(I<3?$(k):I>3?$(v,D,k):$(v,D))||k);return I>3&&k&&Object.defineProperty(v,D,k),k},n=commonjsGlobal&&commonjsGlobal.__metadata||function(T,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,v)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(T,v,D,L){function I(k){return k instanceof D?k:new D(function($){$(k)})}return new(D||(D=Promise))(function(k,$){function R(C){try{j(L.next(C))}catch(N){$(N)}}function O(C){try{j(L.throw(C))}catch(N){$(N)}}function j(C){C.done?k(C.value):I(C.value).then(R,O)}j((L=L.apply(T,v||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Ship=e.shipDataEquals=e.shipStatsEquals=e.miscStatsEquals=e.cargoStatsEquals=e.movementStatsEquals=e.SHIP_MIN_DATA_SIZE=e.shipStatsDefault=e.getSizeClassAnchorEnum=e.SHIP_STATS_MIN_DATA_SIZE=e.SHIP_SIZES=e.SizeClass=void 0;const i=require$$0,s=require$$0$1,l=src$5;var b;(function(T){T[T.XxSmall=1]="XxSmall",T[T.XSmall=2]="XSmall",T[T.Small=3]="Small",T[T.Medium=4]="Medium",T[T.Large=5]="Large",T[T.Capital=6]="Capital",T[T.Commander=7]="Commander",T[T.Titan=9]="Titan"})(b=e.SizeClass||(e.SizeClass={})),e.SHIP_SIZES={xxSmall:1,xSmall:4,small:9,medium:16,large:25,capital:36,commander:49,titan:81};const f=28,u=28,d=12;e.SHIP_STATS_MIN_DATA_SIZE=f+u+d;const m=T=>{const v=b[T];if(v)return{[v.toUpperCase()===v?v.toLowerCase():v.charAt(0).toLowerCase()+v.slice(1)]:{}};throw new Error(`${T} is not found in the "SizeClass" enum`)};e.getSizeClassAnchorEnum=m;function p(){return{movementStats:{warpSpeed:0,subwarpSpeed:0,maxWarpDistance:0,warpCoolDown:0,subwarpFuelConsumptionRate:0,warpFuelConsumptionRate:0,planetExitFuelAmount:0},cargoStats:{cargoCapacity:0,fuelCapacity:0,ammoCapacity:0,ammoConsumptionRate:0,foodConsumptionRate:0,miningRate:0,upgradeRate:0},miscStats:{crew:new i.BN(0),respawnTime:0,scanCoolDown:0,scanRepairKitAmount:0}}}e.shipStatsDefault=p,e.SHIP_MIN_DATA_SIZE=8+1+32+32+1+8+8+32+64+e.SHIP_STATS_MIN_DATA_SIZE;function _(T,v){return T.subwarpSpeed===v.subwarpSpeed&&T.maxWarpDistance===v.maxWarpDistance&&T.warpCoolDown===v.warpCoolDown&&T.warpCoolDown===v.warpCoolDown&&T.subwarpFuelConsumptionRate===v.subwarpFuelConsumptionRate&&T.warpFuelConsumptionRate===v.warpFuelConsumptionRate&&T.planetExitFuelAmount===v.planetExitFuelAmount}e.movementStatsEquals=_;function S(T,v){return T.cargoCapacity===v.cargoCapacity&&T.fuelCapacity===v.fuelCapacity&&T.ammoCapacity===v.ammoCapacity&&T.ammoConsumptionRate===v.ammoConsumptionRate&&T.foodConsumptionRate===v.foodConsumptionRate&&T.miningRate===v.miningRate&&T.upgradeRate===v.upgradeRate}e.cargoStatsEquals=S;function A(T,v){return T.crew.eq(v.crew)&&T.scanCoolDown===v.scanCoolDown&&T.respawnTime===v.respawnTime&&T.scanRepairKitAmount===v.scanRepairKitAmount}e.miscStatsEquals=A;function E(T,v){return _(T.movementStats,v.movementStats)&&S(T.cargoStats,v.cargoStats)&&A(T.miscStats,v.miscStats)}e.shipStatsEquals=E;function w(T,v){return T.version===v.version&&T.gameId.equals(v.gameId)&&T.mint.equals(v.mint)&&T.sizeClass===v.sizeClass&&E(T.stats,v.stats)&&T.updateId.eq(v.updateId)&&T.maxUpdateId.eq(v.maxUpdateId)&&T.next.key.equals(v.next.key)&&(0,l.arrayDeepEquals)(T.name,v.name,(D,L)=>D===L)}e.shipDataEquals=w;let M=a=class{constructor(v,D){this._data=v,this._key=D}get data(){return this._data}get key(){return this._key}static registerShip(v,D,L,I,k,$,R){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield v.methods.registerShip(R).accountsStrict({gameAndProfile:{key:D.publicKey(),profile:L,gameId:$},funder:O.publicKey(),ship:I.publicKey(),mint:k,systemProgram:s.SystemProgram.programId}).instruction(),signers:[D,O,I]}]})}static updateShip(v,D,L,I,k,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield v.methods.updateShip($).accountsStrict({gameAndProfile:{key:D.publicKey(),profile:L,gameId:k},ship:I}).instruction(),signers:[D]}]})}static invalidateShip(v,D,L,I,k,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield v.methods.invalidateShip($).accountsStrict({gameAndProfile:{key:D.publicKey(),profile:L,gameId:k},ship:I}).instruction(),signers:[D]}]})}static setNextShip(v,D,L,I,k,$,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield v.methods.setNextShip(R).accountsStrict({gameAndProfile:{key:D.publicKey(),profile:L,gameId:$},ship:I,nextShip:k}).instruction(),signers:[D]}]})}static decodeData(v,D){return(0,l.decodeAccount)(v,D,a)}};M.ACCOUNT_NAME="ship",M.MIN_DATA_SIZE=e.SHIP_MIN_DATA_SIZE,M=a=t([(0,l.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey])],M),e.Ship=M})(ship);(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(M,T,v,D){var L=arguments.length,I=L<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,v):D,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(M,T,v,D);else for(var $=M.length-1;$>=0;$--)(k=M[$])&&(I=(L<3?k(I):L>3?k(T,v,I):k(T,v))||I);return L>3&&I&&Object.defineProperty(T,v,I),I},n=commonjsGlobal&&commonjsGlobal.__metadata||function(M,T){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,T)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(M,T,v,D){function L(I){return I instanceof v?I:new v(function(k){k(I)})}return new(v||(v=Promise))(function(I,k){function $(j){try{O(D.next(j))}catch(C){k(C)}}function R(j){try{O(D.throw(j))}catch(C){k(C)}}function O(j){j.done?I(j.value):L(j.value).then($,R)}O((D=D.apply(M,T||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Fleet=e.fleetDataEquals=e.GLOBAL_SCALE_DECIMALS_6=e.GLOBAL_SCALE_DECIMALS_4=e.GLOBAL_SCALE_DECIMALS_2=e.FLEET_MIN_DATA_SIZE=e.PointsCategoryEnum=e.MAX_CONSUMPTION_CAPACITY=e.MAX_CARGO_CAPACITY=e.MAX_WARP_DISTANCE=e.MIN_WARP_DISTANCE=void 0;const i=require$$0,s=cjs$1,l=require$$0$1,b=src$2,f=src$5,u=disbandedFleet,d=fleetShips,m=mineItem,p=resource,_=sector,S=ship;e.MIN_WARP_DISTANCE=0,e.MAX_WARP_DISTANCE=20*100,e.MAX_CARGO_CAPACITY=1e8,e.MAX_CONSUMPTION_CAPACITY=1e7;var A;(function(M){M[M.XP=1]="XP",M[M.LP=2]="LP"})(A=e.PointsCategoryEnum||(e.PointsCategoryEnum={})),e.FLEET_MIN_DATA_SIZE=8+1+32+32+32+32+32+(2*8+4*2)+8+8+S.SHIP_STATS_MIN_DATA_SIZE+32+32+32+8+32+1,e.GLOBAL_SCALE_DECIMALS_2=100,e.GLOBAL_SCALE_DECIMALS_4=1e4,e.GLOBAL_SCALE_DECIMALS_6=1e6;function E(M,T){return M.version===T.version&&M.gameId.equals(T.gameId)&&M.ownerProfile.equals(T.ownerProfile)&&M.subProfile.key.equals(T.subProfile.key)&&M.subProfileInvalidator.equals(T.subProfileInvalidator)&&(0,f.arrayDeepEquals)(M.fleetLabel,T.fleetLabel,(v,D)=>v===D)&&(0,f.arrayDeepEquals)(Object.values(M.shipCounts),Object.values(T.shipCounts),(v,D)=>v===D)&&(0,S.shipStatsEquals)(M.stats,T.stats)&&M.cargoHold.equals(T.cargoHold)&&M.ammoBank.equals(T.ammoBank)&&M.fuelTank.equals(T.fuelTank)&&M.updateId.eq(T.updateId)&&M.warpCooldownExpiresAt.eq(T.warpCooldownExpiresAt)&&M.fleetShips.equals(T.fleetShips)&&M.bump===T.bump}e.fleetDataEquals=E;let w=a=class{constructor(T,v,D){this._data=T,this._key=v,this._state=D}get data(){return this._data}get key(){return this._key}get state(){return this._state}static findAddress(T,v,D,L){return l.PublicKey.findProgramAddressSync([dist$1.Buffer.from("Fleet"),v.toBuffer(),D.toBuffer(),dist$1.Buffer.from(L)],T.programId)}static findPointsModifierAddress(T,v){return l.PublicKey.findProgramAddressSync([v===A.XP?dist$1.Buffer.from("FleetsXPModifier"):dist$1.Buffer.from("FleetsLPModifier")],T.programId)}static getFleetSize(T){return T.xxSmall*S.SHIP_SIZES.xxSmall+T.xSmall*S.SHIP_SIZES.xSmall+T.small*S.SHIP_SIZES.small+T.medium*S.SHIP_SIZES.medium+T.large*S.SHIP_SIZES.large+T.capital*S.SHIP_SIZES.capital+T.commander*S.SHIP_SIZES.commander+T.titan*S.SHIP_SIZES.titan}static calculateWarpTime(T,v){return T.movementStats.warpSpeed>0?v/(T.movementStats.warpSpeed/e.GLOBAL_SCALE_DECIMALS_6):0}static calculateWarpTimeWithCoords(T,v,D){return this.calculateWarpTime(T,(0,_.calculateDistance)(v,D))}static calculateWarpFuelBurnWithDistance(T,v){return v*(T.movementStats.warpFuelConsumptionRate/e.GLOBAL_SCALE_DECIMALS_2)}static calculateWarpFuelBurnWithCoords(T,v,D){return this.calculateWarpFuelBurnWithDistance(T,(0,_.calculateDistance)(v,D))}static calculateSubwarpTime(T,v){return T.movementStats.subwarpSpeed>0?v/(T.movementStats.subwarpSpeed/e.GLOBAL_SCALE_DECIMALS_6):0}static calculateSubwarpTimeWithCoords(T,v,D){return this.calculateSubwarpTime(T,(0,_.calculateDistance)(v,D))}static calculateSubwarpFuelBurnWithDistance(T,v){return v*(T.movementStats.subwarpFuelConsumptionRate/e.GLOBAL_SCALE_DECIMALS_2)}static calculateSubwarpFuelBurnWithCoords(T,v,D){return this.calculateSubwarpFuelBurnWithDistance(T,(0,_.calculateDistance)(v,D))}static calculateAsteroidMiningFoodDuration(T,v){return T.cargoStats.foodConsumptionRate>0?v/(T.cargoStats.foodConsumptionRate/e.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningFoodToConsume(T,v,D){const L=a.calculateAsteroidMiningFoodDuration(T,v),k=Math.min(D,L)*(T.cargoStats.foodConsumptionRate/e.GLOBAL_SCALE_DECIMALS_4);return k>0?v>k?k:v:0}static calculateAsteroidMiningAmmoDuration(T,v){return T.cargoStats.ammoConsumptionRate>0?v/(T.cargoStats.ammoConsumptionRate/e.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningAmmoToConsume(T,v,D){const L=a.calculateAsteroidMiningAmmoDuration(T,v),k=Math.min(D,L)*(T.cargoStats.ammoConsumptionRate/e.GLOBAL_SCALE_DECIMALS_4);return k>0?v>k?k:v:0}static calculateAsteroidMiningEmissionRateBareBones(T,v,D){const L=v/m.MineItem.RESOURCE_HARDNESS_DECIMALS;if(L>0){const I=D/p.Resource.SYSTEM_RICHNESS_DECIMALS;return T.cargoStats.miningRate/e.GLOBAL_SCALE_DECIMALS_4*I/L}return 0}static calculateAsteroidMiningEmissionRate(T,v,D){return a.calculateAsteroidMiningEmissionRateBareBones(T,v.resourceHardness,D.systemRichness)}static calculateAsteroidMiningResourceExtractionDurationBareBones(T,v,D,L){const I=a.calculateAsteroidMiningEmissionRateBareBones(T,v,D);return I>0?L/I:0}static calculateAsteroidMiningResourceExtractionDuration(T,v,D,L){return a.calculateAsteroidMiningResourceExtractionDurationBareBones(T,v.resourceHardness,D.systemRichness,L)}static calculateAsteroidMiningResourceToExtractBareBones(T,v,D,L,I){const k=a.calculateAsteroidMiningEmissionRateBareBones(T,v,D);return Math.min(I,k*L)}static calculateAsteroidMiningResourceToExtract(T,v,D,L,I){return a.calculateAsteroidMiningResourceToExtractBareBones(T,v.resourceHardness,D.systemRichness,L,I)}static createFleet(T,v,D,L,I,k,$,R,O,j,C,N){const U=a.findAddress(T,O,L,N.fleetLabel),z=d.FleetShips.findAddress(T,U[0]),q=l.Keypair.generate().publicKey.toBuffer(),Z=l.Keypair.generate().publicKey.toBuffer(),ne=l.Keypair.generate().publicKey.toBuffer(),ie=b.CargoPod.findAddress(v,q),W=b.CargoPod.findAddress(v,Z),Y=b.CargoPod.findAddress(v,ne);return{fleetKey:U,cargoHoldKey:ie,fuelTankKey:W,ammoBankKey:Y,instructions:ee=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.createFleet(Object.assign(Object.assign({},N),{cargoHoldSeeds:Array.from(q),fuelTankSeeds:Array.from(Z),ammoBankSeeds:Array.from(ne)})).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:D.publicKey(),profile:L,profileFaction:I,gameId:O},gameState:j},funder:ee.publicKey(),fleet:U[0],fleetShips:z[0],ship:k,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoHold:ie[0],fuelTank:W[0],ammoBank:Y[0],cargoStatsDefinition:C,cargoProgram:v.programId,systemProgram:l.SystemProgram.programId}).instruction(),signers:[D,ee]}]})}}static addShipToFleet(T,v,D,L,I,k,$,R,O,j,C){return N=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.addShipToFleet(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:O},gameState:j},funder:N.publicKey(),fleetShips:d.FleetShips.findAddress(T,I)[0],ship:k,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},systemProgram:l.SystemProgram.programId}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[v,N]}]})}static updateShipInFleet(T,v,D,L,I,k,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.updateShipInFleet($).accountsStrict({fleet:v,fleetShips:d.FleetShips.findAddress(T,v)[0],oldShip:D,next:L,gameAccounts:{gameState:k,gameId:I}}).instruction(),signers:[]}]})}static disbandFleet(T,v,D,L,I,k,$,R,O,j,C){const N=u.DisbandedFleet.findAddress(T,k.data.gameId,L,k.data.fleetLabel);return{disbandedFleetKey:N,instructions:U=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.disbandFleet(C).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:D.publicKey(),profile:L,profileFaction:I,gameId:O},gameState:j},funder:U.publicKey(),fleet:k.key,fleetShips:d.FleetShips.findAddress(T,k.key)[0],disbandedFleet:N[0],cargoHold:k.data.cargoHold,fuelTank:k.data.fuelTank,ammoBank:k.data.ammoBank,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoProgram:v.programId,systemProgram:l.SystemProgram.programId}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[D,U]}]})}}static forceDisbandFleet(T,v,D,L,I,k,$,R,O){const j=u.DisbandedFleet.findAddress(T,D.data.gameId,D.data.ownerProfile,D.data.fleetLabel),C=[];return C.push({pubkey:I,isSigner:!1,isWritable:!1}),{disbandedFleetKey:j,instructions:N=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.forceDisbandFleet(O).accountsStrict({funder:N.publicKey(),fleet:D.key,fleetShips:d.FleetShips.findAddress(T,D.key)[0],disbandedFleet:j[0],cargoHold:D.data.cargoHold,fuelTank:D.data.fuelTank,ammoBank:D.data.ammoBank,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:L},ship:k,gameAccounts:{gameId:$,gameState:R},cargoProgram:v.programId,systemProgram:l.SystemProgram.programId}).remainingAccounts(C).instruction(),signers:[N]}]})}}static depositCargoToFleet(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z,ne,ie,W){return Y=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.depositCargoToFleet(W).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:O,owningProfile:L,owningProfileFaction:I,key:D.publicKey()},gameId:ne},gameState:ie},fundsTo:k==="funder"?Y.publicKey():k,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},cargoPodFrom:j,cargoPodTo:C,cargoType:N,cargoStatsDefinition:U,tokenFrom:z,tokenTo:q,tokenMint:Z,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:$,isSigner:!1,isWritable:!1}]).instruction(),signers:[D]}]})}static transferCargoWithinFleet(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z,ne,ie){const W=ie?[{pubkey:ie,isSigner:!1,isWritable:!1}]:[];return Y=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.transferCargoWithinFleet(ne).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:$,owningProfile:I,owningProfileFaction:k,key:D.publicKey()},gameId:q},gameState:Z},cargoPodFrom:R,cargoPodTo:O,cargoType:j,cargoStatsDefinition:C,tokenFrom:N,tokenTo:U,tokenMint:z,fundsTo:L==="funder"?Y.publicKey():L,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).remainingAccounts(W).instruction(),signers:[D]}]})}static withdrawCargoFromFleet(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z,ne,ie,W){return Y=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.withdrawCargoFromFleet(W).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:O,owningProfile:I,owningProfileFaction:k,key:D.publicKey()},gameId:ne},gameState:ie},starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},cargoPodFrom:j,cargoPodTo:C,cargoType:N,cargoStatsDefinition:U,tokenFrom:z,tokenTo:q,tokenMint:Z,fundsTo:L==="funder"?Y.publicKey():L,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:$,isSigner:!1,isWritable:!1}]).instruction(),signers:[D]}]})}static closeFleetCargoPodTokenAccount(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q){return Z=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.closeFleetCargoPodTokenAccount(q).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:$,owningProfile:I,owningProfileFaction:k,key:D.publicKey()},gameId:U},gameState:z},cargoPod:R,cargoType:O,cargoStatsDefinition:j,token:C,tokenMint:N,fundsTo:L==="funder"?Z.publicKey():L,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[D]}]})}static idleToLoadingBay(T,v,D,L,I,k,$,R,O,j){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.idleToLoadingBay(j).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:R},gameState:O},starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:$}}).instruction(),signers:[v]}]})}static idleToRespawn(T,v,D,L,I,k,$,R,O,j){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.idleToRespawn(j).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:O},gameState:R},atlasTokenFrom:k,atlasTokenTo:$,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[v]}]})}static loadingBayToIdle(T,v,D,L,I,k,$,R,O,j){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.loadingBayToIdle(j).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:R},gameState:O},starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:$}}).remainingAccounts([{pubkey:k,isSigner:!1,isWritable:!1}]).instruction(),signers:[v]}]})}static moveWarpHandler(T,v){return this.fleetStateHandler(T,v)}static movementSubwarpHandler(T,v,D,L,I,k,$,R,O,j,C){const N=[{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:v.programId,isSigner:!1,isWritable:!1},{pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return this.fleetStateHandler(T,L,N)}static movementHandler(T,v,D,L,I,k,$,R,O,j,C,N,U,z){const q=[],Z=k.data.subarray(e.FLEET_MIN_DATA_SIZE)[0];switch(Z){case 1:{q.push({pubkey:$,isSigner:!1,isWritable:!1});break}case 3:{R&&q.push({pubkey:R,isSigner:!1,isWritable:!1});break}case 4:{O&&j&&C&&N&&U&&z&&(q.push({pubkey:v,isSigner:!1,isWritable:!0}),q.push({pubkey:O,isSigner:!1,isWritable:!0}),q.push({pubkey:j,isSigner:!1,isWritable:!1}),q.push({pubkey:C,isSigner:!1,isWritable:!1}),q.push({pubkey:N,isSigner:!1,isWritable:!0}),q.push({pubkey:U,isSigner:!1,isWritable:!0}),q.push({pubkey:L,isSigner:!1,isWritable:!1}),q.push({pubkey:D,isSigner:!1,isWritable:!1}),q.push({pubkey:z.programId,isSigner:!1,isWritable:!1}),q.push({pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}));break}default:console.log("Fleet state discriminator not covered in code: ",Z);break}return this.fleetStateHandler(T,I,q)}static fleetStateHandler(T,v,D=[]){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.fleetStateHandler().accountsStrict({fleet:v}).remainingAccounts(D).instruction(),signers:[]}]})}static warpToCoordinate(T,v,D,L,I,k,$,R,O,j,C,N,U,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.warpToCoordinate(z).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:N},gameState:C},fuelTank:k,cargoType:$,statsDefinition:R,tokenFrom:O,tokenMint:j,cargoProgram:U.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[v]}]})}static warpLane(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z,ne,ie,W,Y,ee){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.warpLane(ee).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:W},gameState:ie},fromStarbase:k,toStarbase:$,fromSector:R,toSector:O,fuelTank:j,cargoType:C,statsDefinition:N,fuelTokenFrom:U,fuelMint:z,feeTokenFrom:q,feeTokenTo:Z,feeMint:ne,cargoProgram:Y.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[v]}]})}static startSubwarp(T,v,D,L,I,k,$,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.startSubwarp(R).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:k},gameState:$}}).instruction(),signers:[v]}]})}static stopSubwarp(T,v,D,L,I,k,$,R,O,j,C,N,U,z){const q=[{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:U.programId,isSigner:!1,isWritable:!1},{pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.stopSubwarp(z).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:C},gameState:N}}).remainingAccounts(q).instruction(),signers:[v]}]})}static startMiningAsteroid(T,v,D,L,I,k,$,R,O,j,C,N,U){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.startMiningAsteroid(U).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:N},gameState:C},starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:$},mineItem:R,resource:O,planet:j}).instruction(),signers:[v]}]})}static asteroidMiningHandler(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z,ne,ie,W,Y,ee,se){return this.fleetStateHandler(T,L,[{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:Y,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:N,isSigner:!1,isWritable:!1},{pubkey:U,isSigner:!1,isWritable:!1},{pubkey:z,isSigner:!1,isWritable:!1},{pubkey:Z,isSigner:!1,isWritable:!1},{pubkey:v.programId,isSigner:!1,isWritable:!1},{pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}])}static stopMiningAsteroid(T,v,D,L,I,k,$,R,O,j,C,N,U,z,q,Z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.stopMiningAsteroid(Z).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:k,owningProfile:L,owningProfileFaction:I,key:D.publicKey()},gameId:U},gameState:N},resource:$,planet:R,fuelTank:O,cargoType:j,cargoStatsDefinition:C,tokenFrom:z,tokenMint:q,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[D]}]})}static mineAsteroidToRespawn(T,v,D,L,I,k,$,R,O,j,C,N,U,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.mineAsteroidToRespawn(z).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:j},gameState:O},resource:k,planet:$,fuelTank:R,fuelTokenFrom:C,atlasTokenFrom:N,atlasTokenTo:U,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[v]}]})}static forceDropFleetCargo(T,v,D,L,I,k,$,R,O){const j=d.FleetShips.findAddress(T,D);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.forceDropFleetCargo().accountsStrict({fleet:D,fleetShips:j[0],cargoPod:L,cargoType:I,cargoStatsDefinition:k,gameId:$,tokenFrom:R,tokenMint:O,cargoProgram:v.programId,tokenProgram:s.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static respawnToLoadingBay(T,v,D,L,I,k,$,R,O,j,C,N,U){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.respawnToLoadingBay(U).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:I,owningProfile:D,owningProfileFaction:L,key:v.publicKey()},gameId:C},gameState:N},starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:$},cargoHold:R,fuelTank:O,ammoBank:j}).instruction(),signers:[v]}]})}static decodeData(T,v){return(0,f.decodeAccountWithRemaining)(T,v,a,(D,L)=>{const I=D[0];let k;switch(I){case 0:{k={StarbaseLoadingBay:v.coder.types.decode("StarbaseLoadingBay",D.subarray(1))};break}case 1:{k={Idle:v.coder.types.decode("Idle",D.subarray(1))};break}case 2:{k={MineAsteroid:v.coder.types.decode("MineAsteroid",D.subarray(1))};break}case 3:{k={MoveWarp:v.coder.types.decode("MoveWarp",D.subarray(1))};break}case 4:{k={MoveSubwarp:v.coder.types.decode("MoveSubwarp",D.subarray(1))};break}case 5:{k={Respawn:v.coder.types.decode("Respawn",D.subarray(1))};break}default:throw new Error("Unknown fleet state: "+I)}return k})}static calculateCombinedStats(T,v,D){const L=T;return L.cargoStats=a.calculateCombinedCargoStats(T.cargoStats,this.multiplyCargoStats(v.cargoStats,D)),L.miscStats=a.calculateCombinedMiscStats(T.miscStats,this.multiplyMiscStats(v.miscStats,D)),L.movementStats=a.calculateCombinedMovementStats(T.movementStats,this.multiplyMovementStats(v.movementStats,D)),L}static multiplyShipStats(T,v){const D=T;return D.cargoStats=a.multiplyCargoStats(T.cargoStats,v),D.miscStats=a.multiplyMiscStats(T.miscStats,v),D.movementStats=a.multiplyMovementStats(T.movementStats,v),D}static calculateCombinedCargoStats(T,v){return{cargoCapacity:Math.min(e.MAX_CARGO_CAPACITY,T.cargoCapacity+v.cargoCapacity),fuelCapacity:Math.min(e.MAX_CARGO_CAPACITY,T.fuelCapacity+v.fuelCapacity),ammoCapacity:Math.min(e.MAX_CARGO_CAPACITY,T.ammoCapacity+v.ammoCapacity),ammoConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.ammoConsumptionRate+v.ammoConsumptionRate),foodConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.foodConsumptionRate+v.foodConsumptionRate),miningRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.miningRate+v.miningRate),upgradeRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.upgradeRate+v.upgradeRate)}}static multiplyCargoStats(T,v){return{cargoCapacity:Math.min(e.MAX_CARGO_CAPACITY,v*T.cargoCapacity),fuelCapacity:Math.min(e.MAX_CARGO_CAPACITY,v*T.fuelCapacity),ammoCapacity:Math.min(e.MAX_CARGO_CAPACITY,v*T.ammoCapacity),ammoConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.ammoConsumptionRate),foodConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.foodConsumptionRate),miningRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.miningRate),upgradeRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.upgradeRate)}}static calculateCombinedMiscStats(T,v){return{crew:T.crew.add(v.crew),respawnTime:Math.max(T.respawnTime,v.respawnTime),scanCoolDown:Math.max(T.scanCoolDown,v.scanCoolDown),scanRepairKitAmount:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.scanRepairKitAmount+v.scanRepairKitAmount)}}static multiplyMiscStats(T,v){return{crew:T.crew.mul(new i.BN(v)),respawnTime:T.respawnTime,scanCoolDown:T.scanCoolDown,scanRepairKitAmount:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.scanRepairKitAmount)}}static calculateCombinedMovementStats(T,v){return{subwarpSpeed:Math.min(T.subwarpSpeed,v.subwarpSpeed),warpSpeed:Math.min(T.warpSpeed,v.warpSpeed),maxWarpDistance:Math.min(e.MAX_WARP_DISTANCE,Math.max(e.MIN_WARP_DISTANCE,Math.max(T.maxWarpDistance,v.maxWarpDistance))),warpCoolDown:Math.max(T.warpCoolDown,v.warpCoolDown),subwarpFuelConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.subwarpFuelConsumptionRate+v.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.warpFuelConsumptionRate+v.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(e.MAX_CONSUMPTION_CAPACITY,T.planetExitFuelAmount+v.planetExitFuelAmount)}}static multiplyMovementStats(T,v){return{subwarpSpeed:T.subwarpSpeed,warpSpeed:T.warpSpeed,maxWarpDistance:Math.min(e.MAX_WARP_DISTANCE,Math.max(e.MIN_WARP_DISTANCE,T.maxWarpDistance)),warpCoolDown:T.warpCoolDown,subwarpFuelConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(e.MAX_CONSUMPTION_CAPACITY,v*T.planetExitFuelAmount)}}};w.ACCOUNT_NAME="fleet",w.MIN_DATA_SIZE=e.FLEET_MIN_DATA_SIZE,w=a=t([(0,f.staticImplements)(),n("design:paramtypes",[Object,l.PublicKey,Object])],w),e.Fleet=w})(fleet);var game={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(v,D,L,I){var k=arguments.length,$=k<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,L):I,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(v,D,L,I);else for(var O=v.length-1;O>=0;O--)(R=v[O])&&($=(k<3?R($):k>3?R(D,L,$):R(D,L))||$);return k>3&&$&&Object.defineProperty(D,L,$),$},n=commonjsGlobal&&commonjsGlobal.__metadata||function(v,D){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(v,D)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(v,D,L,I){function k($){return $ instanceof L?$:new L(function(R){R($)})}return new(L||(L=Promise))(function($,R){function O(N){try{C(I.next(N))}catch(U){R(U)}}function j(N){try{C(I.throw(N))}catch(U){R(U)}}function C(N){N.done?$(N.value):k(N.value).then(O,j)}C((I=I.apply(v,D||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Game=e.RISK_ZONES_MIN_DATA_SIZE=e.MISC_VARIABLES_MIN_DATA_SIZE=e.LEVERS_MIN_DATA_SIZE=e.VAULTS_MIN_DATA_SIZE=e.MINTS_MIN_DATA_SIZE=e.FLEET_INFO_MIN_DATA_SIZE=e.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=e.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=e.CRAFTING_MIN_DATA_SIZE=e.CARGO_MIN_DATA_SIZE=e.POINTS_MIN_DATA_SIZE=e.gameDataEquals=e.riskZonesEquals=e.riskZoneEquals=e.RiskZones=e.DEFAULT_RISK_ZONES=e.DEFAULT_RISK_ZONE=e.fleetsPointModifierEquals=e.factionsStarbaseLevelInfoEqual=e.starbaseLevelInfoArraysEqual=e.starbaseLevelInfoEquals=e.vaultsEquals=e.mintsEquals=e.pointsEquals=e.craftingEquals=e.cargoEquals=void 0;const i=require$$0,s=require$$0$1,l=src$5;function b(v,D){return v.statsDefinition.equals(D.statsDefinition)}e.cargoEquals=b;function f(v,D){return v.domain.equals(D.domain)}e.craftingEquals=f;function u(v,D){return v.xpPointsCategory.equals(D.xpPointsCategory)&&v.lpPointsCategory.equals(D.lpPointsCategory)}e.pointsEquals=u;function d(v,D){return v.atlas.equals(D.atlas)&&v.polis.equals(D.polis)&&v.ammo.equals(D.ammo)&&v.food.equals(D.food)&&v.fuel.equals(D.fuel)&&v.repairKit.equals(D.repairKit)}e.mintsEquals=d;function m(v,D){return v.atlas.equals(D.atlas)&&v.polis.equals(D.polis)}e.vaultsEquals=m;function p(v,D){return v.hp.eq(D.hp)&&v.sp.eq(D.sp)&&v.sectorRingAvailable===D.sectorRingAvailable&&v.warpLaneMovementFee.eq(D.warpLaneMovementFee)&&v.recipeCategoryForLevel.equals(D.recipeCategoryForLevel)&&v.recipeForUpgrade.equals(D.recipeForUpgrade)}e.starbaseLevelInfoEquals=p;function _(v,D){return(0,l.arrayDeepEquals)(v,D,p)}e.starbaseLevelInfoArraysEqual=_;function S(v,D){const L=_(v.mud,D.mud),I=_(v.oni,D.oni),k=_(v.ustur,D.ustur);return L&&I&&k}e.factionsStarbaseLevelInfoEqual=S;function A(v,D){return v.bump===D.bump&&v.pubkey.equals(D.pubkey)}e.fleetsPointModifierEquals=A,e.DEFAULT_RISK_ZONE={center:[new i.BN(0),new i.BN(0)],radius:new i.BN(0)},e.DEFAULT_RISK_ZONES={mudSecurityZone:e.DEFAULT_RISK_ZONE,oniSecurityZone:e.DEFAULT_RISK_ZONE,usturSecurityZone:e.DEFAULT_RISK_ZONE,highRiskZone:e.DEFAULT_RISK_ZONE,mediumRiskZone:e.DEFAULT_RISK_ZONE},function(v){v[v.MudSecurityZone=0]="MudSecurityZone",v[v.OniSecurityZone=1]="OniSecurityZone",v[v.UsturSecurityZone=2]="UsturSecurityZone",v[v.HighRiskZone=3]="HighRiskZone",v[v.MediumRiskZone=4]="MediumRiskZone"}(e.RiskZones||(e.RiskZones={}));function E(v,D){return v.radius.eq(D.radius)&&v.center[0].eq(D.center[0])&&v.center[1].eq(D.center[1])}e.riskZoneEquals=E;function w(v,D){return E(v.mudSecurityZone,D.mudSecurityZone)&&E(v.oniSecurityZone,D.oniSecurityZone)&&E(v.usturSecurityZone,D.usturSecurityZone)&&E(v.highRiskZone,D.highRiskZone)&&E(v.mediumRiskZone,D.mediumRiskZone)}e.riskZonesEquals=w;function M(v,D){return v.version===D.version&&v.profile.equals(D.profile)&&v.gameState.equals(D.gameState)&&b(v.cargo,D.cargo)&&f(v.crafting,D.crafting)&&u(v.points,D.points)&&d(v.mints,D.mints)&&m(v.vaults,D.vaults)&&w(v.riskZones,D.riskZones)&&v.updateId.eq(D.updateId)}e.gameDataEquals=M,e.POINTS_MIN_DATA_SIZE=32+32,e.CARGO_MIN_DATA_SIZE=32,e.CRAFTING_MIN_DATA_SIZE=32,e.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=32+32+8+8+8+1,e.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=1+32,e.FLEET_INFO_MIN_DATA_SIZE=e.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE*21+e.FLEET_POINT_MODIFIER_MIN_DATA_SIZE*2+4,e.MINTS_MIN_DATA_SIZE=32+32+32+32+32+32,e.VAULTS_MIN_DATA_SIZE=32+32,e.LEVERS_MIN_DATA_SIZE=8*13+8*8,e.MISC_VARIABLES_MIN_DATA_SIZE=4+8,e.RISK_ZONES_MIN_DATA_SIZE=(8*2+8)*5;let T=a=class{constructor(D,L){this._data=D,this._key=L}get data(){return this._data}get key(){return this._key}static decodeData(D,L){return(0,l.decodeAccount)(D,L,a)}static initGame(D,L,I,k){return $=>r(this,void 0,void 0,function*(){return[{instruction:yield D.methods.initGame().accountsStrict({signer:L.publicKey(),gameId:k.publicKey(),funder:$.publicKey(),profile:I,systemProgram:s.SystemProgram.programId}).instruction(),signers:[L,$,k]}]})}static updateGame(D,L,I,k,$,R,O,j,C,N,U){const z=[],q={mints:0,vaults:0,points:0,crafting:0,cargo:0,riskZones:U||null,keyIndex:$};return R&&(R.xpPointsCategory&&(q.points|=1<<0,z.push({isSigner:!1,isWritable:!1,pubkey:R.xpPointsCategory})),R.lpPointsCategory&&(q.points|=1<<1,z.push({isSigner:!1,isWritable:!1,pubkey:R.lpPointsCategory}))),O&&(O.atlas&&(q.mints|=1<<0,z.push({isSigner:!1,isWritable:!1,pubkey:O.atlas})),O.polis&&(q.mints|=1<<1,z.push({isSigner:!1,isWritable:!1,pubkey:O.polis})),O.ammo&&(q.mints|=1<<2,z.push({isSigner:!1,isWritable:!1,pubkey:O.ammo})),O.food&&(q.mints|=1<<3,z.push({isSigner:!1,isWritable:!1,pubkey:O.food})),O.fuel&&(q.mints|=1<<4,z.push({isSigner:!1,isWritable:!1,pubkey:O.fuel})),O.repairKit&&(q.mints|=1<<5,z.push({isSigner:!1,isWritable:!1,pubkey:O.repairKit}))),j&&(j.atlas&&(q.vaults|=1<<0,z.push({isSigner:!1,isWritable:!1,pubkey:j.atlas})),j.polis&&(q.vaults|=1<<1,z.push({isSigner:!1,isWritable:!1,pubkey:j.polis}))),C&&C.domain&&(q.crafting|=1<<0,z.push({isSigner:!1,isWritable:!1,pubkey:C.domain})),N&&N.statsDefinition&&(q.cargo|=1<<0,z.push({isSigner:!1,isWritable:!1,pubkey:N.statsDefinition})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield L.methods.updateGame(q).accountsStrict({gameAndProfile:{key:I.publicKey(),profile:k,gameId:D}}).remainingAccounts(z).instruction(),signers:[I]}]})}};T.ACCOUNT_NAME="game",T.MIN_DATA_SIZE=8+1+8+32+32+e.POINTS_MIN_DATA_SIZE+e.CARGO_MIN_DATA_SIZE+e.CRAFTING_MIN_DATA_SIZE+e.MINTS_MIN_DATA_SIZE+e.VAULTS_MIN_DATA_SIZE+e.RISK_ZONES_MIN_DATA_SIZE,T.MIN_STAR_BASE_LEVEL=0,T.MAX_STAR_BASE_LEVEL=6,T=a=t([(0,l.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey])],T),e.Game=T})(game);var gameState={},src$1={},constants={},profile_faction={};Object.defineProperty(profile_faction,"__esModule",{value:!0});profile_faction.IDL=void 0;profile_faction.IDL={version:"0.7.1",name:"profile_faction",instructions:[{name:"chooseFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key with auth permissions."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to change faction for."]},{name:"faction",isMut:!0,isSigner:!1,docs:["The faction to change to."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"faction",type:{defined:"Faction"}}]}],accounts:[{name:"profileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}],types:[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}}]};var profileFactionAccount={},src={},player_profile={};Object.defineProperty(player_profile,"__esModule",{value:!0});player_profile.IDL=void 0;player_profile.IDL={version:"0.7.1",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]};var playerName={},__decorate$6=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$6=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},PlayerName_1;Object.defineProperty(playerName,"__esModule",{value:!0});playerName.PlayerName=playerName.playerNameDataEquals=void 0;const web3_js_1$4=require$$0$1,data_source_1$7=src$5;function playerNameDataEquals(e,t){return e.version===t.version&&e.profile.equals(t.profile)}playerName.playerNameDataEquals=playerNameDataEquals;let PlayerName=playerName.PlayerName=PlayerName_1=class{constructor(t,n,r){this._data=t,this._key=n,this._name=r}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(t,n){return web3_js_1$4.PublicKey.findProgramAddressSync([dist$1.Buffer.from("player_name"),n.toBuffer()],t.programId)}static decodeData(t,n){return(0,data_source_1$7.decodeAccountWithRemaining)(t,n,PlayerName_1,r=>new TextDecoder().decode(r))}};PlayerName.ACCOUNT_NAME="playerName";PlayerName.MIN_DATA_SIZE=8+1+32+1;playerName.PlayerName=PlayerName=PlayerName_1=__decorate$6([(0,data_source_1$7.staticImplements)(),__metadata$6("design:paramtypes",[Object,web3_js_1$4.PublicKey,String])],PlayerName);var playerProfile={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(w,M,T,v){var D=arguments.length,L=D<3?M:v===null?v=Object.getOwnPropertyDescriptor(M,T):v,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,M,T,v);else for(var k=w.length-1;k>=0;k--)(I=w[k])&&(L=(D<3?I(L):D>3?I(M,T,L):I(M,T))||L);return D>3&&L&&Object.defineProperty(M,T,L),L},n=commonjsGlobal&&commonjsGlobal.__metadata||function(w,M){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,M)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(w,M,T,v){function D(L){return L instanceof T?L:new T(function(I){I(L)})}return new(T||(T=Promise))(function(L,I){function k(O){try{R(v.next(O))}catch(j){I(j)}}function $(O){try{R(v.throw(O))}catch(j){I(j)}}function R(O){O.done?L(O.value):D(O.value).then(k,$)}R((v=v.apply(w,M||[])).next())})},a,i;Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfile=e.findKeyInProfile=e.profileKeyInputToFindKeyInput=e.getProfileKey=e.ProfilePermissions=e.PROFILE_KEY_MIN_DATA_SIZE=e.profileKeyEquals=e.profileDataEquals=void 0;const s=require$$0,l=require$$0$1,b=src$5,f=src,u=playerName;function d(w,M){return w.authKeyCount===M.authKeyCount&&w.keyThreshold===M.keyThreshold&&w.nextSeqId.eq(M.nextSeqId)&&w.createdAt.eq(M.createdAt)}e.profileDataEquals=d;function m(w,M){return w.key.equals(M.key)&&w.scope.equals(M.scope)&&w.expireTime.eq(M.expireTime)&&(0,b.arrayDeepEquals)(w.permissions,M.permissions,(T,v)=>T===v)}e.profileKeyEquals=m,e.PROFILE_KEY_MIN_DATA_SIZE=32+32+8+8;let p=e.ProfilePermissions=a=class{constructor(M,T,v,D,L,I,k,$,R,O,j,C){this.auth=M,this.addKeys=T,this.removeKeys=v,this.changeName=D,this.createRole=L,this.removeRole=I,this.setAuthorizer=k,this.joinRole=$,this.leaveRole=R,this.toggleAcceptingMembers=O,this.addMember=j,this.removeMember=C}static auth(){return new a(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new a(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new a(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new a(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new a(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new a(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new a(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new a(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new a(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new a(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new a(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new a(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const M=(0,b.fixedSizeArray)(8,0);return M[0]=(this.auth?1<<0:0)|(this.addKeys?1<<1:0)|(this.removeKeys?1<<2:0)|(this.changeName?1<<3:0)|(this.createRole?1<<4:0)|(this.removeRole?1<<5:0)|(this.setAuthorizer?1<<6:0)|(this.joinRole?1<<7:0),M[1]=(this.leaveRole?1<<0:0)|(this.toggleAcceptingMembers?1<<1:0)|(this.addMember?1<<2:0)|(this.removeMember?1<<3:0),M}static empty(){return new a(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new a(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(M){return new a((M[0]&1<<0)!==0,(M[0]&1<<1)!==0,(M[0]&1<<2)!==0,(M[0]&1<<3)!==0,(M[0]&1<<4)!==0,(M[0]&1<<5)!==0,(M[0]&1<<6)!==0,(M[0]&1<<7)!==0,(M[1]&1<<0)!==0,(M[1]&1<<1)!==0,(M[1]&1<<2)!==0,(M[1]&1<<3)!==0)}and(M){return new a(this.auth&&M.auth,this.addKeys&&M.addKeys,this.removeKeys&&M.removeKeys,this.changeName&&M.changeName,this.createRole&&M.createRole,this.removeRole&&M.removeRole,this.setAuthorizer&&M.setAuthorizer,this.joinRole&&M.joinRole,this.leaveRole&&M.leaveRole,this.toggleAcceptingMembers&&M.toggleAcceptingMembers,this.addMember&&M.addMember,this.removeMember&&M.removeMember)}or(M){return new a(this.auth||M.auth,this.addKeys||M.addKeys,this.removeKeys&&M.removeKeys,this.changeName||M.changeName,this.createRole||M.createRole,this.removeRole||M.removeRole,this.setAuthorizer||M.setAuthorizer,this.joinRole||M.joinRole,this.leaveRole||M.leaveRole,this.toggleAcceptingMembers||M.toggleAcceptingMembers,this.addMember||M.addMember,this.removeMember||M.removeMember)}eq(M){return this.auth===M.auth&&this.addKeys===M.addKeys&&this.removeKeys==M.removeKeys&&this.changeName===M.changeName&&this.createRole===M.createRole&&this.removeRole===M.removeRole&&this.setAuthorizer===M.setAuthorizer&&this.joinRole===M.joinRole&&this.leaveRole===M.leaveRole&&this.toggleAcceptingMembers===M.toggleAcceptingMembers&&this.addMember===M.addMember&&this.removeMember===M.removeMember}contains(M){return(!M.auth||this.auth)&&(!M.addKeys||this.addKeys)&&(!M.removeKeys||this.removeKeys)&&(!M.changeName||this.changeName)&&(!M.createRole||this.createRole)&&(!M.removeRole||this.removeRole)&&(!M.setAuthorizer||this.setAuthorizer)&&(!M.joinRole||this.joinRole)&&(!M.leaveRole||this.leaveRole)&&(!M.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!M.addMember||this.addMember)&&(!M.removeMember||this.removeMember)}};e.ProfilePermissions=p=a=t([(0,b.staticImplements)(),n("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],p);function _(w){return"profile"in w?w.profile.key:w.profileKey}e.getProfileKey=_;function S(w,M,T){return"keyIndex"in w?w:Object.assign(Object.assign({},w),{validScopes:M,requiredPermissions:T})}e.profileKeyInputToFindKeyInput=S;function A(w,M){if("keyIndex"in w)return w;{const{key:T,profile:v,validScopes:D,requiredPermissions:L}=w,k=v.profileKeys.findIndex($=>{const R=$.key.equals(T.publicKey()),O=$.scope.equals(w.playerProfileProgram.programId)&&p.fromPermissions($.permissions).contains(p.auth()),j=()=>{for(const N of D)if(N.equals($.scope))return!0;return!1},C=()=>M.fromPermissions($.permissions).contains(L);return R&&(O||j()&&C())});return k===-1?{error:"cannot find key"}:{profileKey:v.key,key:T,keyIndex:k}}}e.findKeyInProfile=A;let E=e.PlayerProfile=i=class{constructor(M,T,v){this._data=M,this._key=T,this._profileKeys=v}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(M,T,v,D){return L=>r(this,void 0,void 0,function*(){return{instruction:yield M.methods.createProfile(v.map(I=>{if(I.expireTime!==null&&I.expireTime.lt(new s.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:I.scope,expireTime:I.expireTime===null?new s.BN(-1):I.expireTime,permissions:I.permissions.getPermissions()}}),D).accountsStrict({funder:L.publicKey(),profile:T.publicKey(),systemProgram:l.SystemProgram.programId}).remainingAccounts(v.map(I=>(0,b.isAsyncSigner)(I.key)?{pubkey:I.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:I.key,isSigner:!1,isWritable:!1})).instruction(),signers:[L,T,...v.map(I=>I.key).filter(b.isAsyncSigner)]}})}static createRole(M,T,v,D){const L=A(S(T,[M.programId],p.changeName()),p);if("error"in L)throw L.error;const{profileKey:I,key:k,keyIndex:$}=L;return{instructions:R=>r(this,void 0,void 0,function*(){return[{instruction:yield M.methods.createRole($).accountsStrict({funder:R.publicKey(),profile:I,systemProgram:l.SystemProgram.programId,newRoleAccount:v[0]}).remainingAccounts([{pubkey:k.publicKey(),isSigner:!0,isWritable:!1}].concat((0,f.getMetaAccountsFromProfilesOrRoles)(D))).instruction().then(j=>(0,f.addKeyIndexesToTransactionInstruction)(j,D)),signers:[R,k]}]}),role:v}}static removeRole(M,T,v,D){const L=A(S(T,[M.programId],p.changeName()),p);if("error"in L)throw L.error;const{profileKey:I,key:k,keyIndex:$}=L,[R,O]=u.PlayerName.findAddress(M,v);return j=>r(this,void 0,void 0,function*(){return[{instruction:yield M.methods.removeRole(O,$).accountsStrict({funder:j.publicKey(),profile:I,roleAccount:v,roleNameAccount:R}).remainingAccounts([{pubkey:k.publicKey(),isSigner:!0,isWritable:!1}].concat((0,f.getMetaAccountsFromProfilesOrRoles)(D))).instruction().then(C=>(0,f.addKeyIndexesToTransactionInstruction)(C,D)),signers:[j,k]}]})}static setName(M,T,v,D){const L=A(S(T,[M.programId],p.changeName()),p);if("error"in L)throw L.error;const{profileKey:I,key:k,keyIndex:$}=L,R=u.PlayerName.findAddress(M,I);return{instructions:O=>r(this,void 0,void 0,function*(){return[{instruction:yield M.methods.setName($,dist$1.Buffer.from(new TextEncoder().encode(v))).accountsStrict({key:k.publicKey(),funder:O.publicKey(),profile:I,name:R[0],systemProgram:l.SystemProgram.programId}).remainingAccounts((0,f.getMetaAccountsFromProfilesOrRoles)(D)).instruction().then(j=>(0,f.addKeyIndexesToTransactionInstruction)(j,D)),signers:[O,k]}]}),name:R}}static addKeys(M,T,v,D,L,I,k){const $=I.reduce((j,C)=>j.or(C.permissions),D.empty()),{addKeyIndex:R,permissionsKeyIndex:O}=v.profileKeys.reduce((j,C,N)=>{if(j.addKeyIndex!==null&&j.permissionsKeyIndex!==null)return j;if(C.key.equals(T.publicKey())){if(C.scope.equals(M.programId)){const U=p.fromPermissions(C.permissions);if(U.auth)return{addKeyIndex:N,permissionsKeyIndex:N};U.addKeys&&(j.addKeyIndex=N)}L.equals(C.scope)&&$.and(D.fromPermissions(C.permissions)).eq($)&&(j.permissionsKeyIndex=N)}return j},{addKeyIndex:null,permissionsKeyIndex:null});if(R===null||O===null)throw new Error("key does not have permissions to add given keys");return j=>r(this,void 0,void 0,function*(){return[{instruction:yield M.methods.addKeys(R,O,I.map(C=>({scope:L,expireTime:C.expireTime===null?new s.BN(-1):C.expireTime,permissions:C.permissions.getPermissions()}))).accountsStrict({funder:j.publicKey(),profile:v.key,key:T.publicKey(),systemProgram:l.SystemProgram.programId}).remainingAccounts(I.map(C=>({pubkey:C.key,isSigner:!1,isWritable:!1})).concat((0,f.getMetaAccountsFromProfilesOrRoles)(k))).instruction().then(C=>(0,f.addKeyIndexesToTransactionInstruction)(C,k)),signers:[j,T]}]})}static removeKeys(M,T,v,D,L){const I=A(S(T,[M.programId],p.removeKeys()),p);if("error"in I)throw I.error;const{profileKey:k,key:$,keyIndex:R}=I;return O=>r(this,void 0,void 0,function*(){return{instruction:yield M.methods.removeKeys(R,D).accountsStrict({funder:v==="funder"?O.publicKey():v,key:$.publicKey(),profile:k,systemProgram:l.SystemProgram.programId}).remainingAccounts((0,f.getMetaAccountsFromProfilesOrRoles)(L)).instruction().then(j=>(0,f.addKeyIndexesToTransactionInstruction)(j,L)),signers:[$]}})}static adjustAuth(M,T,v,D,L,I){if(T.length===0)throw new Error("no keys provided");const k=T.map(C=>A(S(C,[M.programId],p.auth()),p)),$=k.filter(C=>"error"in C);if($.length>0)throw $[0].error;const R=k;let O=null;for(const C of R)if(O===null)O=C.profileKey;else if(!O.equals(C.profileKey))throw new Error("keys are not from the same profile");if(O===null)throw new Error("no keys provided after profile key");const j=v.map(C=>C(({key:N,expireTime:U,scope:z,permissions:q})=>{if(U!==null&&U.lt(new s.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:z,expireTime:U===null?new s.BN(-1):U,permissions:q.getPermissions()},N]}));return C=>r(this,void 0,void 0,function*(){return{instruction:yield M.methods.adjustAuth(R.map(N=>N.keyIndex),j.map(([N])=>N),D,L).accountsStrict({funder:C.publicKey(),profile:O,systemProgram:l.SystemProgram.programId}).remainingAccounts([...R.map(N=>({pubkey:N.key.publicKey(),isSigner:!0,isWritable:!1})),...j.map(([N,U])=>({pubkey:U,isSigner:!1,isWritable:!1}))].concat((0,f.getMetaAccountsFromProfilesOrRoles)(I))).instruction().then(N=>(0,f.addKeyIndexesToTransactionInstruction)(N,I)),signers:[C,...R.map(N=>N.key)]}})}static decodeData(M,T){return(0,b.decodeAccountWithRemaining)(M,T,i,(v,D)=>{const L=v.readUint16LE();return v=v.subarray(2),Array(L).fill(0).map((I,k)=>T.coder.types.decode("ProfileKey",v.subarray(e.PROFILE_KEY_MIN_DATA_SIZE*k).subarray(0,e.PROFILE_KEY_MIN_DATA_SIZE)))})}};E.ACCOUNT_NAME="profile",E.MIN_DATA_SIZE=8+1+2+1+8+8,e.PlayerProfile=E=i=t([(0,b.staticImplements)(),n("design:paramtypes",[Object,l.PublicKey,Array])],E)})(playerProfile);var profileRoleMembership={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)},r;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileRoleMembership=e.roleMembershipEquals=e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=e.MemberStatus=void 0;const a=require$$0$1,i=src$5;var s;(function(f){f[f.Inactive=0]="Inactive",f[f.Active=1]="Active"})(s||(e.MemberStatus=s={})),e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=32+1;function l(f,u){return f.key.equals(u.key)&&f.status===u.status}e.roleMembershipEquals=l;let b=e.ProfileRoleMembership=r=class{constructor(u,d,m){this._data=u,this._key=d,this._roleMemberships=m}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(u,d,m){return a.PublicKey.findProgramAddressSync([dist$1.Buffer.from("role-member"),d.toBuffer(),m.toBuffer()],u.programId)}static decodeData(u,d){return(0,i.decodeAccountWithRemaining)(u,d,r,(m,p)=>{const _=m.readUInt32LE();return m=m.subarray(4),Array(_).fill(0).map((S,A)=>d.coder.types.decode("RoleMembership",m.subarray(e.ROLE_MEMBERSHIP_MIN_DATA_SIZE*A).subarray(0,e.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};b.ACCOUNT_NAME="profileRoleMembership",b.MIN_DATA_SIZE=8+1+32+32+1,e.ProfileRoleMembership=b=r=t([(0,i.staticImplements)(),n("design:paramtypes",[Object,a.PublicKey,Array])],b)})(profileRoleMembership);var role={},__decorate$5=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$5=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},RoleAccount_1;Object.defineProperty(role,"__esModule",{value:!0});role.RoleAccount=role.roleAccountEquals=void 0;const web3_js_1$3=require$$0$1,data_source_1$6=src$5,index_1=src,profileRoleMembership_1$1=profileRoleMembership;function roleAccountEquals(e,t){return e.profile.equals(t.profile)&&e.authorizer.equals(t.authorizer)&&e.roleSeqId.eq(t.roleSeqId)&&e.acceptingNewMembers===t.acceptingNewMembers}role.roleAccountEquals=roleAccountEquals;let RoleAccount=role.RoleAccount=RoleAccount_1=class{constructor(t,n,r){this._data=t,this._key=n,this._roleMembers=r}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(t,n,r,a,i){const s=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId],index_1.ProfilePermissions.changeName()),index_1.ProfilePermissions);if("error"in s)throw s.error;const{profileKey:l,key:b,keyIndex:f}=s,u=index_1.PlayerName.findAddress(t,r);return{instructions:d=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleName(f,dist$1.Buffer.from(new TextEncoder().encode(a))).accountsStrict({funder:d.publicKey(),profile:l,name:u[0],systemProgram:web3_js_1$3.SystemProgram.programId,role:r}).remainingAccounts([{pubkey:b.publicKey(),isSigner:!0,isWritable:!1}].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>(0,index_1.addKeyIndexesToTransactionInstruction)(m,i)),signers:[d,b]}]}),name:u}}static setAuthorizer(t,n,r,a,i){const s=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId],index_1.ProfilePermissions.changeName()),index_1.ProfilePermissions);if("error"in s)throw s.error;const{profileKey:l,key:b,keyIndex:f}=s;return u=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAuthorizer(f).accountsStrict({profile:l,funder:u.publicKey(),roleAccount:r,authorizer:a}).remainingAccounts([{pubkey:b.publicKey(),isSigner:!0,isWritable:!1}].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(d=>(0,index_1.addKeyIndexesToTransactionInstruction)(d,i)),signers:[u,b]}]})}static joinRole(t,n,r,a){const{ownerKey:i,keyIndex:s,key:l}=(0,index_1.ownerToAccounts)([t.programId,r.data.profile],index_1.ProfilePermissions.joinRole(),n),b=profileRoleMembership_1$1.ProfileRoleMembership.findAddress(t,r.data.profile,i.key);return{instructions:f=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.joinRole(s).accountsStrict({funder:f.publicKey(),systemProgram:web3_js_1$3.SystemProgram.programId,newMember:i.key,roleMembershipAccount:b[0],roleAccount:r.key}).remainingAccounts([...l===null?[]:[{pubkey:l.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(a))).instruction().then(u=>{const d=i.signer;if(d){const m=u.keys.find(p=>p.pubkey.equals(d.publicKey()));m&&(m.isSigner=!0)}return(0,index_1.addKeyIndexesToTransactionInstruction)(u,a)}),signers:[f,i.signer,l].filter(u=>!!u&&"publicKey"in u)}]}),roleMembership:b}}static leaveRole(t,n,r,a,i){const{ownerKey:s,keyIndex:l,key:b}=(0,index_1.ownerToAccounts)([t.programId,r.data.profile],index_1.ProfilePermissions.joinRole(),n),f=(0,index_1.findRoleInRoleMemberships)(r.roleMembers,profileRoleMembership_1$1.MemberStatus.Active,s.key);if("error"in f)throw f.error;const{keyIndex:u}=f,d=(0,index_1.findRoleInRoleMemberships)(a.roleMemberships,profileRoleMembership_1$1.MemberStatus.Active,r.key);if("error"in d)throw d.error;const{keyIndex:m}=d;return p=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.leaveRole(l,u,m).accountsStrict({funder:p.publicKey(),systemProgram:web3_js_1$3.SystemProgram.programId,member:s.key,roleMembershipAccount:a.key,roleAccount:r.key}).remainingAccounts([...b===null?[]:[{pubkey:b.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(_=>{const S=s.signer;if(S){const A=_.keys.find(E=>E.pubkey.equals(S.publicKey()));A&&(A.isSigner=!0)}return(0,index_1.addKeyIndexesToTransactionInstruction)(_,i)}),signers:[p,s.signer,b].filter(_=>!!_&&"publicKey"in _)}]})}static setAcceptingNewMembers(t,n,r,a){const i=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId,r],index_1.ProfilePermissions.toggleAcceptingMembers()),index_1.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:s,key:l,keyIndex:b}=i;return f=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAcceptingMembers(b).accountsStrict({profile:s,roleAccount:r}).remainingAccounts([{pubkey:l.publicKey(),isSigner:!0,isWritable:!1}].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(a))).instruction().then(u=>(0,index_1.addKeyIndexesToTransactionInstruction)(u,a)),signers:[f,l]}]})}static setNotAcceptingNewMembers(t,n,r,a){const i=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId,r],index_1.ProfilePermissions.toggleAcceptingMembers()),index_1.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:s,key:l,keyIndex:b}=i;return f=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleNotAcceptingMembers(b).accountsStrict({profile:s,roleAccount:r}).remainingAccounts([{pubkey:l.publicKey(),isSigner:!0,isWritable:!1}].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(a))).instruction().then(u=>(0,index_1.addKeyIndexesToTransactionInstruction)(u,a)),signers:[f,l]}]})}static inviteToRole(t,n,r,a,i){const s=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId,r.key],index_1.ProfilePermissions.toggleAcceptingMembers()),index_1.ProfilePermissions);if("error"in s)throw s.error;const{profileKey:l,key:b,keyIndex:f}=s,u=profileRoleMembership_1$1.ProfileRoleMembership.findAddress(t,r.data.profile,a);return{instructions:d=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.inviteMemberToRole(f).accountsStrict({profile:l,roleAccount:r.key,funder:d.publicKey(),systemProgram:web3_js_1$3.SystemProgram.programId,newMember:a,roleMembershipAccount:u[0]}).remainingAccounts([{pubkey:b.publicKey(),isSigner:!0,isWritable:!1}].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>(0,index_1.addKeyIndexesToTransactionInstruction)(m,i)),signers:[d,b]}]}),roleMembership:u}}static acceptInvite(t,n,r,a,i){const{ownerKey:s,keyIndex:l,key:b}=(0,index_1.ownerToAccounts)([t.programId,r.data.profile],index_1.ProfilePermissions.joinRole(),n),f=(0,index_1.findRoleInRoleMemberships)(r.roleMembers,profileRoleMembership_1$1.MemberStatus.Inactive,s.key);if("error"in f)throw f.error;const{keyIndex:u}=f,d=(0,index_1.findRoleInRoleMemberships)(a.roleMemberships,profileRoleMembership_1$1.MemberStatus.Inactive,r.key);if("error"in d)throw d.error;const{keyIndex:m}=d,p=profileRoleMembership_1$1.ProfileRoleMembership.findAddress(t,r.data.profile,s.key);return{instructions:_=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.acceptRoleInvitation(l,u,m).accountsStrict({newMember:s.key,roleAccount:r.key,roleMembershipAccount:p[0]}).remainingAccounts([...b===null?[]:[{pubkey:b.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(S=>{const A=s.signer;if(A){const E=S.keys.find(w=>w.pubkey.equals(A.publicKey()));E&&(E.isSigner=!0)}return(0,index_1.addKeyIndexesToTransactionInstruction)(S,i)}),signers:[_,s.signer,b].filter(S=>!!S&&"publicKey"in S)}]}),roleMembership:p}}static addExistingMemberToRole(t,n,r,a,i,s){const l=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId,r.key],index_1.ProfilePermissions.toggleAcceptingMembers()),index_1.ProfilePermissions);if("error"in l)throw l.error;const{profileKey:b,key:f,keyIndex:u}=l,d=(0,index_1.findRoleInRoleMemberships)(a.roleMemberships,profileRoleMembership_1$1.MemberStatus.Active);if("error"in d)throw d.error;const{keyIndex:m}=d,p=profileRoleMembership_1$1.ProfileRoleMembership.findAddress(t,r.data.profile,i);return{instructions:_=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.addExistingMemberToRole(u,m).accountsStrict({profile:b,newMember:i,roleAccount:r.key,roleMembershipAccount:a.key,funder:_.publicKey(),systemProgram:web3_js_1$3.SystemProgram.programId}).remainingAccounts([...f===null?[]:[{pubkey:f.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(A=>(0,index_1.addKeyIndexesToTransactionInstruction)(A,s)),signers:[_,f]}]}),roleMembership:p}}static removeMemberFromRole(t,n,r,a,i,s){const l=(0,index_1.findKeyInProfile)((0,index_1.profileKeyInputToFindKeyInput)(n,[t.programId,r.key],index_1.ProfilePermissions.toggleAcceptingMembers()),index_1.ProfilePermissions);if("error"in l)throw l.error;const{profileKey:b,key:f,keyIndex:u}=l,d=(0,index_1.findRoleInRoleMemberships)(r.roleMembers,profileRoleMembership_1$1.MemberStatus.Active,i);if("error"in d)throw d.error;const{keyIndex:m}=d,p=(0,index_1.findRoleInRoleMemberships)(a.roleMemberships,profileRoleMembership_1$1.MemberStatus.Active,r.key);if("error"in p)throw p.error;const{keyIndex:_}=p;return S=>__awaiter$4(this,void 0,void 0,function*(){return[{instruction:yield t.methods.removeMemberFromRole(u,m,_).accountsStrict({profile:b,member:i,roleAccount:r.key,roleMembershipAccount:a.key,funder:S.publicKey(),systemProgram:web3_js_1$3.SystemProgram.programId}).remainingAccounts([...f===null?[]:[{pubkey:f.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,index_1.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(E=>(0,index_1.addKeyIndexesToTransactionInstruction)(E,s)),signers:[S,f]}]})}static findAddress(t,n,r){return web3_js_1$3.PublicKey.findProgramAddressSync([dist$1.Buffer.from("profile-role"),n.toBuffer(),r.toArrayLike(dist$1.Buffer,"le",8)],t.programId)}static decodeData(t,n){return(0,data_source_1$6.decodeAccountWithRemaining)(t,n,RoleAccount_1,(r,a)=>{const i=r.readUint32LE();return r=r.subarray(4),Array(i).fill(0).map((s,l)=>n.coder.types.decode("RoleMembership",r.subarray(profileRoleMembership_1$1.ROLE_MEMBERSHIP_MIN_DATA_SIZE*l).subarray(0,profileRoleMembership_1$1.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};RoleAccount.ACCOUNT_NAME="role";RoleAccount.MIN_DATA_SIZE=8+1+32+32+8+1+1;role.RoleAccount=RoleAccount=RoleAccount_1=__decorate$5([(0,data_source_1$6.staticImplements)(),__metadata$5("design:paramtypes",[Object,web3_js_1$3.PublicKey,Array])],RoleAccount);var utils$1={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})};Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1.getMetaAccountsFromProfilesOrRoles=utils$1.addKeyIndexesToTransactionInstruction=utils$1.findRoleInRoleMemberships=utils$1.findAllRoles=utils$1.ownerToAccounts=void 0;const data_source_1$5=src$5,playerProfile_1=playerProfile,profileRoleMembership_1=profileRoleMembership,role_1=role;function ownerToAccounts(e,t,n){if("profile"in n){const r=(0,playerProfile_1.findKeyInProfile)((0,playerProfile_1.profileKeyInputToFindKeyInput)(n.profile,e,t),playerProfile_1.ProfilePermissions);if("error"in r)throw new Error(r.error);return{ownerKey:{key:r.profileKey},keyIndex:r.keyIndex,key:r.key}}else return{ownerKey:{key:n.key.publicKey(),signer:n.key},keyIndex:0,key:null}}utils$1.ownerToAccounts=ownerToAccounts;function findAllRoles(e,t,n){return __awaiter$3(this,void 0,void 0,function*(){const r=[];return(yield(0,data_source_1$5.readAllFromRPC)(t,n,role_1.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:e.toBase58()}}])).forEach(i=>{i.type==="ok"&&r.push(i.data)}),r})}utils$1.findAllRoles=findAllRoles;function findRoleInRoleMemberships(e,t=profileRoleMembership_1.MemberStatus.Active,n){const r=e.findIndex(a=>{const i=!n||a.key.equals(n),s=a.status===t;return i&&s});return r===-1?{error:"Role membership not found"}:{roleMembership:{key:e[r].key,status:t},keyIndex:r}}utils$1.findRoleInRoleMemberships=findRoleInRoleMemberships;function addKeyIndexesToTransactionInstruction(e,t){const n=createBufferFromKeyIndexes(t);return e.data=dist$1.Buffer.concat([e.data,n]),e}utils$1.addKeyIndexesToTransactionInstruction=addKeyIndexesToTransactionInstruction;function getMetaAccountsFromProfilesOrRoles(e){var t;return(t=e==null?void 0:e.map(n=>({pubkey:n.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&t!==void 0?t:[]}utils$1.getMetaAccountsFromProfilesOrRoles=getMetaAccountsFromProfilesOrRoles;function createBufferFromKeyIndexes(e){var t;const n=dist$1.Buffer.alloc(2*((t=e==null?void 0:e.length)!==null&&t!==void 0?t:0));for(const[r,a]of(e??[]).entries())n.writeUint16LE(a.extraKeyIndexes,r*2);return n}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,S,A,E){E===void 0&&(E=A);var w=Object.getOwnPropertyDescriptor(S,A);(!w||("get"in w?!S.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return S[A]}}),Object.defineProperty(_,E,w)}:function(_,S,A,E){E===void 0&&(E=A),_[E]=S[A]}),n=commonjsGlobal&&commonjsGlobal.__decorate||function(_,S,A,E){var w=arguments.length,M=w<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,A):E,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,S,A,E);else for(var v=_.length-1;v>=0;v--)(T=_[v])&&(M=(w<3?T(M):w>3?T(S,A,M):T(S,A))||M);return w>3&&M&&Object.defineProperty(S,A,M),M},r=commonjsGlobal&&commonjsGlobal.__exportStar||function(_,S){for(var A in _)A!=="default"&&!Object.prototype.hasOwnProperty.call(S,A)&&t(S,_,A)},a=commonjsGlobal&&commonjsGlobal.__metadata||function(_,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,S)};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfileProgram=e.playerProfileErrorMap=e.PLAYER_PROFILE_IDL=void 0;const i=require$$0,s=src$5,l=player_profile,b=playerName,f=playerProfile,u=profileRoleMembership,d=role;var m=player_profile;Object.defineProperty(e,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return m.IDL}}),r(playerName,e),r(playerProfile,e),r(profileRoleMembership,e),r(role,e),r(utils$1,e),e.playerProfileErrorMap=(0,s.generateErrorMap)(l.IDL);let p=e.PlayerProfileProgram=class extends s.ListenProgram{constructor(S){super(S,{profile:f.PlayerProfile,playerName:b.PlayerName,role:d.RoleAccount,roleMembership:u.ProfileRoleMembership})}static buildProgram(S,A,E){return new i.Program(l.IDL,S,A,E)}};e.PlayerProfileProgram=p=n([(0,s.staticImplements)(),a("design:paramtypes",[Object])],p)})(src);var permissions$1={},__decorate$4=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$4=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},FactionPermissions_1;Object.defineProperty(permissions$1,"__esModule",{value:!0});permissions$1.FactionPermissions=void 0;const data_source_1$4=src$5;let FactionPermissions=permissions$1.FactionPermissions=FactionPermissions_1=class{constructor(t){this.setFaction=t}getPermissions(){const t=(0,data_source_1$4.fixedSizeArray)(8,0);return t[0]=this.setFaction?1<<0:0,t}static empty(){return new FactionPermissions_1(!1)}static all(){return new FactionPermissions_1(!0)}static setFactionPermissions(){return new FactionPermissions_1(!0)}static fromPermissions(t){return new FactionPermissions_1((t[0]&1<<0)!==0)}and(t){return new FactionPermissions_1(this.setFaction&&t.setFaction)}or(t){return new FactionPermissions_1(this.setFaction||t.setFaction)}eq(t){return this.setFaction===t.setFaction}contains(t){return this.setFaction||!t.setFaction}};permissions$1.FactionPermissions=FactionPermissions=FactionPermissions_1=__decorate$4([(0,data_source_1$4.staticImplements)(),__metadata$4("design:paramtypes",[Boolean])],FactionPermissions);var __decorate$3=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$3=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},ProfileFactionAccount_1;Object.defineProperty(profileFactionAccount,"__esModule",{value:!0});profileFactionAccount.ProfileFactionAccount=profileFactionAccount.Faction=profileFactionAccount.profileFactionDataEquals=void 0;const web3_js_1$2=require$$0$1,data_source_1$3=src$5,player_profile_1=src,permissions_1=permissions$1;function profileFactionDataEquals(e,t){return e.version===t.version&&e.faction===t.faction&&e.profile.equals(t.profile)}profileFactionAccount.profileFactionDataEquals=profileFactionDataEquals;var Faction;(function(e){e[e.Unaligned=0]="Unaligned",e[e.MUD=1]="MUD",e[e.ONI=2]="ONI",e[e.Ustur=3]="Ustur"})(Faction||(profileFactionAccount.Faction=Faction={}));let ProfileFactionAccount=profileFactionAccount.ProfileFactionAccount=ProfileFactionAccount_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static chooseFactionBareBones(t,n,r,a,i){const s=ProfileFactionAccount_1.findAddress(t,r);return{instructions:l=>__awaiter$2(this,void 0,void 0,function*(){return{instruction:yield t.methods.chooseFaction(i,(0,data_source_1$3.getAnchorEnum)(Faction,a)).accountsStrict({key:n.publicKey(),funder:l.publicKey(),profile:r,faction:s[0],systemProgram:web3_js_1$2.SystemProgram.programId}).instruction(),signers:[n]}}),faction:s}}static chooseFaction(t,n,r){const a=(0,player_profile_1.findKeyInProfile)((0,player_profile_1.profileKeyInputToFindKeyInput)(n,[t.programId],permissions_1.FactionPermissions.setFactionPermissions()),permissions_1.FactionPermissions);if("error"in a)throw a.error;const{profileKey:i,key:s,keyIndex:l}=a;return ProfileFactionAccount_1.chooseFactionBareBones(t,s,i,r,l)}static findAddress(t,n){return web3_js_1$2.PublicKey.findProgramAddressSync([dist$1.Buffer.from("player_faction"),n.toBuffer()],t.programId)}static decodeData(t,n){return(0,data_source_1$3.decodeAccount)(t,n,ProfileFactionAccount_1)}};ProfileFactionAccount.ACCOUNT_NAME="profileFactionAccount";ProfileFactionAccount.MIN_DATA_SIZE=8+1+32+1+1;profileFactionAccount.ProfileFactionAccount=ProfileFactionAccount=ProfileFactionAccount_1=__decorate$3([(0,data_source_1$3.staticImplements)(),__metadata$3("design:paramtypes",[Object,web3_js_1$2.PublicKey])],ProfileFactionAccount);(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileFactionProgram=e.profileFactionErrorMap=e.PROFILE_FACTION_IDL=void 0;const r=require$$0,a=src$5,i=profile_faction,s=profileFactionAccount;var l=profile_faction;Object.defineProperty(e,"PROFILE_FACTION_IDL",{enumerable:!0,get:function(){return l.IDL}}),e.profileFactionErrorMap=(0,a.generateErrorMap)(i.IDL);let b=e.ProfileFactionProgram=class extends a.ListenProgram{constructor(u){super(u,{profileFaction:s.ProfileFactionAccount})}static buildProgram(u,d,m){return new r.Program(i.IDL,u,d,m)}};e.ProfileFactionProgram=b=t([(0,a.staticImplements)(),n("design:paramtypes",[Object])],b)})(constants);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants,e),n(permissions$1,e),n(profileFactionAccount,e)})(src$1);var planet={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,u,d,m){function p(_){return _ instanceof d?_:new d(function(S){S(_)})}return new(d||(d=Promise))(function(_,S){function A(M){try{w(m.next(M))}catch(T){S(T)}}function E(M){try{w(m.throw(M))}catch(T){S(T)}}function w(M){M.done?_(M.value):p(M.value).then(A,E)}w((m=m.apply(f,u||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Planet=e.planetDataEquals=e.PlanetType=e.SectorRing=void 0;const i=require$$0$1,s=src$5;(function(f){f[f.Inner=1]="Inner",f[f.Mid=2]="Mid",f[f.Outer=3]="Outer"})(e.SectorRing||(e.SectorRing={})),function(f){f[f.Terrestrial=0]="Terrestrial",f[f.Volcanic=1]="Volcanic",f[f.Barren=2]="Barren",f[f.AsteroidBelt=3]="AsteroidBelt",f[f.GasGiant=4]="GasGiant",f[f.IceGiant=5]="IceGiant",f[f.Dark=6]="Dark"}(e.PlanetType||(e.PlanetType={}));function l(f,u){return f.version===u.version&&(0,s.arrayDeepEquals)(f.sector,u.sector,(d,m)=>d.eq(m))&&f.gameId.equals(u.gameId)&&f.size.eq(u.size)&&(0,s.arrayDeepEquals)(f.name,u.name,(d,m)=>d===m)&&(0,s.arrayDeepEquals)(f.subCoordinates,u.subCoordinates,(d,m)=>d.eq(m))&&f.planetType===u.planetType&&f.position===u.position&&f.maxHp.eq(u.maxHp)&&f.currentHealth.eq(u.currentHealth)&&f.amountMined.eq(u.amountMined)&&f.numResources===u.numResources&&f.numMiners.eq(u.numMiners)}e.planetDataEquals=l;let b=a=class{constructor(u,d){this._data=u,this._key=d}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,s.byteArrayToString)(this.data.name)}static registerPlanet(u,d,m,p,_,S,A){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.registerPlanet(Object.assign(Object.assign({},A),{name:(0,s.stringToByteArray)(A.name,64)})).accountsStrict({gameAndProfile:{key:d.publicKey(),profile:m,gameId:S},funder:E.publicKey(),planet:p.publicKey(),sector:_,systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,E,p]}]})}static updatePlanet(u,d,m,p,_,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield u.methods.updatePlanet(Object.assign(Object.assign({},S),{name:S.name==null?null:(0,s.stringToByteArray)(S.name,64),size:S.size==null?null:S.size,maxHp:S.maxHp==null?null:S.maxHp})).accountsStrict({gameAndProfile:{key:d.publicKey(),profile:m,gameId:_},planet:p}).instruction(),signers:[d]}]})}static decodeData(u,d){return(0,s.decodeAccount)(u,d,a)}};b.ACCOUNT_NAME="planet",b.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+1+8+8+8+8+1+8,b=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey])],b),e.Planet=b})(planet);(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(A,E,w,M){var T=arguments.length,v=T<3?E:M===null?M=Object.getOwnPropertyDescriptor(E,w):M,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(A,E,w,M);else for(var L=A.length-1;L>=0;L--)(D=A[L])&&(v=(T<3?D(v):T>3?D(E,w,v):D(E,w))||v);return T>3&&v&&Object.defineProperty(E,w,v),v},n=commonjsGlobal&&commonjsGlobal.__metadata||function(A,E){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(A,E)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(A,E,w,M){function T(v){return v instanceof w?v:new w(function(D){D(v)})}return new(w||(w=Promise))(function(v,D){function L($){try{k(M.next($))}catch(R){D(R)}}function I($){try{k(M.throw($))}catch(R){D(R)}}function k($){$.done?v($.value):T($.value).then(L,I)}k((M=M.apply(A,E||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.GameState=e.SCALE_DECIMALS_4=e.gameStateDataEquals=e.miscVariablesEquals=e.leverDataEquals=e.baseEmissionsBySizeUtilDefault=void 0;const i=require$$0,s=require$$0$1,l=src$5,b=src$1,f=lodash.exports,u=game,d=planet;e.baseEmissionsBySizeUtilDefault={xxSmall:new i.BN(0),xSmall:new i.BN(0),small:new i.BN(0),medium:new i.BN(0),large:new i.BN(0),capital:new i.BN(0),commander:new i.BN(0),titan:new i.BN(0)};function m(A,E){return(0,l.arrayDeepEquals)(Object.keys(A),Object.keys(E),(w,M)=>w===M)&&(0,l.arrayDeepEquals)(Object.values(A),Object.values(E),(w,M)=>i.BN.isBN(w)&&i.BN.isBN(M)?w.eq(M):(0,l.arrayDeepEquals)(Object.values(w),Object.values(M),(T,v)=>i.BN.isBN(T)&&i.BN.isBN(v)?T.eq(v):!1))}e.leverDataEquals=m;function p(A,E){return A.warpLaneFuelCostReduction===E.warpLaneFuelCostReduction&&A.respawnFee.eq(E.respawnFee)}e.miscVariablesEquals=p;function _(A,E){return A.version===E.version&&A.bump===E.bump&&A.gameId.equals(E.gameId)&&A.updateId.eq(E.updateId)&&A.fleet.maxFleetSize===E.fleet.maxFleetSize&&(0,u.factionsStarbaseLevelInfoEqual)(A.fleet.starbaseLevels,E.fleet.starbaseLevels)&&(0,u.fleetsPointModifierEquals)(A.fleet.fleetsLpModifier,E.fleet.fleetsLpModifier)&&(0,u.fleetsPointModifierEquals)(A.fleet.fleetsXpModifier,E.fleet.fleetsXpModifier)&&m(A.levers,E.levers)&&p(A.misc,E.misc)}e.gameStateDataEquals=_,e.SCALE_DECIMALS_4=1e4;let S=a=class{constructor(E,w){this._data=E,this._key=w}get data(){return this._data}get key(){return this._key}static findAddress(E,w,M){return s.PublicKey.findProgramAddressSync([dist$1.Buffer.from("GameState"),w.toBuffer(),M.toArrayLike(dist$1.Buffer,"le",8)],E.programId)}static initGameState(E,w,M,T,v,D){return L=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.initGameState(D).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:M,gameId:T},funder:L.publicKey(),gameState:v,systemProgram:s.SystemProgram.programId}).instruction(),signers:[w,L]}]})}static updateGameState(E,w,M,T,v,D,L,I,k){const $=[],R=I||null,O=k||null,C=(()=>{if(I){const Z=I.l1EmissionsMainBreaker,ne=I.l3ShipSizeWeight;if(Z===null||ne===null)return null;const ie=Z.toNumber()/e.SCALE_DECIMALS_4,W=ne.toNumber()/e.SCALE_DECIMALS_4,Y=Math.pow(ie,W)*e.SCALE_DECIMALS_4,ee=Math.pow(ie,W*2)*e.SCALE_DECIMALS_4,se=Math.pow(ie,W*3)*e.SCALE_DECIMALS_4,ue=Math.pow(ie,W*4)*e.SCALE_DECIMALS_4,me=Math.pow(ie,W*5)*e.SCALE_DECIMALS_4,ge=Math.pow(ie,W*6)*e.SCALE_DECIMALS_4,ye=Math.pow(ie,W*7)*e.SCALE_DECIMALS_4,we=Math.pow(ie,W*8)*e.SCALE_DECIMALS_4;return{xxSmall:new i.BN(Y),xSmall:new i.BN(ee),small:new i.BN(se),medium:new i.BN(ue),large:new i.BN(me),capital:new i.BN(ge),commander:new i.BN(ye),titan:new i.BN(we)}}else return null})(),N={starbaseLevelInfoArray:null,maxFleetSize:null,fleetsLpModifierBump:null,fleetsXpModifierBump:null},U=(L==null?void 0:L.starbaseLevels)||[],z={fleet:N,levers:R,misc:O,baseEmissionsBySizeUtil:C,keyIndex:D},q=[U.filter(Z=>Z.faction==(0,l.getNumberFromEnum)(b.Faction,b.Faction.ONI)),U.filter(Z=>Z.faction==b.Faction.MUD),U.filter(Z=>Z.faction==(0,l.getNumberFromEnum)(b.Faction,b.Faction.Ustur))];for(let Z=0;Z<q.length;Z++){const ne=q[Z];if(ne){const ie=(0,f.uniq)(ne.map(W=>W.level));if(ie.length!==ne.length)throw new Error("Starbase levels must be unique");if(Math.max(...ie)>u.Game.MAX_STAR_BASE_LEVEL||Math.min(...ie)<u.Game.MIN_STAR_BASE_LEVEL)throw new Error("Starbase levels must be between 0 and 6")}}U.sort((Z,ne)=>Z.faction-ne.faction||Z.level-ne.level);for(let Z=0;Z<U.length;Z++){const ne=U[Z];if(ne){const ie={faction:ne.faction,level:ne.level,hp:ne.hp,sp:ne.sp,warpLaneMovementFee:ne.warpLaneMovementFee,sectorRingAvailable:(0,l.getAnchorEnum)(d.SectorRing,ne.sectorRingAvailable)};N.starbaseLevelInfoArray==null?N.starbaseLevelInfoArray=[ie]:N.starbaseLevelInfoArray.push(ie),$.push({isSigner:!1,isWritable:!1,pubkey:ne.recipeForUpgrade}),$.push({isSigner:!1,isWritable:!1,pubkey:ne.recipeCategoryForLevel})}}return L!=null&&L.fleetsLpModifier&&(N.fleetsLpModifierBump=L.fleetsLpModifier.bump,$.push({isSigner:!1,isWritable:!1,pubkey:L.fleetsLpModifier.pubkey})),L!=null&&L.fleetsXpModifier&&(N.fleetsXpModifierBump=L.fleetsXpModifier.bump,$.push({isSigner:!1,isWritable:!1,pubkey:L.fleetsXpModifier.pubkey})),L!=null&&L.maxFleetSize&&(N.maxFleetSize=L.maxFleetSize),z.fleet=(0,l.isNull)(N)?null:N,()=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.updateGameState(z).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:M,gameId:T},gameState:v}).remainingAccounts($).instruction(),signers:[w]}]})}static activateGameState(E,w,M,T,v,D){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.activateGameState(D).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:M,gameId:T},gameState:v}).instruction(),signers:[w]}]})}static copyGameState(E,w,M,T,v,D,L){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.copyGameState(L).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:M,gameId:T},funder:I.publicKey(),oldGameState:v,newGameState:D,systemProgram:s.SystemProgram.programId}).instruction(),signers:[w,I]}]})}static decodeData(E,w){return(0,l.decodeAccount)(E,w,a)}};S.ACCOUNT_NAME="gameState",S.MIN_DATA_SIZE=8+1+32+8+u.FLEET_INFO_MIN_DATA_SIZE+u.LEVERS_MIN_DATA_SIZE+u.MISC_VARIABLES_MIN_DATA_SIZE+1,S=a=t([(0,l.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey])],S),e.GameState=S})(gameState);var sage={};Object.defineProperty(sage,"__esModule",{value:!0});sage.IDL=void 0;sage.IDL={version:"0.1.0",name:"sage",instructions:[{name:"activateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"addConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for adding the connection"]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first connected sector"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second connected sector"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"subCoordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"subCoordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"addRental",accounts:[{name:"ownerProfile",isMut:!1,isSigner:!1,docs:["The fleet owner's profile."]},{name:"ownerKey",isMut:!1,isSigner:!0,docs:["The key on the owner profile with renting permissions."]},{name:"invalidator",isMut:!1,isSigner:!0,docs:["This is a signer to help make sure the fleet won't be locked."]},{name:"subProfile",isMut:!1,isSigner:!1,docs:["The profile to rent to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"ownerKeyIndex",type:"u16"}]},{name:"addShipEscrow",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipEscrowInput"}}]},{name:"addShipToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipToFleetInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to cancel"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"StarbaseCancelCraftingProcessInput"}}]},{name:"changeRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["This is a signer to help make sure the fleet won't be locked."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"newSubProfile",isMut:!1,isSigner:!1,docs:["The new sub profile"]}],args:[]},{name:"claimCraftingNonConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseClaimCraftingNonConsumablesInput"}}]},{name:"claimCraftingOutputs",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable item"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `craftable_item`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseClaimCraftingOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"StarbaseCloseCraftingProcessInput"}}]},{name:"closeDisbandedFleet",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the player profile."]},{name:"playerProfile",isMut:!1,isSigner:!1,docs:["The player profile."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]}],args:[{name:"input",type:{defined:"CloseDisbandedFleetInput"}}]},{name:"closeFleetCargoPodTokenAccount",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod, owned by the fleet"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeStarbaseCargoTokenAccount",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"copyGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"oldGameState",isMut:!1,isSigner:!1,docs:["The old [`GameState`] account"]},{name:"newGameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"createCargoPod",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCargoPodInput"}}]},{name:"createCertificateMint",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The Starbase to create a certificate mint for"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint to create a certificate mint for"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The new certificate mint"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type to associated with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"rent",isMut:!1,isSigner:!1,docs:["The rent sysvar"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"createFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The new fleet `cargo_hold` cargo pod (not initialized)"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The new fleet `fuel_tank` cargo pod (not initialized)"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The new fleet `ammo_bank` cargo pod (not initialized)"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"CreateFleetInput"}}]},{name:"depositCargoToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"DepositCargoToFleetInput"}}]},{name:"depositCargoToGame",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `key`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"depositCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `crafting_process`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseDepositCraftingIngredientInput"}}]},{name:"deregisterMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"DeregisterSurveyDataUnitTrackerInput"}}]},{name:"disbandFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandFleetInput"}}]},{name:"disbandedFleetToEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandedFleetToEscrowInput"}}]},{name:"drainMineItemBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The mine item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainSurveyDataUnitsBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing rent refunds go."]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The SDU token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"fleetStateHandler",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}],args:[]},{name:"forceDisbandFleet",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The new [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"ForcedDisbandFleetInput"}}]},{name:"forceDropFleetCargo",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The `Fleet` Account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `cargo_type` for the token"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"idleToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"idleToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"IdleToRespawnInput"}}]},{name:"initGame",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The sector permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"gameId",isMut:!0,isSigner:!0,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"initGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitGameStateInput"}}]},{name:"invalidateRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["This is a signer to help make sure the fleet won't be locked."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]}],args:[]},{name:"invalidateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"loadingBayToIdle",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"mineAsteroidToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"fuelTokenFrom",isMut:!1,isSigner:!1,docs:["The source token account for fuel - owned by the `fuel_tank`"]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"MineAsteroidToRespawnInput"}}]},{name:"mintCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateTokenTo",isMut:!0,isSigner:!1,docs:["The token account where certificates are minted to"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the Starbase"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to take from"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"redeemCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateOwnerAuthority",isMut:!1,isSigner:!0,docs:["Owner of the certificates"]},{name:"certificateTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the Starbase"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to send to"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"registerFleetsPointModifier",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for the cpi points instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The points permissions [`Profile`](player_profile::state::Profile)"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The `PointCategory`"]},{name:"pointsModifierAccount",isMut:!0,isSigner:!1,docs:["The `PointsModifier` account to be inited in Points CPI"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]},{name:"game",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterFleetsPointsModifierInput"}}]},{name:"registerMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint address representing the mine item"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterMineItemInput"}}]},{name:"registerPlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"planet",isMut:!0,isSigner:!0,docs:["The [`Planet`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterPlanetInput"}}]},{name:"registerResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new resource"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterResourceInput"}}]},{name:"registerSagePlayerProfile",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The player permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The `SagePlayerProfile` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[]},{name:"registerSector",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"discoverer",isMut:!1,isSigner:!1,docs:["The discoverer of this sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"keyIndex",type:"u16"}]},{name:"registerShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"ship",isMut:!0,isSigner:!0,docs:["The [`Ship`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint address representing the [`Ship`]"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterShipInput"}}]},{name:"registerStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"star",isMut:!0,isSigner:!0,docs:["The [`Star`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarInput"}}]},{name:"registerStarbase",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"sector",isMut:!1,isSigner:!1,docs:["The [`Sector`] account"]},{name:"gameStateAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarbaseInputUnpacked"}}]},{name:"registerStarbasePlayer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder -- pays account rent"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"sagePlayerProfile",isMut:!1,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the player belongs to."]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] account to initialize"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"registerSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new `SurveyDataUnitTracker`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSurveyDataUnitTrackerInput"}}]},{name:"removeCargoPod",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod (should be empty)"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseRemoveCargoPodInput"}}]},{name:"removeConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the rent refund funds from the connections go to."]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first sector to remove from"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second sector to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"sector1Index",type:"u16"},{name:"sector2Index",type:"u16"},{name:"keyIndex",type:"u16"}]},{name:"removeInvalidShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"removeShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"respawnToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoHold",isMut:!1,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!1,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:"RespawnToLoadingBayInput"}}]},{name:"scanForSurveyDataUnits",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The general cargo hold cargo pod for the fleet"]},{name:"sduTokenFrom",isMut:!0,isSigner:!1,docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"]},{name:"sduTokenTo",isMut:!0,isSigner:!1,docs:["Destination token account for the SDU, owned by cargo_hold"]},{name:"repairKitTokenFrom",isMut:!0,isSigner:!1,docs:["Token account for repair kit, owned by fleet"]},{name:"repairKitMint",isMut:!0,isSigner:!1,docs:["The food token mint"]},{name:"sduCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of the SDU"]},{name:"repairKitCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of Repair Kits"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The cargo program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:"ScanForSurveyDataUnitsInput"}}]},{name:"setNextShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]},{name:"nextShip",isMut:!0,isSigner:!1,docs:["The next [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"startCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"StarbaseStartCraftingProcessInput"}}]},{name:"startMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"StartMiningAsteroidInput"}}]},{name:"startSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StartSubwarpInput"}}]},{name:"stopMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StopMiningAsteroidInput"}}]},{name:"stopSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StopSubwarpInput"}}]},{name:"syncResource",accounts:[{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[]},{name:"syncStarbasePlayer",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[]},{name:"transferCargoAtStarbase",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StarbaseTransferCargoInput"}}]},{name:"transferCargoWithinFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"TransferCargoWithinFleetInput"}}]},{name:"updateGame",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]}],args:[{name:"input",type:{defined:"UpdateGameInput"}}]},{name:"updateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"UpdateGameStateInput"}}]},{name:"updateMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"UpdateMineItemInput"}}]},{name:"updatePlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"UpdatePlanetInput"}}]},{name:"updateResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[{name:"input",type:{defined:"UpdateResourceInput"}}]},{name:"updateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The [`Ship`] account"]}],args:[{name:"input",type:{defined:"UpdateShipInput"}}]},{name:"updateShipEscrow",accounts:[{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipEscrowInput"}}]},{name:"updateShipInFleet",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipFleetInput"}}]},{name:"updateStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"star",isMut:!0,isSigner:!1,docs:["The [`Star`] account"]}],args:[{name:"input",type:{defined:"UpdateStarInput"}}]},{name:"updateStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateStarbaseInput"}}]},{name:"updateSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"UpdateSurveyDataUnitTrackerInput"}}]},{name:"warpLane",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fromStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"toStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"fromSector",isMut:!1,isSigner:!1,docs:["The Sector account representing the fleet`s  current sector"]},{name:"toSector",isMut:!1,isSigner:!1,docs:["The Sector account that `Fleet` will move to"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `Cargo Type` Account"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuelTokenFrom",isMut:!0,isSigner:!1,docs:["The fuel source token account - owned by the `fuel_tank`"]},{name:"fuelMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"feeTokenFrom",isMut:!0,isSigner:!1,docs:["The fee source token account"]},{name:"feeTokenTo",isMut:!0,isSigner:!1,docs:["The fee destination token account"]},{name:"feeMint",isMut:!0,isSigner:!1,docs:["Fee Token Mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpLaneInput"}}]},{name:"warpToCoordinate",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpToCoordinateInput"}}]},{name:"withdrawCargoFromFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod, owned by the fleet"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod, owned by the Starbase player"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WithdrawCargoFromFleetInput"}}]},{name:"withdrawCargoFromGame",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `key`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"withdrawCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseWithdrawCraftingIngredientInput"}}]}],accounts:[{name:"craftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"numCrew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"starbasePlayer",docs:["The `StarbasePlayer` account address"],type:"publicKey"},{name:"craftingProcess",docs:["The `CraftingProcess` account address"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"disbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleetShips",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"publicKey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"fleetShips",docs:["Fleet Ships Key"],type:"publicKey"},{name:"subProfile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:"OptionalNonSystemPubkey"}},{name:"subProfileInvalidator",docs:["The authority for revoking a sun-authority."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"shipCounts",docs:["The number of ships in the fleet."],type:{defined:"ShipCounts"}},{name:"warpCooldownExpiresAt",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scanCooldownExpiresAt",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:"ShipStats"}},{name:"cargoHold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"publicKey"},{name:"fuelTank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"publicKey"},{name:"ammoBank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"publicKey"},{name:"updateId",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"fleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"publicKey"},{name:"fleetShipsInfoCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"updateId",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"publicKey"},{name:"gameState",docs:["The associated `GameState` account."],type:"publicKey"},{name:"points",docs:["Points setting"],type:{defined:"Points"}},{name:"cargo",docs:["Cargo settings"],type:{defined:"Cargo"}},{name:"crafting",docs:["Crafting settings"],type:{defined:"Crafting"}},{name:"mints",docs:["mint related settings"],type:{defined:"Mints"}},{name:"vaults",docs:["vault related settings"],type:{defined:"Vaults"}},{name:"riskZones",docs:["Data for risk zones"],type:{defined:"RiskZonesData"}}]}},{name:"gameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"updateId",docs:["The sequence id for updates"],type:"u64"},{name:"gameId",docs:["The `Game` that this belongs to"],type:"publicKey"},{name:"fleet",docs:["Fleet settings"],type:{defined:"FleetInfo"}},{name:"levers",docs:["Global levers"],type:{defined:"Levers"}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:"MiscVariables"}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"mineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this item is registered with"],type:"publicKey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"publicKey"},{name:"mineItemUpdateId",docs:["The `MineItem` update id"],type:"u64"},{name:"resourceHardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"numResourceAccounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planetType",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"maxHp",docs:["maximum health"],type:"u64"},{name:"currentHealth",docs:["The current health of the `Planet`."],type:"u64"},{name:"amountMined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"numResources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"numMiners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id pubkey"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"mineItem",docs:["the mine item pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"systemRichness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amountMined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"numMiners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"mineItemUpdateId",docs:["The `MineItem` update id"],type:"u64"},{name:"resourceUpdateId",docs:["The `Resource` update id"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"sagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"publicKey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"numStars",docs:["the number of stars in this system"],type:"u16"},{name:"numPlanets",docs:["the number of planets in this system"],type:"u16"},{name:"numMoons",docs:["the number of moons in this system"],type:"u16"},{name:"numAsteroidBelts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"numConnections",docs:["the number of connections in this system"],type:"u16"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this Ship is registered with"],type:"publicKey"},{name:"mint",docs:["the mint representing the Ship"],type:"publicKey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:"ShipStats"}},{name:"updateId",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"maxUpdateId",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"starType",docs:["the star type"],type:"u8"}]}},{name:"starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"gameId",docs:["the game_id that this `Starbase` belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"craftingFacility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"publicKey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgradeState",docs:["The `Starbase` upgrade state using `StarbaseUpgradeLevelState`"],type:"i64"},{name:"builtDestroyedTimestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"},{name:"numUpgradingFleets",docs:["The number of fleets currently upgrading the `Starbase`"],type:"u64"},{name:"totalUpgradeRate",docs:["The total rate at which the SB is currently upgrading"],type:"u64"},{name:"receivedUpgradeMaterials",docs:["The total received amount of material for upgrading the `Starbase` until the `last_updated_rate_timestamp`"],type:"u64"},{name:"requiredUpgradeMaterials",docs:["The total required amount of material for upgrading the `Starbase`"],type:"u64"},{name:"lastUpdatedRateTimestamp",docs:["The last time the SB total upgrade rate was updated"],type:"i64"}]}},{name:"starbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"starbase",docs:["The `Starbase` key"],type:"publicKey"},{name:"sagePlayerProfile",docs:["The `SagePlayerProfile` key"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"shipEscrowCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"totalCrew",docs:["The total crew members from the player's fleets at the `Starbase`"],type:"u64"},{name:"busyCrew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"updateId",docs:["The `Game` update id"],type:"u64"},{name:"updatedShipEscrowCount",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"surveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game_id that this belongs to"],type:"publicKey"},{name:"mint",docs:["The Survey Data Unit Mint"],type:"publicKey"},{name:"signer",docs:["The signer for this account"],type:"publicKey"},{name:"signerBump",docs:["The signer for this account"],type:"u8"},{name:"surveyDataUnitBySecond",docs:["Survey Data Units found in the last `MAX_SECONDS` seconds","This is structured such that the 0th index represents SDUs found `MAX_SECONDS` seconds ago,","and the last index represents SDUs found in the most recent second","NB: the only reason why this is `[u32; MAX_SECONDS]` and not `[u16; MAX_SECONDS]` is to prevent overflows"],type:{array:["u32",60]}},{name:"limit",docs:["The global limit on how many SDUs can be found in a `MAX_SECONDS` second period"],type:"u32"},{name:"scanCooldown",docs:["The amount of time that must go by before someone can scan a sector again"],type:"u16"},{name:"probability",docs:["The chance that a player gets an SDU on a legitimate scan, this is meant to be a percentage","10,000 == 100%, 100 = 1%, etc."],type:"u16"},{name:"max",docs:["The max number of SDUs that can be found while scanning"],type:"u16"},{name:"numSectors",docs:["The number of Sectors that can be scanned"],type:"u16"},{name:"lastUpdate",docs:["The last time the `SurveyDataUnitTracker` was updated"],type:"i64"}]}}],types:[{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"BaseEmissionsBySizeUtil",docs:["Type containing derived sub-levers used in `calculate_base_emissions()` discriminated by ship size"],type:{kind:"struct",fields:[{name:"xxSmall",docs:["xx_small"],type:"u64"},{name:"xSmall",docs:["x_small"],type:"u64"},{name:"small",docs:["small"],type:"u64"},{name:"medium",docs:["medium"],type:"u64"},{name:"large",docs:["large"],type:"u64"},{name:"capital",docs:["capital"],type:"u64"},{name:"commander",docs:["commander"],type:"u64"},{name:"titan",docs:["titan"],type:"u64"}]}},{name:"BaseEmissionsBySizeUtilInput",docs:["Struct for data input to Update `base_emissions_by_size_util`"],type:{kind:"struct",fields:[{name:"xxSmall",docs:["xx_small"],type:"u64"},{name:"xSmall",docs:["x_small"],type:"u64"},{name:"small",docs:["small"],type:"u64"},{name:"medium",docs:["medium"],type:"u64"},{name:"large",docs:["large"],type:"u64"},{name:"capital",docs:["capital"],type:"u64"},{name:"commander",docs:["commander"],type:"u64"},{name:"titan",docs:["titan"],type:"u64"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"statsDefinition",docs:["The cargo stats definition account"],type:"publicKey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"publicKey"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleetLabel",docs:["the fleet label"],type:{array:["u8",32]}},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargoHoldSeeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuelTankSeeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammoBankSeeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbaseLevels",docs:["`Starbase` levels discriminated by faction"],type:{defined:"FactionsStarbaseLevelInfo"}},{name:"fleetsLpModifier",docs:["The fleets account registered as a modifier for LP in the Points program"],type:{defined:"FleetsPointModifier"}},{name:"fleetsXpModifier",docs:["The fleets account registered as a modifier for XP in the Points program"],type:{defined:"FleetsPointModifier"}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbaseLevelInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseLevelInfoArrayInput"}}}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}},{name:"fleetsLpModifierBump",docs:["The bump for the `FleetsLPModifier` account"],type:{option:"u8"}},{name:"fleetsXpModifierBump",docs:["The bump for the `FleetsXPModifier` account"],type:{option:"u8"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"FleetStarbaseUpgradeState",docs:["The upgrade start state for a fleet"],type:{kind:"enum",variants:[{name:"NotFullyFilled"},{name:"Started"},{name:"Burning"}]}},{name:"FleetsPointModifier",docs:["The fleets account registered as a modifier in the Points program"],type:{kind:"struct",fields:[{name:"pubkey",docs:["`FleetsPointModifier` Pubkey"],type:"publicKey"},{name:"bump",docs:["`FleetsPointModifier` bump"],type:"u8"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"Levers",docs:["Global levers"],type:{kind:"struct",fields:[{name:"l0ResourcesScalarMultiplication",docs:["global lever that scales the quantity of resources. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l1EmissionsMainBreaker",docs:["global lever which impacts the distribution of effective emissions. Units are 10000ths. Valid output values >= 0."],type:"u64"},{name:"l2SystemRichnessEmissions",docs:["global lever which impacts the effect that system richness has on resource emissions. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l3ShipSizeWeight",docs:["global lever which impacts the effect that ship size has on resource emissions. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l4ResourceHardness",docs:["global lever which impacts the effect that resource hardness has on resource emissions. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l5FuelWarpBreaker",docs:["Module wide lever that directly impacts the nominal cost of warping. Units are 10000ths. Valid output values > 1."],type:"u64"},{name:"l6FuelPlanetBreaker",docs:["Module wide lever that directly impacts the nominal cost of planet exit. Units are 10000ths. Valid output values > 1."],type:"u64"},{name:"l7FuelRefinementEfficiency",docs:["Module wide lever that impacts refinement from R20 (hydrogen) to R4 (fuel). Units are 10000ths. Valid output values > 1."],type:"u64"},{name:"l8MiningFoodBreaker",docs:["Module wide lever that directly impacts the nominal cost of mining. Units are 10000ths. Valid output values between 0 and 1."],type:"u64"},{name:"l10FoodRefinementEfficiency",docs:["Module wide lever that impacts refinement from R20 (organics) to R4 (food). Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l11OrganicsScalarMultiplication",docs:["Module specific lever that scales the quantity of organics in the economy."],type:"u64"},{name:"l16FuelCombatBreaker",docs:["Module wide lever that directly impacts the nominal cost of combat. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"l21FuelSubwarpBreaker",docs:["Module wide lever that directly impacts the nominal cost of subwarp mvmt. Units are 10000ths. Valid output values > 0."],type:"u64"},{name:"baseEmissionsBySizeUtil",docs:["Set of derived sub-levers used in `calculate_base_emissions()`.","Math formula: `l1_emissions_main_breaker.powf(l3_ship_size_weight * ship_size)`"],type:{defined:"BaseEmissionsBySizeUtil"}}]}},{name:"LeversInput",docs:["Struct for data input to Update levers"],type:{kind:"struct",fields:[{name:"l0ResourcesScalarMultiplication",docs:["global lever that scales the quantity of resources."],type:{option:"u64"}},{name:"l1EmissionsMainBreaker",docs:["global lever which impacts the distribution of effective emissions."],type:{option:"u64"}},{name:"l2SystemRichnessEmissions",docs:["global lever which impacts the effect that system richness has on resource emissions."],type:{option:"u64"}},{name:"l3ShipSizeWeight",docs:["global lever which impacts the effect that ship size has on resource emissions."],type:{option:"u64"}},{name:"l4ResourceHardness",docs:["global lever which impacts the effect that resource hardness has on resource emissions."],type:{option:"u64"}},{name:"l5FuelWarpBreaker",docs:["Module wide lever that directly impacts the nominal cost of warping"],type:{option:"u64"}},{name:"l6FuelPlanetBreaker",docs:["Module wide lever that directly impacts the nominal cost of planet exit"],type:{option:"u64"}},{name:"l7FuelRefinementEfficiency",docs:["Module wide lever that impacts refinement from R20 (hydrogen) to R4 (fuel)"],type:{option:"u64"}},{name:"l8MiningFoodBreaker",docs:["Module wide lever that directly impacts the nominal cost of mining.  (Value between 0 and 1)"],type:{option:"u64"}},{name:"l10FoodRefinementEfficiency",docs:["Module wide lever that impacts refinement from R20 (organics) to R4 (food)"],type:{option:"u64"}},{name:"l11OrganicsScalarMultiplication",docs:["Module specific lever that scales the quantity of organics in the economy."],type:{option:"u64"}},{name:"l16FuelCombatBreaker",docs:["Module wide lever that directly impacts the nominal cost of combat. Units are 10000ths. Valid output values > 0."],type:{option:"u64"}},{name:"l21FuelSubwarpBreaker",docs:["Module wide lever that directly impacts the nominal cost of subwarp mvmt. Units are 10000ths. Valid output values > 0."],type:{option:"u64"}}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"publicKey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"publicKey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"lastUpdate",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"},{name:"ammo",docs:["ammunition"],type:"publicKey"},{name:"food",docs:["food"],type:"publicKey"},{name:"fuel",docs:["fuel"],type:"publicKey"},{name:"repairKit",docs:["repair kit"],type:"publicKey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"crew",docs:["Number of crew in the ship"],type:"u64"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"scanRepairKitAmount",docs:["the amount of food required to do a scan"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"crew",docs:["Number of crew in the ship"],type:"u64"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"scanRepairKitAmount",docs:["the amount of food required to do a scan"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i32"},{name:"respawnFee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i32"}},{name:"respawnFee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"currentSector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departureTime",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrivalTime",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuelExpenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"lastUpdate",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warpStart",docs:["When the fleet started warping"],type:"i64"},{name:"warpFinish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"xpPointsCategory",docs:["Represents the points category to use for XP (experience points)"],type:"publicKey"},{name:"lpPointsCategory",docs:["Represents the points category to use for LP (loyalty points)"],type:"publicKey"}]}},{name:"RegisterFleetsPointsModifierInput",docs:["Struct for data input to register a points modifier for fleets program"],type:{kind:"struct",fields:[{name:"canIncrement",docs:["The modifier can increment points"],type:"bool"},{name:"canDecrement",docs:["The modifier can decrement points"],type:"bool"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"},{name:"pointsCategory",docs:["The points category of the modifier (XP/LP)"],type:"u8"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"maxHp",docs:["`Planet` max health"],type:"u64"},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planetType",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"locationType",docs:["`Resource` location type"],type:"u8"},{name:"systemRichness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"isActive",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"subCoordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"starType",docs:["`Star` type"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"limit",docs:["The global limit on how many SDUs can be found in a `MAX_SECONDS` second period"],type:"u32"},{name:"scanCooldown",docs:["The amount of time that must go by before someone can scan a sector again"],type:"u16"},{name:"probability",docs:["The chance that a player gets an SDU on a legitimate scan, this is meant to be a percentage"],type:"u16"},{name:"max",docs:["The max number of SDUs that can be found while scanning"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permissionKeyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connectionSector",docs:["The sector connected to"],type:"publicKey"},{name:"subCoordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xxSmall",docs:["The size of xx small ships"],type:"u8"},{name:"xSmall",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCancelCraftingProcessInput",docs:["Struct for data input to cancel a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseClaimCraftingNonConsumablesInput",docs:["Struct for data input to Claim Crafting Process Non-consumable inputs"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"StarbaseClaimCraftingOutputInput",docs:["Struct for data input to close a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"StarbaseCloseCraftingProcessInput",docs:["Struct for data input to close a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"podSeeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"numCrew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipeForUpgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"publicKey"},{name:"recipeCategoryForLevel",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"publicKey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:{defined:"SectorRing"}},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"publicKey"},{name:"lastUpdate",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseStartCraftingProcessInput",docs:["Struct for data input to start a crafting process"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgrade",docs:["The data for the `StarbaseUpgrade` state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` being upgraded"],type:"publicKey"},{name:"upgradeState",docs:["[`FleetStarbaseUpgradeState`]"],type:"u8"},{name:"startUpgrade",docs:["When the fleet started participation in the `Starbase` upgrade."],type:"i64"},{name:"endUpgrade",docs:['When the fleet completes participation in the `Starbase` upgrade. This is a "potential" end time, constrained by max resources or user decision.',"If `upgrade_state` is set to `NotFullyFilled`, this is set to the max duration in upgrading state with the partial ingredients deposited."],type:"i64"},{name:"checksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}}]}},{name:"StarbaseUpgradeLevelState",docs:["The upgrade state for one SB lvl"],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Finished",fields:[{name:"timestamp",docs:["Timestamp of the upgrade completion"],type:"i64"}]}]}},{name:"StarbaseUpgradeTask",docs:["`Starbase` upgrade task item"],type:{kind:"struct",fields:[{name:"fleet",docs:["The `Fleet` Pubkey"],type:"publicKey"},{name:"completionTime",docs:["The timestamp at which the fleet completes its contribution to the upgrade"],type:"i64"}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartMiningAsteroidInput",docs:["Struct for data input for `StartMiningAsteroid`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"riskZones",docs:["Data for risk zones"],type:{option:{defined:"RiskZonesDataUnpacked"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:"FleetInput"}}},{name:"levers",docs:["Levers"],type:{option:{defined:"LeversInput"}}},{name:"baseEmissionsBySizeUtil",docs:["Set of derived sub-levers used in `calculate_base_emissions()`."],type:{option:{defined:"BaseEmissionsBySizeUtilInput"}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:"MiscVariablesInput"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"maxHp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"systemRichness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"starType",docs:["`Star` type"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"limit",docs:["The global limit on how many SDUs can be found in a `MAX_SECONDS` second period"],type:{option:"u32"}},{name:"scanCooldown",docs:["The amount of time that must go by before someone can scan a sector again"],type:{option:"u16"}},{name:"probability",docs:["The chance that a player gets an SDU on a legitimate scan, this is meant to be a percentage"],type:{option:"u16"}},{name:"max",docs:["The max number of SDUs that can be found while scanning"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSectorIndex",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"fromSectorIndex",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}}],errors:[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"IncorrectVarsAccountAddress",msg:"Incorrect sage game_id account address."},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"FleetNotInQueue",msg:"Fleet Not in queue"},{code:6072,name:"NeedCleanStarbaseUpgradeQueue",msg:"Need to clean Starbase upgrade queue"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"GenericInvalid",msg:"Generic invalid data"}]};var sagePlayerProfile={},__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$2=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},SagePlayerProfile_1;Object.defineProperty(sagePlayerProfile,"__esModule",{value:!0});sagePlayerProfile.SagePlayerProfile=sagePlayerProfile.sppDataEquals=void 0;const spl_token_1$1=cjs$1,web3_js_1$1=require$$0$1,data_source_1$2=src$5;function sppDataEquals(e,t){return e.version===t.version&&e.playerProfile.equals(t.playerProfile)&&e.gameId.equals(t.gameId)&&e.bump===t.bump}sagePlayerProfile.sppDataEquals=sppDataEquals;let SagePlayerProfile=SagePlayerProfile_1=class{constructor(t,n){this._data=t,this._key=n}get data(){return this._data}get key(){return this._key}static findAddress(t,n,r){return web3_js_1$1.PublicKey.findProgramAddressSync([dist$1.Buffer.from("sage_player_profile"),n.toBuffer(),r.toBuffer()],t.programId)}static registerSagePlayerProfile(t,n,r,a){return i=>__awaiter$1(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSagePlayerProfile().accountsStrict({profile:n,funder:i.publicKey(),sagePlayerProfile:this.findAddress(t,n,r)[0],gameAccounts:{gameId:r,gameState:a},systemProgram:web3_js_1$1.SystemProgram.programId}).instruction(),signers:[i]}]})}static addShipEscrow(t,n,r,a,i,s,l,b,f,u,d,m,p){return _=>__awaiter$1(this,void 0,void 0,function*(){return[{instruction:yield t.methods.addShipEscrow(p).accountsStrict({funder:_.publicKey(),sagePlayerProfile:a,originTokenAccount:s,ship:l,shipEscrowTokenAccount:b,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:i.publicKey(),profile:n,profileFaction:r,gameId:d},gameState:m},tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1$1.SystemProgram.programId}).instruction(),signers:[i,_]}]})}static updateShipEscrow(t,n,r,a,i,s,l,b){return f=>__awaiter$1(this,void 0,void 0,function*(){return[{instruction:yield t.methods.updateShipEscrow(b).accountsStrict({oldShip:n,next:r,starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:a},gameAccounts:{gameId:s,gameState:l}}).instruction(),signers:[]}]})}static removeShipEscrow(t,n,r,a,i,s,l,b,f,u,d,m,p){return _=>__awaiter$1(this,void 0,void 0,function*(){return[{instruction:yield t.methods.removeShipEscrow(p).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:n.publicKey(),profile:r,profileFaction:a,gameId:d},gameState:m},fundsTo:_.publicKey(),sagePlayerProfile:i,destinationTokenAccount:s,ship:l,shipEscrowTokenAccount:b,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:f},tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1$1.SystemProgram.programId}).instruction(),signers:[n]}]})}static removeInvalidShipEscrow(t,n,r,a,i,s,l,b,f,u,d,m,p){return _=>__awaiter$1(this,void 0,void 0,function*(){return[{instruction:yield t.methods.removeInvalidShipEscrow(p).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:n.publicKey(),profile:r,profileFaction:a,gameId:d},gameState:m},fundsTo:_.publicKey(),sagePlayerProfile:i,destinationTokenAccount:s,ship:l,shipEscrowTokenAccount:b,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:f},tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1$1.SystemProgram.programId}).instruction(),signers:[n]}]})}static decodeData(t,n){return(0,data_source_1$2.decodeAccount)(t,n,SagePlayerProfile_1)}};SagePlayerProfile.ACCOUNT_NAME="sagePlayerProfile";SagePlayerProfile.MIN_DATA_SIZE=8+1+32+32+1;SagePlayerProfile=SagePlayerProfile_1=__decorate$2([(0,data_source_1$2.staticImplements)(),__metadata$2("design:paramtypes",[Object,web3_js_1$1.PublicKey])],SagePlayerProfile);sagePlayerProfile.SagePlayerProfile=SagePlayerProfile;var star={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(f,u,d,m){var p=arguments.length,_=p<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,d):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,d,m);else for(var A=f.length-1;A>=0;A--)(S=f[A])&&(_=(p<3?S(_):p>3?S(u,d,_):S(u,d))||_);return p>3&&_&&Object.defineProperty(u,d,_),_},n=commonjsGlobal&&commonjsGlobal.__metadata||function(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,u,d,m){function p(_){return _ instanceof d?_:new d(function(S){S(_)})}return new(d||(d=Promise))(function(_,S){function A(M){try{w(m.next(M))}catch(T){S(T)}}function E(M){try{w(m.throw(M))}catch(T){S(T)}}function w(M){M.done?_(M.value):p(M.value).then(A,E)}w((m=m.apply(f,u||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Star=e.starDataEquals=e.StarType=void 0;const i=require$$0$1,s=src$5;(function(f){f[f.WhiteDwarf=0]="WhiteDwarf",f[f.RedDwarf=1]="RedDwarf",f[f.Solar=2]="Solar",f[f.HotBlue=3]="HotBlue",f[f.RedGiant=4]="RedGiant"})(e.StarType||(e.StarType={}));function l(f,u){return f.version===u.version&&(0,s.arrayDeepEquals)(f.sector,u.sector,(d,m)=>d.eq(m))&&f.gameId.equals(u.gameId)&&f.size.eq(u.size)&&(0,s.arrayDeepEquals)(f.name,u.name,(d,m)=>d===m)&&(0,s.arrayDeepEquals)(f.subCoordinates,u.subCoordinates,(d,m)=>d.eq(m))&&f.starType===u.starType}e.starDataEquals=l;let b=a=class{constructor(u,d){this._data=u,this._key=d}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,s.byteArrayToString)(this.data.name)}static registerStar(u){const{program:d,key:m,profile:p,star:_,sector:S,gameId:A,input:E}=u;return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerStar(Object.assign(Object.assign({},E),{name:(0,s.stringToByteArray)(E.name,64),starType:E.starType})).accountsStrict({gameAndProfile:{key:m.publicKey(),profile:p,gameId:A},funder:w.publicKey(),star:_.publicKey(),sector:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[m,w,_]}]})}static updateStar(u){const{profile:d,key:m,program:p,star:_,gameId:S,input:A}=u;return()=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.updateStar({keyIndex:A.keyIndex,name:A.name==null?null:(0,s.stringToByteArray)(A.name,64),size:A.size==null?null:A.size,starType:A.starType==null?null:A.starType}).accountsStrict({gameAndProfile:{key:m.publicKey(),profile:d,gameId:S},star:_}).instruction(),signers:[m]}]})}static decodeData(u,d){return(0,s.decodeAccount)(u,d,a)}};b.ACCOUNT_NAME="star",b.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+8,b=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey])],b),e.Star=b})(star);var starbase={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(u,d,m,p){var _=arguments.length,S=_<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,m):p,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(u,d,m,p);else for(var E=u.length-1;E>=0;E--)(A=u[E])&&(S=(_<3?A(S):_>3?A(d,m,S):A(d,m))||S);return _>3&&S&&Object.defineProperty(d,m,S),S},n=commonjsGlobal&&commonjsGlobal.__metadata||function(u,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,d)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,d,m,p){function _(S){return S instanceof m?S:new m(function(A){A(S)})}return new(m||(m=Promise))(function(S,A){function E(T){try{M(p.next(T))}catch(v){A(v)}}function w(T){try{M(p.throw(T))}catch(v){A(v)}}function M(T){T.done?S(T.value):_(T.value).then(E,w)}M((p=p.apply(u,d||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.Starbase=e.starbaseDataEquals=e.StarbaseState=e.StarbaseFaction=void 0;const i=require$$0$1,s=src$5;(function(u){u[u.Unaligned=0]="Unaligned",u[u.MUD=1]="MUD",u[u.ONI=2]="ONI",u[u.Ustur=3]="Ustur"})(e.StarbaseFaction||(e.StarbaseFaction={})),function(u){u[u.Active=0]="Active",u[u.Destroyed=1]="Destroyed"}(e.StarbaseState||(e.StarbaseState={}));const l=6;function b(u,d){return u.version===d.version&&u.gameId.equals(d.gameId)&&(0,s.arrayDeepEquals)(u.sector,d.sector,(m,p)=>m.eq(p))&&u.craftingFacility.equals(d.craftingFacility)&&(0,s.arrayDeepEquals)(u.name,d.name,(m,p)=>m===p)&&(0,s.arrayDeepEquals)(u.subCoordinates,d.subCoordinates,(m,p)=>m.eq(p))&&u.faction===d.faction&&u.bump===d.bump&&u.seqId===d.seqId&&u.state===d.state&&u.level===d.level&&u.hp.eq(d.hp)&&u.sp.eq(d.sp)&&u.sectorRingAvailable===d.sectorRingAvailable&&u.upgradeState.eq(d.upgradeState)&&u.builtDestroyedTimestamp.eq(d.builtDestroyedTimestamp)&&u.numUpgradingFleets.eq(d.numUpgradingFleets)&&u.totalUpgradeRate.eq(d.totalUpgradeRate)&&u.receivedUpgradeMaterials.eq(d.receivedUpgradeMaterials)&&u.requiredUpgradeMaterials.eq(d.requiredUpgradeMaterials)&&u.lastUpdatedRateTimestamp.eq(d.lastUpdatedRateTimestamp)}e.starbaseDataEquals=b;let f=a=class{constructor(d,m){this._data=d,this._key=m}get data(){return this._data}get key(){return this._key}isCentralSpaceStation(){return this.data.level>=l}static findAddress(d,m,p){return i.PublicKey.findProgramAddressSync([dist$1.Buffer.from("Starbase"),m.toBuffer(),p[0].toTwos(64).toArrayLike(dist$1.Buffer,"le",8),p[1].toTwos(64).toArrayLike(dist$1.Buffer,"le",8)],d.programId)}static registerStarbase(d,m,p,_,S,A,E){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerStarbase(E).accountsStrict({funder:w.publicKey(),starbase:this.findAddress(d,S,E.sectorCoordinates)[0],sector:_,gameStateAndProfile:{gameAndProfile:{key:m.publicKey(),profile:p,gameId:S},gameState:A},systemProgram:i.SystemProgram.programId}).instruction(),signers:[m,w]}]})}static updateStarbase(d,m,p,_,S,A,E,w){const M=[];return[E,w].forEach(T=>T&&M.push({pubkey:T,isSigner:!1,isWritable:!1})),T=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateStarbase(A).accountsStrict({gameAndProfile:{key:p.publicKey(),profile:_,gameId:S},funder:T.publicKey(),starbase:m,systemProgram:i.SystemProgram.programId}).remainingAccounts(M).instruction(),signers:[p,T]}]})}static decodeData(d,m){return(0,s.decodeAccount)(d,m,a)}};f.ACCOUNT_NAME="starbase",f.MIN_DATA_SIZE=8+1+32+8*2+32+64+8*2+1+1+2+1+1+8+8+1+8+8+8+8+8+8+8,f=a=t([(0,s.staticImplements)(),n("design:paramtypes",[Object,i.PublicKey])],f),e.Starbase=f})(starbase);var starbasePlayer={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(d,m,p,_){var S=arguments.length,A=S<3?m:_===null?_=Object.getOwnPropertyDescriptor(m,p):_,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(d,m,p,_);else for(var w=d.length-1;w>=0;w--)(E=d[w])&&(A=(S<3?E(A):S>3?E(m,p,A):E(m,p))||A);return S>3&&A&&Object.defineProperty(m,p,A),A},n=commonjsGlobal&&commonjsGlobal.__metadata||function(d,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,m)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(d,m,p,_){function S(A){return A instanceof p?A:new p(function(E){E(A)})}return new(p||(p=Promise))(function(A,E){function w(v){try{T(_.next(v))}catch(D){E(D)}}function M(v){try{T(_.throw(v))}catch(D){E(D)}}function T(v){v.done?A(v.value):S(v.value).then(w,M)}T((_=_.apply(d,m||[])).next())})},a;Object.defineProperty(e,"__esModule",{value:!0}),e.StarbasePlayer=e.starbasePlayerDataEquals=e.STAR_BASE_PLAYER_MIN_DATA_SIZE=void 0;const i=cjs$1,s=require$$0$1,l=src$2,b=src$5;e.STAR_BASE_PLAYER_MIN_DATA_SIZE=8+1+32+32+32+32+1+8+8+8+4+4;function f(d,m){return d.version===m.version&&d.playerProfile.equals(m.playerProfile)&&d.gameId.equals(m.gameId)&&d.starbase.equals(m.starbase)&&d.sagePlayerProfile.equals(m.sagePlayerProfile)&&d.bump===m.bump&&d.shipEscrowCount==m.shipEscrowCount&&d.updatedShipEscrowCount==m.updatedShipEscrowCount&&d.updateId.eq(m.updateId)&&d.totalCrew.eq(m.totalCrew)&&d.busyCrew.eq(m.busyCrew)}e.starbasePlayerDataEquals=f;let u=a=class{constructor(m,p,_){this._data=m,this._key=p,this._wrappedShipEscrows=_}get data(){return this._data}get key(){return this._key}get wrappedShipEscrows(){return this._wrappedShipEscrows||[]}static findAddress(m,p,_,S){const A=new ArrayBuffer(2),E=new DataView(A);E.setUint16(0,S,!0);const w=new Uint8Array(E.buffer);return s.PublicKey.findProgramAddressSync([dist$1.Buffer.from("starbase_player"),p.toBuffer(),_.toBuffer(),w],m.programId)}static findCertificateMintAddress(m,p,_,S){const A=new ArrayBuffer(2),E=new DataView(A);E.setUint16(0,S,!0);const w=new Uint8Array(E.buffer);return s.PublicKey.findProgramAddressSync([dist$1.Buffer.from("CertificateMint"),p.toBuffer(),_.toBuffer(),w],m.programId)}static registerStarbasePlayer(m,p,_,S,A,E,w){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.registerStarbasePlayer().accountsStrict({profileFaction:p,funder:M.publicKey(),gameAccounts:{gameId:A,gameState:E},sagePlayerProfile:_,starbase:S,starbasePlayer:this.findAddress(m,S,_,w)[0],systemProgram:s.SystemProgram.programId}).instruction(),signers:[M]}]})}static syncStarbasePlayer(m,p,_,S,A){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.syncStarbasePlayer().accountsStrict({starbaseAndStarbasePlayer:{starbase:_,starbasePlayer:p},gameAccounts:{gameId:S,gameState:A}}).instruction(),signers:[]}]})}static createCargoPod(m,p,_,S,A,E,w,M,T,v,D){const L=l.CargoPod.findAddress(p,dist$1.Buffer.from(D.podSeeds))[0];return I=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.createCargoPod(D).accountsStrict({funder:I.publicKey(),starbaseAndStarbasePlayer:{starbase:w,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:A,profileFaction:E,gameId:T},gameState:v},cargoPod:L,cargoStatsDefinition:M,cargoProgram:p.programId,systemProgram:s.SystemProgram.programId}).instruction(),signers:[S,I]}]})}static depositCargoToGame(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.depositCargoToGame($).accountsStrict({starbaseAndStarbasePlayer:{starbase:w,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:A,profileFaction:E,gameId:I},gameState:k},cargoPod:M,cargoType:T,cargoStatsDefinition:v,tokenFrom:D,tokenTo:L,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S]}]})}static withdrawCargoFromGame(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$,R,O){return j=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.withdrawCargoFromGame(O).accountsStrict({fundsTo:A==="funder"?j.publicKey():A,starbaseAndStarbasePlayer:{starbase:M,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:E,profileFaction:w,gameId:$},gameState:R},cargoPod:T,cargoType:v,cargoStatsDefinition:D,tokenFrom:L,tokenTo:I,tokenMint:k,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S]}]})}static transferCargoAtStarbase(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$,R,O,j){return C=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.transferCargoAtStarbase(j).accountsStrict({fundsTo:A==="funder"?C.publicKey():A,starbaseAndStarbasePlayer:{starbase:M,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:E,profileFaction:w,gameId:R},gameState:O},cargoPodFrom:T,cargoPodTo:v,cargoType:D,cargoStatsDefinition:L,tokenFrom:I,tokenTo:k,tokenMint:$,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S]}]})}static closeStarbaseCargoTokenAccount(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$,R){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.closeStarbaseCargoTokenAccount(R).accountsStrict({fundsTo:A==="funder"?O.publicKey():A,starbaseAndStarbasePlayer:{starbase:M,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:E,profileFaction:w,gameId:k},gameState:$},cargoPod:T,cargoType:v,cargoStatsDefinition:D,token:L,tokenMint:I,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S]}]})}static removeCargoPod(m,p,_,S,A,E,w,M,T,v,D,L){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.removeCargoPod(L).accountsStrict({fundsTo:w==="funder"?I.publicKey():w,starbaseAndStarbasePlayer:{starbase:M,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:A,profileFaction:E,gameId:v},gameState:D},cargoPod:T,cargoProgram:p.programId,systemProgram:s.SystemProgram.programId}).instruction(),signers:[S]}]})}static createCertificateMint(m,p,_,S,A){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.createCertificateMint().accountsStrict({funder:E.publicKey(),starbase:p,cargoMint:_,cargoType:A,certificateMint:S,rent:s.SYSVAR_RENT_PUBKEY,tokenProgram:i.TOKEN_PROGRAM_ID,systemProgram:s.SystemProgram.programId}).instruction(),signers:[E]}]})}static mintCertificate(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$,R,O,j){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.mintCertificate(j.keyIndex,j.amount).accountsStrict({starbaseAndStarbasePlayer:{starbase:w,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:A,profileFaction:E,gameId:R},gameState:O},certificateTokenTo:D,certificateMint:L,cargoTokenFrom:I,cargoTokenTo:k,cargoMint:$,cargoPod:M,cargoType:T,cargoStatsDefinition:v,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S]}]})}static redeemCertificate(m,p,_,S,A,E,w,M,T,v,D,L,I,k,$,R,O,j,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield m.methods.redeemCertificate(C.keyIndex,C.amount).accountsStrict({certificateOwnerAuthority:L.publicKey(),starbaseAndStarbasePlayer:{starbase:w,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:S.publicKey(),profile:A,profileFaction:E,gameId:O},gameState:j},certificateTokenFrom:D,certificateMint:I,cargoTokenFrom:k,cargoTokenTo:$,cargoMint:R,cargoPod:M,cargoType:T,cargoStatsDefinition:v,cargoProgram:p.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[S,L]}]})}static decodeData(m,p){return(0,b.decodeAccountWithRemaining)(m,p,a,(S,A)=>Array(A.shipEscrowCount).fill(0).map((E,w)=>p.coder.types.decode("WrappedShipEscrow",S.subarray(48*w).subarray(0,48))))}};u.ACCOUNT_NAME="starbasePlayer",u.MIN_DATA_SIZE=e.STAR_BASE_PLAYER_MIN_DATA_SIZE,u=a=t([(0,b.staticImplements)(),n("design:paramtypes",[Object,s.PublicKey,Array])],u),e.StarbasePlayer=u})(starbasePlayer);var surveyDataUnitTracker={},__decorate$1=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata$1=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{f(r.next(u))}catch(d){s(d)}}function b(u){try{f(r.throw(u))}catch(d){s(d)}}function f(u){u.done?i(u.value):a(u.value).then(l,b)}f((r=r.apply(e,t||[])).next())})},SurveyDataUnitTracker_1;Object.defineProperty(surveyDataUnitTracker,"__esModule",{value:!0});surveyDataUnitTracker.SurveyDataUnitTracker=surveyDataUnitTracker.createSurveyDataUnitTrackerAccountInstruction=surveyDataUnitTracker.surveyDataUnitTrackerDataEquals=void 0;const anchor_1=require$$0,spl_token_1=cjs$1,web3_js_1=require$$0$1,data_source_1$1=src$5;function surveyDataUnitTrackerDataEquals(e,t){return e.version===t.version&&e.gameId.equals(t.gameId)&&e.mint.equals(t.mint)&&e.signer.equals(t.signer)&&(0,data_source_1$1.arrayDeepEquals)(e.surveyDataUnitBySecond,t.surveyDataUnitBySecond,(n,r)=>n===r)&&e.scanCooldown===t.scanCooldown&&e.probability===t.probability&&e.max===t.max&&e.limit===t.limit&&e.numSectors===t.numSectors&&e.lastUpdate.eq(t.lastUpdate)}surveyDataUnitTracker.surveyDataUnitTrackerDataEquals=surveyDataUnitTrackerDataEquals;function createSurveyDataUnitTrackerAccountInstruction(e,t,n){const r=SurveyDataUnitTracker.MIN_DATA_SIZE+SurveyDataUnitTracker.NUM_SECTORS*SurveyDataUnitTracker.SECTOR_SIZE;return Promise.resolve(a=>__awaiter(this,void 0,void 0,function*(){return{instruction:web3_js_1.SystemProgram.createAccount({fromPubkey:a.publicKey(),newAccountPubkey:n.publicKey(),space:r,lamports:yield e.getMinimumBalanceForRentExemption(r),programId:t.programId}),signers:[n]}}))}surveyDataUnitTracker.createSurveyDataUnitTrackerAccountInstruction=createSurveyDataUnitTrackerAccountInstruction;let SurveyDataUnitTracker=SurveyDataUnitTracker_1=class{constructor(t,n,r){this._data=t,this._key=n,this._sectors=r}get data(){return this._data}get key(){return this._key}get sectors(){return this._sectors||[]}static findSectorIndex(t){return(t[1].toNumber()+SurveyDataUnitTracker_1.MAX_COORDINATE)*SurveyDataUnitTracker_1.GRID_WIDTH+t[0].toNumber()+SurveyDataUnitTracker_1.MAX_COORDINATE}static findSignerAddress(t,n){return web3_js_1.PublicKey.findProgramAddressSync([dist$1.Buffer.from("SurveyDataUnitTracker"),n.toBuffer()],t.programId)}static findSignerTokenAccountAddress(t){return(0,spl_token_1.getAssociatedTokenAddressSync)(t.mint,t.signer,!0)}static fundSurveyDataUnitTrackerBank(t,n,r,a){const i=this.findSignerTokenAccountAddress(t);return(0,data_source_1$1.transferToTokenAccount)(n,r,i,a)}static registerSurveyDataUnitTrackerWithConnection(t,n,r,a,i,s,l,b){return __awaiter(this,void 0,void 0,function*(){return[yield createSurveyDataUnitTrackerAccountInstruction(n,t,i),this.registerSurveyDataUnitTracker(t,r,a,i,s,l,b)]})}static registerSurveyDataUnitTracker(t,n,r,a,i,s,l){return b=>__awaiter(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSurveyDataUnitTracker(l).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:s},funder:b.publicKey(),surveyDataUnitTracker:a.publicKey(),mint:i,systemProgram:web3_js_1.SystemProgram.programId}).instruction(),signers:[n,b]}]})}static updateSurveyDataUnitTracker(t,n,r,a,i,s,l){const b=l?[{pubkey:l,isSigner:!1,isWritable:!1}]:[],f=Object.assign(Object.assign({},s),{limit:s.limit==null?null:s.limit,scanCooldown:s.scanCooldown==null?null:s.scanCooldown,probability:s.probability==null?null:s.probability,max:s.max==null?null:s.max});return()=>__awaiter(this,void 0,void 0,function*(){return[{instruction:yield t.methods.updateSurveyDataUnitTracker(f).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:i},surveyDataUnitTracker:a}).remainingAccounts(b).instruction(),signers:[n]}]})}static drainSurveyDataUnitsBank(t,n,r,a,i,s,l,b,f){return u=>__awaiter(this,void 0,void 0,function*(){return[{instruction:yield t.methods.drainSurveyDataUnitsBank(f).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:s},fundsTo:a==="funder"?u.publicKey():a,surveyDataUnitTracker:i,surveyDataUnitTrackerSigner:this.findSignerAddress(t,i)[0],tokenFrom:l,tokenTo:b,tokenProgram:spl_token_1.TOKEN_PROGRAM_ID}).instruction(),signers:[n]}]})}static deregisterSurveyDataUnitTracker(t,n,r,a,i,s,l){return b=>__awaiter(this,void 0,void 0,function*(){return[{instruction:yield t.methods.deregisterSurveyDataUnitTracker(l).accountsStrict({gameAndProfile:{key:n.publicKey(),profile:r,gameId:s},surveyDataUnitTracker:a,fundsTo:i==="funder"?b.publicKey():i}).instruction(),signers:[n]}]})}static scanForSurveyDataUnits(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S,A,E,w){return()=>__awaiter(this,void 0,void 0,function*(){return[{instruction:yield t.methods.scanForSurveyDataUnits(w).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:s,owningProfile:a,owningProfileFaction:i,key:r.publicKey()},gameId:A},gameState:E},surveyDataUnitTracker:l,surveyDataUnitTrackerSigner:this.findSignerAddress(t,l)[0],cargoHold:b,sduCargoType:f,repairKitCargoType:u,cargoStatsDefinition:d,sduTokenFrom:m,sduTokenTo:p,repairKitTokenFrom:_,repairKitMint:S,cargoProgram:n.programId,tokenProgram:spl_token_1.TOKEN_PROGRAM_ID,recentSlothashes:web3_js_1.SYSVAR_SLOT_HASHES_PUBKEY,instructionsSysvar:web3_js_1.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:[r]}]})}static decodeData(t,n){return(0,data_source_1$1.decodeAccountWithRemaining)(t,n,SurveyDataUnitTracker_1,(r,a)=>Array(a.numSectors).fill(0).map((i,s)=>new anchor_1.BN(r.subarray(SurveyDataUnitTracker_1.SECTOR_SIZE*s).subarray(0,SurveyDataUnitTracker_1.SECTOR_SIZE),10,"le")))}};SurveyDataUnitTracker.ACCOUNT_NAME="surveyDataUnitTracker";SurveyDataUnitTracker.MAX_SECONDS=60;SurveyDataUnitTracker.MAX_COORDINATE=50;SurveyDataUnitTracker.GRID_WIDTH=100;SurveyDataUnitTracker.SECTOR_SIZE=8;SurveyDataUnitTracker.NUM_SECTORS=SurveyDataUnitTracker_1.GRID_WIDTH*SurveyDataUnitTracker_1.GRID_WIDTH;SurveyDataUnitTracker.MIN_DATA_SIZE=8+1+32+32+32+1+4*SurveyDataUnitTracker_1.MAX_SECONDS+2+2+2+4+2+8;SurveyDataUnitTracker=SurveyDataUnitTracker_1=__decorate$1([(0,data_source_1$1.staticImplements)(),__metadata$1("design:paramtypes",[Object,web3_js_1.PublicKey,Array])],SurveyDataUnitTracker);surveyDataUnitTracker.SurveyDataUnitTracker=SurveyDataUnitTracker;(function(e){var t=commonjsGlobal&&commonjsGlobal.__decorate||function(I,k,$,R){var O=arguments.length,j=O<3?k:R===null?R=Object.getOwnPropertyDescriptor(k,$):R,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,k,$,R);else for(var N=I.length-1;N>=0;N--)(C=I[N])&&(j=(O<3?C(j):O>3?C(k,$,j):C(k,$))||j);return O>3&&j&&Object.defineProperty(k,$,j),j},n=commonjsGlobal&&commonjsGlobal.__metadata||function(I,k){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,k)};Object.defineProperty(e,"__esModule",{value:!0}),e.SageProgram=e.sageErrorMap=e.SAGE_IDL=void 0;const r=require$$0,a=src$5,i=craftingInstance,s=disbandedFleet,l=fleet,b=fleetShips,f=game,u=gameState,d=sage,m=mineItem,p=planet,_=resource,S=sagePlayerProfile,A=sector,E=ship,w=star,M=starbase,T=starbasePlayer,v=surveyDataUnitTracker;var D=sage;Object.defineProperty(e,"SAGE_IDL",{enumerable:!0,get:function(){return D.IDL}}),e.sageErrorMap=(0,a.generateErrorMap)(d.IDL);let L=class extends a.ListenProgram{constructor(k){super(k,{craftingInstance:i.CraftingInstance,disbandedFleet:s.DisbandedFleet,fleet:l.Fleet,fleetShips:b.FleetShips,game:f.Game,gameState:u.GameState,mineItem:m.MineItem,planet:p.Planet,resource:_.Resource,sagePlayerProfile:S.SagePlayerProfile,sector:A.Sector,ship:E.Ship,star:w.Star,starbase:M.Starbase,starbasePlayer:T.StarbasePlayer,surveyDataUnitTracker:v.SurveyDataUnitTracker})}static buildProgram(k,$,R){return new r.Program(d.IDL,k,$,R)}};L=t([(0,a.staticImplements)(),n("design:paramtypes",[Object])],L),e.SageProgram=L})(constants$4);var permissions={},__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},__metadata=commonjsGlobal&&commonjsGlobal.__metadata||function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},SagePermissions_1;Object.defineProperty(permissions,"__esModule",{value:!0});permissions.SagePermissions=void 0;const data_source_1=src$5;let SagePermissions=SagePermissions_1=class{constructor(t,n,r,a,i,s,l,b,f,u,d,m,p,_,S,A,E,w,M,T,v,D,L,I){this.manageGame=t,this.manageSector=n,this.manageStar=r,this.managePlanet=a,this.manageShip=i,this.manageSagePlayerProfile=s,this.manageStarbase=l,this.manageMineItem=b,this.manageResource=f,this.removeShipEscrow=u,this.moveFleet=d,this.transitionFromLoadingBay=m,this.transitionFromIdle=p,this.rentFleet=_,this.doCrafting=S,this.manageCargoPod=A,this.addRemoveCargo=E,this.doStarbaseUpgrades=w,this.manageFleet=M,this.manageFleetCargo=T,this.doMining=v,this.respawn=D,this.manageSurveyDataUnit=L,this.scanSurveyDataUnit=I}contains(t){return this.and(t).eq(t)}getPermissions(){const t=(0,data_source_1.fixedSizeArray)(8,0);return t[0]=(this.manageGame?1<<0:0)|(this.manageSector?1<<1:0)|(this.manageStar?1<<2:0)|(this.managePlanet?1<<3:0)|(this.manageShip?1<<4:0)|(this.manageSagePlayerProfile?1<<5:0)|(this.manageStarbase?1<<6:0)|(this.manageMineItem?1<<7:0),t[1]=(this.manageResource?1<<0:0)|(this.removeShipEscrow?1<<1:0)|(this.moveFleet?1<<2:0)|(this.transitionFromLoadingBay?1<<3:0)|(this.transitionFromIdle?1<<4:0)|(this.rentFleet?1<<5:0)|(this.doCrafting?1<<6:0)|(this.manageCargoPod?1<<7:0),t[2]=(this.addRemoveCargo?1<<0:0)|(this.doStarbaseUpgrades?1<<1:0)|(this.manageFleet?1<<2:0)|(this.manageFleetCargo?1<<3:0)|(this.doMining?1<<4:0)|(this.respawn?1<<5:0)|(this.manageSurveyDataUnit?1<<6:0)|(this.scanSurveyDataUnit?1<<7:0),t}static empty(){return new SagePermissions_1(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new SagePermissions_1(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static manageGamePermissions(){return SagePermissions_1.permissionsBuilder("manageGame")}static manageSectorPermissions(){return SagePermissions_1.permissionsBuilder("manageSector")}static manageStarPermissions(){return SagePermissions_1.permissionsBuilder("manageStar")}static managePlanetPermissions(){return SagePermissions_1.permissionsBuilder("managePlanet")}static manageShipPermissions(){return SagePermissions_1.permissionsBuilder("manageShip")}static manageSagePlayerProfilePermissions(){return SagePermissions_1.permissionsBuilder("manageSagePlayerProfile")}static manageStarbasePermissions(){return SagePermissions_1.permissionsBuilder("manageStarbase")}static manageMineItemPermissions(){return SagePermissions_1.permissionsBuilder("manageMineItem")}static manageResourcePermissions(){return SagePermissions_1.permissionsBuilder("manageResource")}static removeShipEscrowPermissions(){return SagePermissions_1.permissionsBuilder("removeShipEscrow")}static moveFleetPermissions(){return SagePermissions_1.permissionsBuilder("moveFleet")}static transitionFromLoadingBayPermissions(){return SagePermissions_1.permissionsBuilder("transitionFromLoadingBay")}static transitionFromIdlePermissions(){return SagePermissions_1.permissionsBuilder("transitionFromIdle")}static rentFleetPermissions(){return SagePermissions_1.permissionsBuilder("rentFleet")}static doCraftingPermissions(){return SagePermissions_1.permissionsBuilder("doCrafting")}static manageCargoPodPermissions(){return SagePermissions_1.permissionsBuilder("manageCargoPod")}static addRemoveCargoPermissions(){return SagePermissions_1.permissionsBuilder("addRemoveCargo")}static doStarbaseUpgradesPermissions(){return SagePermissions_1.permissionsBuilder("doStarbaseUpgrades")}static manageFleetPermissions(){return SagePermissions_1.permissionsBuilder("manageFleet")}static manageFleetCargoPermissions(){return SagePermissions_1.permissionsBuilder("manageFleetCargo")}static doMiningPermissions(){return SagePermissions_1.permissionsBuilder("doMining")}static respawnPermissions(){return SagePermissions_1.permissionsBuilder("respawn")}static manageSurveyDataUnitPermissions(){return SagePermissions_1.permissionsBuilder("manageSurveyDataUnit")}static scanSurveyDataUnitPermissions(){return SagePermissions_1.permissionsBuilder("scanSurveyDataUnit")}static fromPermissions(t){return new SagePermissions_1((t[0]&1<<0)!==0,(t[0]&1<<1)!==0,(t[0]&1<<2)!==0,(t[0]&1<<3)!==0,(t[0]&1<<4)!==0,(t[0]&1<<5)!==0,(t[0]&1<<6)!==0,(t[0]&1<<7)!==0,(t[1]&1<<0)!==0,(t[1]&1<<1)!==0,(t[1]&1<<2)!==0,(t[1]&1<<3)!==0,(t[1]&1<<4)!==0,(t[1]&1<<5)!==0,(t[1]&1<<6)!==0,(t[1]&1<<7)!==0,(t[2]&1<<0)!==0,(t[2]&1<<1)!==0,(t[2]&1<<2)!==0,(t[2]&1<<3)!==0,(t[2]&1<<4)!==0,(t[2]&1<<5)!==0,(t[2]&1<<6)!==0,(t[2]&1<<7)!==0)}and(t){return new SagePermissions_1(this.manageGame&&t.manageGame,this.manageSector&&t.manageSector,this.manageStar&&t.manageStar,this.managePlanet&&t.managePlanet,this.manageShip&&t.manageShip,this.manageSagePlayerProfile&&t.manageSagePlayerProfile,this.manageStarbase&&t.manageStarbase,this.manageMineItem&&t.manageMineItem,this.manageResource&&t.manageResource,this.removeShipEscrow&&t.removeShipEscrow,this.moveFleet&&t.moveFleet,this.transitionFromLoadingBay&&t.transitionFromLoadingBay,this.transitionFromIdle&&t.transitionFromIdle,this.rentFleet&&t.rentFleet,this.doCrafting&&t.doCrafting,this.manageCargoPod&&t.manageCargoPod,this.addRemoveCargo&&t.addRemoveCargo,this.doStarbaseUpgrades&&t.doStarbaseUpgrades,this.manageFleet&&t.manageFleet,this.manageFleetCargo&&t.manageFleetCargo,this.doMining&&t.doMining,this.respawn&&t.respawn,this.manageSurveyDataUnit&&t.manageSurveyDataUnit,this.scanSurveyDataUnit&&t.scanSurveyDataUnit)}or(t){return new SagePermissions_1(this.manageGame||t.manageGame,this.manageSector||t.manageSector,this.manageStar||t.manageStar,this.managePlanet||t.managePlanet,this.manageShip||t.manageShip,this.manageSagePlayerProfile||t.manageSagePlayerProfile,this.manageStarbase||t.manageStarbase,this.manageMineItem||t.manageMineItem,this.manageResource||t.manageResource,this.removeShipEscrow||t.removeShipEscrow,this.moveFleet||t.moveFleet,this.transitionFromLoadingBay||t.transitionFromLoadingBay,this.transitionFromIdle||t.transitionFromIdle,this.rentFleet||t.rentFleet,this.doCrafting||t.doCrafting,this.manageCargoPod||t.manageCargoPod,this.addRemoveCargo||t.addRemoveCargo,this.doStarbaseUpgrades||t.doStarbaseUpgrades,this.manageFleet||t.manageFleet,this.manageFleetCargo||t.manageFleetCargo,this.doMining||t.doMining,this.respawn||t.respawn,this.manageSurveyDataUnit||t.manageSurveyDataUnit,this.scanSurveyDataUnit||t.scanSurveyDataUnit)}eq(t){return this.manageGame===t.manageGame&&this.manageSector===t.manageSector&&this.manageStar===t.manageStar&&this.managePlanet===t.managePlanet&&this.manageShip===t.manageShip&&this.manageSagePlayerProfile===t.manageSagePlayerProfile&&this.manageStarbase===t.manageStarbase&&this.manageMineItem===t.manageMineItem&&this.manageResource===t.manageResource&&this.removeShipEscrow===t.removeShipEscrow&&this.moveFleet==t.moveFleet&&this.transitionFromLoadingBay===t.transitionFromLoadingBay&&this.transitionFromIdle===t.transitionFromIdle&&this.rentFleet===t.rentFleet&&this.doCrafting===t.doCrafting&&this.manageCargoPod===t.manageCargoPod&&this.addRemoveCargo===t.addRemoveCargo&&this.doStarbaseUpgrades===t.doStarbaseUpgrades&&this.manageFleet===t.manageFleet&&this.manageFleetCargo===t.manageFleetCargo&&this.doMining===t.doMining&&this.respawn===t.respawn&&this.manageSurveyDataUnit===t.manageSurveyDataUnit&&this.scanSurveyDataUnit===t.scanSurveyDataUnit}static permissionsBuilder(t){const n=Array.isArray(t)?t:[t],r=Object.keys(SagePermissions_1.empty()).map(a=>n.includes(a));if(r.length!=SagePermissions_1.length)throw"Incorrect permissions array";return new SagePermissions_1(...r)}};SagePermissions=SagePermissions_1=__decorate([(0,data_source_1.staticImplements)(),__metadata("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],SagePermissions);permissions.SagePermissions=SagePermissions;var utils={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(A,E,w,M){function T(v){return v instanceof w?v:new w(function(D){D(v)})}return new(w||(w=Promise))(function(v,D){function L($){try{k(M.next($))}catch(R){D(R)}}function I($){try{k(M.throw($))}catch(R){D(R)}}function k($){$.done?v($.value):T($.value).then(L,I)}k((M=M.apply(A,E||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.cleanUpStarbaseCargoPods=e.cleanCargoPodsByStarbasePlayer=e.getCargoPodsByAuthority=e.getStarbasePlayersByProfile=e.betterGetTokenAccountsByOwner=e.getOrCreateAssociatedTokenAccount=e.getTokenAmountToTeachTargetStat=e.getCargoSpaceUsedByTokenAmount=e.getUsedCargoSpace=e.SAGE_CARGO_STAT_VALUE_INDEX=void 0;const n=require$$0,r=cjs$1,a=src$2,i=src$5,s=starbasePlayer;e.SAGE_CARGO_STAT_VALUE_INDEX=0;const l=A=>A.stats[e.SAGE_CARGO_STAT_VALUE_INDEX];e.getUsedCargoSpace=l;const b=(A,E)=>E.mul(A.stats[e.SAGE_CARGO_STAT_VALUE_INDEX]);e.getCargoSpaceUsedByTokenAmount=b;const f=(A,E)=>{const w=A.stats[e.SAGE_CARGO_STAT_VALUE_INDEX];return w.gt(new n.BN(0))?E.div(w):E};e.getTokenAmountToTeachTargetStat=f;const u=(A,E,w,M)=>t(void 0,void 0,void 0,function*(){const T=(0,i.createAssociatedTokenAccount)(E,w,M),v=yield A.getAccountInfo(T.address,"processed"),D=v?null:T.instructions;return Object.assign(Object.assign({},T),{instructions:D,info:v})});e.getOrCreateAssociatedTokenAccount=u;const d=(A,E,w=r.TOKEN_PROGRAM_ID)=>t(void 0,void 0,void 0,function*(){return(yield A.getTokenAccountsByOwner(E,{programId:w})).value.map(M=>(0,r.unpackAccount)(M.pubkey,M.account,w))});e.betterGetTokenAccountsByOwner=d;const m=(A,E,w,M)=>t(void 0,void 0,void 0,function*(){return yield(0,i.readAllFromRPC)(A,E,s.StarbasePlayer,"processed",[{memcmp:{offset:8+1,bytes:w.toBase58()}},{memcmp:{offset:8+1+32,bytes:M.toBase58()}}])});e.getStarbasePlayersByProfile=m;const p=(A,E,w)=>t(void 0,void 0,void 0,function*(){return yield(0,i.readAllFromRPC)(A,E,a.CargoPod,"processed",[{memcmp:{offset:8+1+32,bytes:w.toBase58()}}])});e.getCargoPodsByAuthority=p;const _=(A,E,w,M,T,v,D,L,I,k,$,R)=>t(void 0,void 0,void 0,function*(){const O=[],j=yield(0,e.getCargoPodsByAuthority)(A,w,M);if(j.length>1){let C=j.map(U=>{if(U.type==="error")throw new Error("Error reading CargoPod account");return U.data});const N=C.reduce(function(U,z){return U.data.openTokenAccounts>z.data.openTokenAccounts?U:z});C=C.filter(U=>!U.key.equals(N.key));for(let U=0;U<C.length;U++){const z=C[U],q=yield(0,e.betterGetTokenAccountsByOwner)(A,z.key);if(q.length>0)for(let Z=0;Z<q.length;Z++){const ne=q[Z],ie=a.CargoType.findAddress(w,L,ne.mint,z.data.seqId)[0];if(yield A.getAccountInfo(ie))if(Number(ne.delegatedAmount)>0){const Y=yield(0,e.getOrCreateAssociatedTokenAccount)(A,ne.mint,N.key,!0);Y.instructions&&O.push(Y.instructions);const ee=s.StarbasePlayer.transferCargoAtStarbase(E,w,M,$,"funder",v,D,T,z.key,N.key,ie,L,ne.address,Y.address,ne.mint,I,k,{amount:new n.BN(ne.delegatedAmount.toString()),keyIndex:R});O.push(ee)}else{const Y=s.StarbasePlayer.closeStarbaseCargoTokenAccount(E,w,M,$,"funder",v,D,T,z.key,ie,L,ne.address,ne.mint,I,k,{keyIndex:R});O.push(Y)}}O.push(s.StarbasePlayer.removeCargoPod(E,w,M,$,v,D,"funder",T,z.key,I,k,{keyIndex:R}))}}return O});e.cleanCargoPodsByStarbasePlayer=_;const S=(A,E,w,M,T,v,D,L,I,k)=>t(void 0,void 0,void 0,function*(){const $=[],R=yield(0,e.getStarbasePlayersByProfile)(A,E,M,D);if(R.length>0)for(let O=0;O<R.length;O++){const j=R[O];if(!j||j.type==="error")throw new Error("Error reading StarbasePlayer account");const C=yield(0,e.cleanCargoPodsByStarbasePlayer)(A,E,w,j.key,j.data.data.starbase,M,T,v,D,L,I,k);C.length>0&&$.push(...C)}else console.log("No StarbasePlayer accounts");return $});e.cleanUpStarbaseCargoPods=S})(utils);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,s,l)}:function(r,a,i,s){s===void 0&&(s=i),r[s]=a[i]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants$4,e),n(craftingInstance,e),n(disbandedFleet,e),n(fleet,e),n(fleetShips,e),n(game,e),n(gameState,e),n(mineItem,e),n(permissions,e),n(planet,e),n(resource,e),n(sagePlayerProfile,e),n(sector,e),n(ship,e),n(star,e),n(starbase,e),n(starbasePlayer,e),n(surveyDataUnitTracker,e),n(utils,e)})(src$6);const SAGE_PROGRAM_ID=new PublicKey("SAGEqqFewepDHH6hMDcmWy7yjHPpyKLDnRXKb3Ki8e6"),PLAYER_PROGRAM_ID=new PublicKey("pprofELXjL5Kck7Jn5hCpwAL82DpTkSYBENzahVtbc9"),PROFILE_FACTION_PROGRAM_ID=new PublicKey("pFACSRuobDmvfMKq1bAzwj27t6d2GJhSCHb1VcfnRmq");new PublicKey("CargoM2ocdkk3ubsu5j6ocKNJ5eQivsX1MHFrS3iQwH1");new PublicKey("GameYNgVLn9kd8BQcbHm8jNMqJHWhcZ1YTNy6Pn3FXo5");var SAGE_KEYS=(e=>(e[e.CARGO_MANAGER=1]="CARGO_MANAGER",e[e.SAGE_MANAGER=2]="SAGE_MANAGER",e[e.FLEET_MANAGER=3]="FLEET_MANAGER",e[e.REMOVE_ESCROW=4]="REMOVE_ESCROW",e[e.MANAGE_SHIP=5]="MANAGE_SHIP",e[e.MANAGE_CARGO=6]="MANAGE_CARGO",e))(SAGE_KEYS||{});new BN(0),new BN(-39);export{AnchorProvider as A,src$2 as B,lodash as C,SAGE_KEYS as D,Program as P,QItemSection as Q,SAGE_PROGRAM_ID as S,useDarkProps as a,useModelToggleEmits as b,useDark as c,useTimeout as d,useModelToggle as e,useHistory as f,usePreventScroll as g,getScrollbarWidth as h,QItemLabel as i,QItem as j,useGlobalStore as k,QList as l,src$5 as m,PLAYER_PROGRAM_ID as n,src$1 as o,PROFILE_FACTION_PROGRAM_ID as p,clearSelection as q,getScrollTarget as r,src$6 as s,getVerticalScrollPosition as t,useModelToggleProps as u,getHorizontalScrollPosition as v,setHorizontalScrollPosition as w,setVerticalScrollPosition as x,src$3 as y,cjs$1 as z};
