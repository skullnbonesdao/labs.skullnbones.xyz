import{c as W,a as z}from"./_commonjsHelpers.2cf1d77b.js";import{r as J}from"./vue.runtime.esm-bundler.7e964120.js";import{l as Q}from"./index.5780533a.js";import{b as X}from"./index.ca3a514a.js";var U={exports:{}};/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(N,nn){(function(A,g){N.exports=g(J,Q.exports)})(W,function(y,A){return function(g){var b={};function a(t){if(b[t])return b[t].exports;var u=b[t]={i:t,l:!1,exports:{}};return g[t].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=g,a.c=b,a.d=function(t,u,m){a.o(t,u)||Object.defineProperty(t,u,{enumerable:!0,get:m})},a.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,u){if(u&1&&(t=a(t)),u&8||u&4&&typeof t=="object"&&t&&t.__esModule)return t;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:t}),u&2&&typeof t!="string")for(var O in t)a.d(m,O,function(S){return t[S]}.bind(null,O));return m},a.n=function(t){var u=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(u,"a",u),u},a.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,u)},a.p="",a(a.s=2)}([function(g,b){g.exports=y},function(g,b){g.exports=A},function(g,b,a){g.exports=a(3)},function(g,b,a){a.r(b);var t=a(0),u=a(1),m=a.n(u);function O(o){if(!m.a.autoDrawEnabled){var n=o.getLayer()||o.getStage();n&&n.batchDraw()}}var S={key:!0,style:!0,elm:!0,isRootInsert:!0},w=".vue-konva-event";function M(o,n,e,r){n===void 0&&(n={}),e===void 0&&(e={});var c=o.__konvaNode,l={},s=!1;for(var i in e)if(!S[i]){var h=i.slice(0,2)==="on",j=e[i]!==n[i];if(h&&j){var v=i.substr(2).toLowerCase();v.substr(0,7)==="content"&&(v="content"+v.substr(7,1).toUpperCase()+v.substr(8)),c.off(v+w,e[i])}var x=!n.hasOwnProperty(i);x&&c.setAttr(i,void 0)}for(var f in n)if(!S[f]){var p=f.slice(0,2)==="on",_=e[f]!==n[f];if(p&&_){var d=f.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),n[f]&&(c.off(d+w),c.on(d+w,n[f]))}!p&&(n[f]!==e[f]||r&&n[f]!==c.getAttr(f))&&(s=!0,l[f]=n[f])}s&&(c.setAttrs(l),O(c))}var D="v";function R(o){function n(e){return e.__konvaNode?e:e.parent?n(e.parent):(console.error("vue-konva error: Can not find parent node"),{})}return n(o.parent)}function T(o){if(o!=null&&o.component)return o.component.__konvaNode||T(o.component.subTree)}function V(o){var n=o.el,e=o.component,r=T(o);if((n==null?void 0:n.tagName)&&e&&!r){var c=n&&n.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+c+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return r}function G(o){var n=[];return o.children&&o.children.forEach(function(e){!e.component&&Array.isArray(e.children)&&e.children.forEach(function(r){!r.component&&Array.isArray(r.children)?n.push.apply(n,r.children):n.push(r)}),e.component&&n.push(e)}),n}function C(o,n){var e=G(o),r=[];e.forEach(function(l){var s=V(l);s&&r.push(s)});var c=!1;r.forEach(function(l,s){l.getZIndex()!==s&&(l.setZIndex(s),c=!0)}),c&&O(n)}function E(){return E=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},E.apply(this,arguments)}var $={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(n,e){var r=e.attrs,c=e.slots,l=e.expose;e.emits;var s=Object(t.getCurrentInstance)(),i=Object(t.reactive)({}),h=Object(t.ref)(null),j=new window.Konva.Stage({width:n.config.width,height:n.config.height,container:document.createElement("div")});s.__konvaNode=j,f();function v(){return s.__konvaNode}function x(){return s.__konvaNode}function f(){var p=i||{},_=E({},r,n.config);M(s,_,p,n.__useStrictMode),Object.assign(i,_)}return Object(t.onMounted)(function(){h.value.innerHTML="",j.container(h.value),f()}),Object(t.onUpdated)(function(){f(),C(s.subTree,j)}),Object(t.onBeforeUnmount)(function(){j.destroy()}),Object(t.watch)(function(){return n.config},f,{deep:!0}),l({getStage:x,getNode:v}),function(){var p;return Object(t.h)("div",{ref:h},(p=c.default)===null||p===void 0?void 0:p.call(c))}}};function K(){return K=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},K.apply(this,arguments)}var B=".vue-konva-event",F={Group:!0,Layer:!0,FastLayer:!0,Label:!0},I=function(o){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(e,r){var c=r.attrs,l=r.slots,s=r.expose,i=Object(t.getCurrentInstance)(),h=Object(t.reactive)({}),j=window.Konva[o];if(!j){console.error("vue-konva error: Can not find node "+o);return}var v=new j;i.__konvaNode=v,i.vnode.__konvaNode=v,p();function x(){return i.__konvaNode}function f(){return i.__konvaNode}function p(){var d={};for(var P in i.vnode.props)P.slice(0,2)==="on"&&(d[P]=i.vnode.props[P]);var H=h||{},L=K({},c,e.config,d);M(i,L,H,e.__useStrictMode),Object.assign(h,L)}Object(t.onMounted)(function(){var d=R(i).__konvaNode;d.add(v),O(v)}),Object(t.onUnmounted)(function(){O(v),v.destroy(),v.off(B)}),Object(t.onUpdated)(function(){p(),C(i.subTree,v)}),Object(t.watch)(function(){return e.config},p,{deep:!0}),s({getStage:f,getNode:x});var _=F[o];return _?function(){var d;return Object(t.h)("template",{},(d=l.default)===null||d===void 0?void 0:d.call(l))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var Y=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],Z=[{name:"Stage",component:$}].concat(Y.map(function(o){return{name:o,component:I(o)}})),k={install:function(n,e){var r=D;e&&e.prefix&&(r=e.prefix),Z.forEach(function(c){n.component(""+r+c.name,c.component)})}};b.default=k}]).default})})(U);var q=z(U.exports),an=X(({app:N})=>{N.use(q),console.log("[booted] Conva")});export{an as default};
